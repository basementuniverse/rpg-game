(()=>{var t={578:t=>{"use strict";t.exports=JSON.parse('{"items":[{"name":"logo","type":"image","args":["images/logo.png"]},{"name":"testfont","type":"font","args":["fonts/aniron.ttf"]},{"name":"testdata1","type":"json","args":["json/testdata1.json"]},{"name":"testdata2","type":"json","args":["json/testdata2.json"]},{"name":"testdata3","type":"json","args":["json/testdata3.json"]},{"name":"testsound","type":"audio","args":["sounds/blip1.wav"]}]}')},44:t=>{Math.floatEquals=(t,e,n=Number.EPSILON)=>Math.abs(t-e)<n,Math.clamp=(t,e=0,n=1)=>t<e?e:t>n?n:t,Math.frac=t=>t>=0?t-Math.floor(t):t-Math.ceil(t),Math.lerp=(t,e,n)=>t+(e-t)*n,Math.unlerp=(t,e,n)=>(n-t)/(e-t),Math.blerp=(t,e,n,a,r,o)=>Math.lerp(Math.lerp(t,e,r),Math.lerp(n,a,r),o),Math.remap=(t,e,n,a,r)=>a+(t-e)*(r-a)/(n-e),Math.smoothstep=(t,e,n)=>Math.lerp(t,e,3*Math.pow(n,2)-2*Math.pow(n,3)),Math.radians=t=>Math.PI/180*t,Math.degrees=t=>180/Math.PI*t,Math.randomBetween=(t,e)=>Math.random()*(e-t)+t,Math.randomIntBetween=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,Math.cltRandom=(t=.5,e=.5,n=2)=>{let a=0;for(let t=n;t--;)a+=Math.random();return t+(a-n/2)/(n/2)*e},Math.cltRandomInt=(t,e)=>Math.floor(t+Math.cltRandom(.5,.5,2)*(e+1-t)),Math.weightedRandom=t=>{let e=t.reduce(((t,e)=>t+e),0),n=0;const a=Math.random()*e;for(;e>a;)e-=t[n++];return n-1},Math.lerpArray=(t,e,n=Math.lerp)=>{const a=e*(t.length-1),r=Math.clamp(Math.trunc(a),0,t.length-1);return n(t[r]||0,t[r+1]||0,Math.frac(a))},Math.dot=(t,e)=>t.reduce(((t,n,a)=>t+n*e[a]),0),Math.factorial=t=>{let e=1;for(let n=2;n<=t;n++)e*=n;return e},Math.permutation=(t,e)=>Math.factorial(t)/Math.factorial(t-e),Math.combination=(t,e)=>Math.factorial(t)/(Math.factorial(e)*Math.factorial(t-e)),Array.times=(t,e)=>Array(e).fill(0).map(((e,n)=>t(n))),Array.range=t=>Array.times((t=>t),t),Object.defineProperty(Array.prototype,"at",{value:function(t){const e=this.length;return this[t<0?e-Math.abs(t+1)%e-1:t%e]}}),Object.defineProperty(Array.prototype,"chunk",{value:function(t){return Array.times((e=>this.slice(e*t,e*t+t)),Math.ceil(this.length/t))}}),Object.defineProperty(Array.prototype,"shuffle",{value:function(){return this.map((t=>[Math.random(),t])).sort(((t,e)=>t[0]-e[0])).map((t=>t[1]))}});const e=(t,e)=>t||e?"object"==typeof t?{x:t.x||0,y:t.y||0}:null==e?{x:t,y:t}:{x:t,y:e}:{x:0,y:0};e.components=t=>[t.x,t.y],e.ux=()=>e(1,0),e.uy=()=>e(0,1),e.add=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),e.mul=(t,e)=>({x:t.x*e,y:t.y*e}),e.sub=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),e.len=t=>Math.sqrt(t.x*t.x+t.y*t.y),e.manhattan=t=>Math.abs(t.x)+Math.abs(t.y),e.nor=t=>{let n=e.len(t);return n?{x:t.x/n,y:t.y/n}:e()},e.dot=(t,e)=>t.x*e.x+t.y*e.y,e.rot=(t,e)=>{let n=Math.sin(e),a=Math.cos(e);return{x:a*t.x-n*t.y,y:n*t.x+a*t.y}},e.eq=(t,e)=>t.x===e.x&&t.y===e.y,e.rad=t=>Math.atan2(t.y,t.x),e.cpy=t=>e(t),e.map=(t,e)=>({x:e(t.x,"x"),y:e(t.y,"y")}),e.str=(t,e=", ")=>`${t.x}${e}${t.y}`;const n=(t=4,e=4,n=[])=>({m:t,n:e,entries:n.concat(Array(t*e).fill(0)).slice(0,t*e)});n.identity=t=>n(t,t,Array(t*t).fill(0).map(((e,n)=>+(Math.floor(n/t)===n%t)))),n.get=(t,e,n)=>t.entries[n-1+(e-1)*t.n],n.set=(t,e,n,a)=>{t.entries[n-1+(e-1)*t.n]=a},n.row=(t,e)=>{const n=(e-1)*t.n;return t.entries.slice(n,n+t.n)},n.col=(t,e)=>Array.times((a=>n.get(t,a+1,e)),t.m),n.add=(t,e)=>t.m===e.m&&t.n===e.n&&n.map(t,((t,n)=>t+e.entries[n])),n.sub=(t,e)=>t.m===e.m&&t.n===e.n&&n.map(t,((t,n)=>t-e.entries[n])),n.mul=(t,e)=>{if(t.n!==e.m)return!1;const a=n(t.m,e.n);for(let r=1;r<=t.m;r++)for(let o=1;o<=e.n;o++)n.set(a,r,o,Math.dot(n.row(t,r),n.col(e,o)));return a},n.scale=(t,e)=>n.map(t,(t=>t*e)),n.trans=t=>n(t.n,t.m,Array.times((e=>n.col(t,e+1)),t.n).flat()),n.minor=(t,e,a)=>{if(t.m!==t.n)return!1;const r=[];for(let o=1;o<=t.m;o++)if(o!==e)for(let e=1;e<=t.n;e++)e!==a&&r.push(n.get(t,o,e));return n(t.m-1,t.n-1,r)},n.det=t=>{if(t.m!==t.n)return!1;if(1===t.m)return t.entries[0];if(2===t.m)return t.entries[0]*t.entries[3]-t.entries[1]*t.entries[2];let e=0,a=1;for(let r=1;r<=t.n;r++)e+=a*t.entries[r-1]*n.det(n.minor(t,1,r)),a*=-1;return e},n.nor=t=>{if(t.m!==t.n)return!1;const e=n.det(t);return n.map(t,(t=>t*e))},n.adj=t=>{const e=n(t.m,t.n);for(let a=1;a<=t.m;a++)for(let r=1;r<=t.n;r++)n.set(e,a,r,n.det(n.minor(t,a,r)));const a=n.map(e,((t,e)=>t*(e%2?-1:1)));return n.trans(a)},n.inv=t=>{if(t.m!==t.n)return!1;const e=n.det(t);return 0!==e&&n.scale(n.adj(t),1/e)},n.eq=(t,e)=>t.m===e.m&&t.n===e.n&&n.str(t)===n.str(e),n.cpy=t=>n(t.m,t.n,[...t.entries]),n.map=(t,e)=>n(t.m,t.n,t.entries.map(e)),n.str=(t,e=", ",n="\n")=>t.entries.chunk(t.n).map((t=>t.join(e))).join(n),t.exports={vec:e,mat:n}},76:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(44),r=n(269);class o{constructor(t={}){this.defaultOptions={margin:10,padding:4,font:"10pt Lucida Console, monospace",lineHeight:12,foregroundColour:"#fff",backgroundColour:"#3338",defaultValue:{align:"left",showLabel:!0},defaultMarker:{showLabel:!0,showValue:!0,showMarker:!0,markerSize:6,markerStyle:"x",markerColour:"#ccc",space:"world",labelOffset:a.vec(10)}},this.options=Object.assign({},this.defaultOptions,t),this.values=new Map,this.markers=new Map}static initialise(t={}){o.instance=new o(t)}static getInstance(){return null==o.instance&&o.initialise(),o.instance}static value(t,e,n={}){const a=o.getInstance();a.values.set(t,Object.assign({label:t,value:e},a.defaultOptions.defaultValue,n))}static marker(t,e,n,a={}){const r=o.getInstance();r.markers.set(t,Object.assign({label:t,value:e,position:n},r.defaultOptions.defaultMarker,a))}static draw(t){const e=o.getInstance();let n;t.save(),t.scale(1/r.scaleFactor,1/r.scaleFactor),e.markers.forEach((n=>{"world"===n.space&&e.drawMarker(t,n)})),t.restore(),t.save(),t.setTransform(1,0,0,1,0,0);let s=e.options.margin,i=e.options.margin;const l=e.options.lineHeight+2*e.options.padding;e.values.forEach((r=>{var o,u,c,d;switch(r.align){case"left":n=a.vec(e.options.margin,s),s+=l;break;case"right":n=a.vec(t.canvas.clientWidth-e.options.margin,i),i+=l}e.drawLabel(t,(r.showLabel?r.label+": ":"")+r.value,n,r.align,null!==(o=r.padding)&&void 0!==o?o:e.options.padding,null!==(u=r.font)&&void 0!==u?u:e.options.font,null!==(c=r.foregroundColour)&&void 0!==c?c:e.options.foregroundColour,null!==(d=r.backgroundColour)&&void 0!==d?d:e.options.backgroundColour)})),e.markers.forEach((n=>{"screen"===n.space&&e.drawMarker(t,n)})),t.restore(),e.values.clear(),e.markers.clear()}drawMarker(t,e){var n,o,s,i,l;t.save();const u=a.vec.mul(null!==(n=e.position)&&void 0!==n?n:a.vec(),r.scaleFactor);if((e.showLabel||e.showValue)&&this.drawLabel(t,(e.showLabel?e.label+": ":"")+(e.showValue?""+e.value:""),a.vec.add(null!=u?u:a.vec(),e.labelOffset),"left",null!==(o=e.padding)&&void 0!==o?o:this.options.padding,null!==(s=e.font)&&void 0!==s?s:this.options.font,null!==(i=e.foregroundColour)&&void 0!==i?i:this.options.foregroundColour,null!==(l=e.backgroundColour)&&void 0!==l?l:this.options.backgroundColour),e.showMarker)switch(t.lineWidth=2,t.strokeStyle=t.fillStyle=e.markerColour,e.markerStyle){case"x":this.drawCross(t,u,e.markerSize);break;case"+":this.drawPlus(t,u,e.markerSize);break;case".":this.drawDot(t,u,e.markerSize)}t.restore()}drawLabel(t,e,n,a,r,o,s,i){t.save(),t.font=o,t.textBaseline="top";const l={width:t.measureText(e).width+2*r,height:this.options.lineHeight+2*r},u="right"===a?n.x-l.width:n.x;t.fillStyle=i,t.fillRect(u-r,n.y-r,l.width,l.height),t.fillStyle=s,t.fillText(e,u,n.y),t.restore()}drawCross(t,e,n){t.beginPath();const a=n/2;t.moveTo(e.x-a,e.y-a),t.lineTo(e.x+a,e.y+a),t.moveTo(e.x-a,e.y+a),t.lineTo(e.x+a,e.y-a),t.stroke()}drawPlus(t,e,n){t.beginPath();const a=n/2;t.moveTo(e.x,e.y-a),t.lineTo(e.x,e.y+a),t.moveTo(e.x-a,e.y),t.lineTo(e.x+a,e.y),t.stroke()}drawDot(t,e,n){t.beginPath(),t.arc(e.x,e.y,n/2,0,2*Math.PI),t.fill()}}e.default=o},221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(269),r=n(601),o=n(76),s=n(187);e.default=class{constructor(t){if(this.frameRate=0,this.frameCount=0,null===t)throw new Error("A valid container element must be specified.");if("canvas"!==t.tagName.toLowerCase())throw new Error("Container element must be a canvas.");this.canvas=t;const e=this.canvas.getContext("2d");if(null===e)throw new Error("Couldn't get a 2d context.");this.context=e,window.addEventListener("resize",this.resize.bind(this),!1),this.resize()}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context.imageSmoothingEnabled=!1}initialise(){o.default.initialise(),s.ContentManager.initialise(),s.InputManager.initialise(this.canvas),s.StateManager.initialise(),this.lastFrameTime=this.lastFrameCountTime=performance.now(),this.loop()}loop(){const t=performance.now(),e=Math.min(t-this.lastFrameTime,r.FPS_MIN);t-this.lastFrameCountTime>=1e3&&(this.lastFrameCountTime=t,this.frameRate=this.frameCount,this.frameCount=0),this.frameCount++,this.lastFrameTime=t,a.showFPS&&o.default.value("FPS",this.frameRate,{align:"right"}),this.update(e),this.draw(),window.requestAnimationFrame(this.loop.bind(this))}update(t){s.StateManager.update(t),s.InputManager.update()}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.setTransform(a.scaleFactor,0,0,a.scaleFactor,0,0),s.StateManager.draw(this.context),o.default.draw(this.context)}}},601:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FPS_MIN=void 0,e.FPS_MIN=1/30},900:(t,e)=>{"use strict";var n,a;Object.defineProperty(e,"__esModule",{value:!0}),e.Key=e.StateTransitionType=void 0,(a=e.StateTransitionType||(e.StateTransitionType={}))[a.In=0]="In",a[a.Out=1]="Out",a[a.None=2]="None",(n=e.Key||(e.Key={})).Up="ArrowUp",n.Down="ArrowDown",n.Left="ArrowLeft",n.Right="ArrowRight"},607:function(t,e,n){"use strict";var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(r,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function i(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}l((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=n(221);window.onload=()=>a(void 0,void 0,void 0,(function*(){const t=new r.default(document.querySelector("#game"));yield t.initialise()}))},570:function(t,e,n){"use strict";var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(r,o){function s(t){try{l(a.next(t))}catch(t){o(t)}}function i(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}l((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentManager=void 0;const r=n(578),o=n(5),s={image:t=>a(void 0,void 0,void 0,(function*(){throw yield o.sleep(1e3),new Error(`loading image "${t}"...`)})),sound:t=>a(void 0,void 0,void 0,(function*(){throw yield o.sleep(1e3),new Error(`loading audio "${t}"...`)})),font:t=>a(void 0,void 0,void 0,(function*(){throw yield o.sleep(1e3),new Error(`loading font "${t}"...`)})),json:t=>a(void 0,void 0,void 0,(function*(){throw yield o.sleep(1e3),new Error(`loading json "${t}"...`)}))};class i{constructor(t){this.content=t}static initialise(){i.instance=new i(r.items),console.log(r)}static getInstance(){if(void 0===i.instance)throw new Error("Content manager not properly initialised");return i.instance}static load(){return a(this,void 0,void 0,(function*(){if(i.loaded)throw new Error("Content already loaded");const t=i.getInstance();if(0===t.content.length)throw new Error("No content items to load");const e=1/t.content.length,n=[];for(const a of t.content)n.push(yield s[a.type](...a.args)),i.progress=Math.clamp(i.progress+e,0,1);t.items=n,i.loaded=!0}))}static get(t){if(!i.loaded)throw new Error("Content not loaded");const e=i.getInstance();if(!(t in e.items))throw new Error(`Content item "${t}" not found`);return e.items[t]}}e.ContentManager=i,i.progress=0,i.loaded=!1},550:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntityManager=void 0,e.EntityManager=class{}},357:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=void 0;const a=n(44);class r{constructor(t){this.keyboardState={},this.previousKeyboardState={},this.mouseState={button:!1,position:a.vec(),wheel:0},this.previousMouseState={button:!1,position:a.vec(),wheel:0},t.addEventListener("mousedown",(()=>{this.mouseState.button=!0})),t.addEventListener("mouseup",(()=>{this.mouseState.button=!1})),t.addEventListener("touchstart",(()=>{this.mouseState.button=!0})),t.addEventListener("touchend",(()=>{this.mouseState.button=!1})),t.addEventListener("mousemove",(t=>{this.mouseState.position.x=t.offsetX,this.mouseState.position.y=t.offsetY})),t.addEventListener("keydown",(t=>{this.keyboardState[t.code]=!0})),t.addEventListener("keyup",(t=>{this.keyboardState[t.code]=!1})),t.addEventListener("wheel",(t=>{this.mouseState.wheel=t.deltaY>0?1:-1}))}static initialise(t){r.instance=new r(t)}static getInstance(){if(void 0===r.instance)throw new Error("Input manager not properly initialised");return r.instance}static update(){const t=r.getInstance();t.previousKeyboardState=Object.assign({},t.keyboardState),t.previousMouseState={button:t.mouseState.button,position:a.vec.cpy(t.mouseState.position),wheel:0}}static keyDown(t){const e=r.getInstance();if(null==t){for(const t in e.keyboardState)if(e.keyboardState[t])return!0;return!1}return!!e.keyboardState[t]}static keyPressed(t){const e=r.getInstance();if(null==t){for(const t in e.keyboardState)if(e.keyboardState[t]&&(!(t in e.previousKeyboardState)||!e.previousKeyboardState[t]))return!0;return!1}return!!e.keyboardState[t]&&!e.previousKeyboardState[t]}static keyReleased(t){const e=r.getInstance();if(null==t){for(const t in e.keyboardState)if(!e.keyboardState[t]&&e.previousKeyboardState[t])return!0;return!1}return!e.keyboardState[t]&&!!e.previousKeyboardState[t]}static mouseDown(){return!!r.getInstance().mouseState.button}static mousePressed(){const t=r.getInstance();return!!t.mouseState.button&&!t.previousMouseState.button}static mouseReleased(){const t=r.getInstance();return!t.mouseState.button&&!!t.previousMouseState.button}static mouseWheelUp(){return r.getInstance().mouseState.wheel>0}static mouseWheelDown(){return r.getInstance().mouseState.wheel<0}static mousePosition(){return r.getInstance().mouseState.position}}e.InputManager=r},183:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StateManager=void 0;const a=n(900);class r{constructor(){this.states=[]}static initialise(){r.instance=new r}static getInstance(){if(void 0===r.instance)throw new Error("State manager not properly initialised");return r.instance}static push(t){return r.getInstance().states.push(t),t.initialise(),t.transitionIn(),t}static pop(){const t=r.getInstance();if(t.states.length>0){let e=t.states.length-1;for(;e>0&&t.states[e].transitionType===a.StateTransitionType.Out;)e--;if(e>=0){const n=t.states[e];return n.transitionOut(),n}}return null}static clear(){r.getInstance().states.forEach((t=>{t.transitionType!==a.StateTransitionType.Out&&t.transitionOut()}))}static update(t){const e=r.getInstance();if(e.states.length>0){for(let n=e.states.length;n--;)if(e.states[n].transitionType!==a.StateTransitionType.Out){e.states[n].update(t);break}e.states.forEach((e=>{e.updateTransition(t)})),e.states=e.states.filter((t=>!t.disposed))}}static draw(t){const e=r.getInstance();if(e.states.length>0){const n=[e.states[e.states.length-1]];let a=e.states.length-1;for(;a>0&&e.states[a].transparent;)n.push(e.states[--a]);for(let e=n.length;e--;)n[e].draw(t)}}}e.StateManager=r},187:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntityManager=e.StateManager=e.InputManager=e.ContentManager=void 0;var a=n(570);Object.defineProperty(e,"ContentManager",{enumerable:!0,get:function(){return a.ContentManager}});var r=n(357);Object.defineProperty(e,"InputManager",{enumerable:!0,get:function(){return r.InputManager}});var o=n(183);Object.defineProperty(e,"StateManager",{enumerable:!0,get:function(){return o.StateManager}});var s=n(550);Object.defineProperty(e,"EntityManager",{enumerable:!0,get:function(){return s.EntityManager}})},5:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sleep=void 0,e.sleep=function(t){return new Promise((e=>setTimeout(e,t)))}},269:t=>{"use strict";t.exports=JSON.parse('{"title":"RPG Game","scaleFactor":2,"showFPS":true}')}},e={};!function n(a){if(e[a])return e[a].exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,n),r.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycGctZ2FtZS8uL25vZGVfbW9kdWxlcy9AYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qcy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvRGVidWcudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvZW51bXMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbWFuYWdlcnMvQ29udGVudE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbWFuYWdlcnMvRW50aXR5TWFuYWdlci50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9tYW5hZ2Vycy9JbnB1dE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbWFuYWdlcnMvU3RhdGVNYW5hZ2VyLnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL21hbmFnZXJzL2luZGV4LnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ycGctZ2FtZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiTWF0aCIsImZsb2F0RXF1YWxzIiwiYSIsImIiLCJwIiwiTnVtYmVyIiwiRVBTSUxPTiIsImFicyIsImNsYW1wIiwibWluIiwibWF4IiwiZnJhYyIsImZsb29yIiwiY2VpbCIsImxlcnAiLCJpIiwidW5sZXJwIiwiYmxlcnAiLCJjMDAiLCJjMTAiLCJjMDEiLCJjMTEiLCJpeCIsIml5IiwicmVtYXAiLCJhMSIsImEyIiwiYjEiLCJiMiIsInNtb290aHN0ZXAiLCJwb3ciLCJyYWRpYW5zIiwiZGVncmVlcyIsIlBJIiwicmFuZG9tQmV0d2VlbiIsInJhbmRvbSIsInJhbmRvbUludEJldHdlZW4iLCJjbHRSYW5kb20iLCJtdSIsInNpZ21hIiwic2FtcGxlcyIsInRvdGFsIiwiY2x0UmFuZG9tSW50Iiwid2VpZ2h0ZWRSYW5kb20iLCJ3IiwicmVkdWNlIiwibiIsInIiLCJsZXJwQXJyYXkiLCJmIiwicyIsImxlbmd0aCIsInRydW5jIiwiZG90IiwidiIsImZhY3RvcmlhbCIsInJlc3VsdCIsInBlcm11dGF0aW9uIiwiY29tYmluYXRpb24iLCJBcnJheSIsInRpbWVzIiwiZmlsbCIsIm1hcCIsIl8iLCJyYW5nZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG90eXBlIiwidmFsdWUiLCJsIiwidGhpcyIsInNsaWNlIiwic29ydCIsInZlYyIsIngiLCJ5IiwiY29tcG9uZW50cyIsInV4IiwidXkiLCJhZGQiLCJtdWwiLCJzdWIiLCJsZW4iLCJzcXJ0IiwibWFuaGF0dGFuIiwibm9yIiwicm90Iiwic2luIiwiYyIsImNvcyIsImVxIiwicmFkIiwiYXRhbjIiLCJjcHkiLCJzdHIiLCJtYXQiLCJtIiwiZW50cmllcyIsImNvbmNhdCIsImlkZW50aXR5IiwiZ2V0IiwiaiIsInNldCIsInJvdyIsImNvbCIsInNjYWxlIiwidHJhbnMiLCJmbGF0IiwibWlub3IiLCJpaSIsImpqIiwicHVzaCIsImRldCIsInNpZ24iLCJkIiwiYWRqIiwibWlub3JzIiwiY29mYWN0b3JzIiwiaW52IiwibXMiLCJucyIsImNodW5rIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJEZWJ1ZyIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIm1hcmdpbiIsInBhZGRpbmciLCJmb250IiwibGluZUhlaWdodCIsImZvcmVncm91bmRDb2xvdXIiLCJiYWNrZ3JvdW5kQ29sb3VyIiwiZGVmYXVsdFZhbHVlIiwiYWxpZ24iLCJzaG93TGFiZWwiLCJkZWZhdWx0TWFya2VyIiwic2hvd1ZhbHVlIiwic2hvd01hcmtlciIsIm1hcmtlclNpemUiLCJtYXJrZXJTdHlsZSIsIm1hcmtlckNvbG91ciIsInNwYWNlIiwibGFiZWxPZmZzZXQiLCJhc3NpZ24iLCJ2YWx1ZXMiLCJNYXAiLCJtYXJrZXJzIiwiaW5zdGFuY2UiLCJpbml0aWFsaXNlIiwibGFiZWwiLCJkZWJ1ZyIsImdldEluc3RhbmNlIiwicG9zaXRpb24iLCJjb250ZXh0Iiwic2F2ZSIsImNvbmZpZyIsInNjYWxlRmFjdG9yIiwiZm9yRWFjaCIsIm1hcmtlciIsImRyYXdNYXJrZXIiLCJyZXN0b3JlIiwic2V0VHJhbnNmb3JtIiwibGVmdFkiLCJyaWdodFkiLCJjYW52YXMiLCJjbGllbnRXaWR0aCIsImRyYXdMYWJlbCIsImNsZWFyIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJmaWxsU3R5bGUiLCJkcmF3Q3Jvc3MiLCJkcmF3UGx1cyIsImRyYXdEb3QiLCJ0ZXh0IiwidGV4dEJhc2VsaW5lIiwiYmFja2dyb3VuZFNpemUiLCJ3aWR0aCIsIm1lYXN1cmVUZXh0IiwiaGVpZ2h0IiwiZmlsbFJlY3QiLCJmaWxsVGV4dCIsInNpemUiLCJiZWdpblBhdGgiLCJoYWxmU2l6ZSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFyYyIsImNvbnRhaW5lciIsImZyYW1lUmF0ZSIsImZyYW1lQ291bnQiLCJFcnJvciIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldENvbnRleHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwiYmluZCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsIkNvbnRlbnRNYW5hZ2VyIiwiSW5wdXRNYW5hZ2VyIiwiU3RhdGVNYW5hZ2VyIiwibGFzdEZyYW1lVGltZSIsImxhc3RGcmFtZUNvdW50VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwibG9vcCIsImVsYXBzZWRUaW1lIiwiY29uc3RhbnRzIiwiRlBTX01JTiIsInNob3dGUFMiLCJ1cGRhdGUiLCJkcmF3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZHQiLCJjbGVhclJlY3QiLCJLZXkiLCJTdGF0ZVRyYW5zaXRpb25UeXBlIiwib25sb2FkIiwiZ2FtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnRJdGVtTG9hZGVycyIsImltYWdlIiwidXJsIiwidXRpbGl0aWVzIiwic2xlZXAiLCJzb3VuZCIsImpzb24iLCJjb250ZW50IiwiaXRlbXMiLCJjb25zb2xlIiwibG9nIiwidW5kZWZpbmVkIiwibG9hZGVkIiwicHJvZ3Jlc3NEZWx0YSIsInR5cGUiLCJhcmdzIiwicHJvZ3Jlc3MiLCJuYW1lIiwia2V5Ym9hcmRTdGF0ZSIsInByZXZpb3VzS2V5Ym9hcmRTdGF0ZSIsIm1vdXNlU3RhdGUiLCJidXR0b24iLCJ3aGVlbCIsInByZXZpb3VzTW91c2VTdGF0ZSIsImUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNvZGUiLCJkZWx0YVkiLCJrZXkiLCJrIiwic3RhdGVzIiwic3RhdGUiLCJ0cmFuc2l0aW9uSW4iLCJsYXN0IiwidHJhbnNpdGlvblR5cGUiLCJPdXQiLCJ0cmFuc2l0aW9uT3V0IiwidXBkYXRlVHJhbnNpdGlvbiIsImZpbHRlciIsImRpc3Bvc2VkIiwiZHJhd1N0YXRlcyIsInRyYW5zcGFyZW50U3RhdGVJbmRleCIsInRyYW5zcGFyZW50IiwiRW50aXR5TWFuYWdlciIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIl0sIm1hcHBpbmdzIjoiNGNBZUFBLEtBQUtDLFlBQWMsQ0FBQ0MsRUFBR0MsRUFBR0MsRUFBSUMsT0FBT0MsVUFBWU4sS0FBS08sSUFBSUwsRUFBSUMsR0FBS0MsRUFTbkVKLEtBQUtRLE1BQVEsQ0FBQ04sRUFBR08sRUFBTSxFQUFHQyxFQUFNLElBQU1SLEVBQUlPLEVBQU1BLEVBQU9QLEVBQUlRLEVBQU1BLEVBQU1SLEVBT3ZFRixLQUFL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U0FBUUMsR0FBV0MsV0FBV0QsRUFBUzNKLE8sbUdDSGhENkosRUFBMkIsSUFHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVTFKLFFBRzNDLElBQUlELEVBQVN5SixFQUF5QkUsR0FBWSxDQUdqRDFKLFFBQVMsSUFPVixPQUhBMkosRUFBb0JELEdBQVVFLEtBQUs3SixFQUFPQyxRQUFTRCxFQUFRQSxFQUFPQyxRQUFTeUosR0FHcEUxSixFQUFPQyxRQ2pCZnlKLENBQW9CLE0iLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG92ZXJ2aWV3IEEgbGlicmFyeSBvZiB1c2VmdWwgZnVuY3Rpb25zXG4gKiBAYXV0aG9yIEdvcmRvbiBMYXJyaWdhblxuICogQHZlcnNpb24gMS4yLjhcbiAqL1xuXG4vKiogQGNsYXNzIE1hdGggKi9cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyIGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIE51bWJlciBiXG4gKiBAcGFyYW0ge251bWJlcn0gW3A9TnVtYmVyLkVQU0lMT05dIFRoZSBwcmVjaXNpb24gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbnVtYmVycyBhIGFuZCBiIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKi9cbk1hdGguZmxvYXRFcXVhbHMgPSAoYSwgYiwgcCA9IE51bWJlci5FUFNJTE9OKSA9PiBNYXRoLmFicyhhIC0gYikgPCBwO1xuXG4vKipcbiAqIENsYW1wIGEgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBudW1iZXIgdG8gY2xhbXBcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWluPTBdIFRoZSBtaW5pbXVtIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW21heD0xXSBUaGUgbWF4aW11bSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBBIGNsYW1wZWQgbnVtYmVyXG4gKi9cbk1hdGguY2xhbXAgPSAoYSwgbWluID0gMCwgbWF4ID0gMSkgPT4gYSA8IG1pbiA/IG1pbiA6IChhID4gbWF4ID8gbWF4IDogYSk7XG5cbi8qKlxuICogR2V0IHRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBudW1iZXIgZnJvbSB3aGljaCB0byBnZXQgdGhlIGZyYWN0aW9uYWwgcGFydFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBudW1iZXJcbiAqL1xuTWF0aC5mcmFjID0gYSA9PiBhID49IDAgPyBhIC0gTWF0aC5mbG9vcihhKSA6IGEgLSBNYXRoLmNlaWwoYSk7XG5cbi8qKlxuICogRG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIGEgYW5kIGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBtaW5pbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIG1heGltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW50ZXJwb2xhdGlvbiB2YWx1ZSwgc2hvdWxkIGJlIGluIHRoZSBpbnRlcnZhbCBbMCwgMV1cbiAqIEByZXR1cm4ge251bWJlcn0gQW4gaW50ZXJwb2xhdGVkIHZhbHVlIGluIHRoZSBpbnRlcnZhbCBbYSwgYl1cbiAqL1xuTWF0aC5sZXJwID0gKGEsIGIsIGkpID0+IGEgKyAoYiAtIGEpICogaTtcblxuLyoqXG4gKiBHZXQgdGhlIHBvc2l0aW9uIG9mIGkgYmV0d2VlbiBhIGFuZCBiXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbWluaW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBtYXhpbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwb3NpdGlvbiBvZiBpIGJldHdlZW4gYSBhbmQgYlxuICovXG5NYXRoLnVubGVycCA9IChhLCBiLCBpKSA9PiAoaSAtIGEpIC8gKGIgLSBhKTtcblxuLyoqXG4gKiBEbyBhIGJpbGluZWFyIGludGVycG9sYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBjMDAgVG9wLWxlZnQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjMTAgVG9wLXJpZ2h0IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gYzAxIEJvdHRvbS1sZWZ0IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gYzExIEJvdHRvbS1yaWdodCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGl4IEludGVycG9sYXRpb24gdmFsdWUgYWxvbmcgeFxuICogQHBhcmFtIHtudW1iZXJ9IGl5IEludGVycG9sYXRpb24gdmFsdWUgYWxvbmcgeVxuICogQHJldHVybiB7bnVtYmVyfSBBIGJpbGluZWFyIGludGVycG9sYXRlZCB2YWx1ZVxuICovXG5NYXRoLmJsZXJwID0gKGMwMCwgYzEwLCBjMDEsIGMxMSwgaXgsIGl5KSA9PiBNYXRoLmxlcnAoTWF0aC5sZXJwKGMwMCwgYzEwLCBpeCksIE1hdGgubGVycChjMDEsIGMxMSwgaXgpLCBpeSk7XG5cbi8qKlxuICogUmUtbWFwIGEgbnVtYmVyIGkgZnJvbSByYW5nZSBhMS4uLmEyIHRvIGIxLi4uYjJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBudW1iZXIgdG8gcmUtbWFwXG4gKiBAcGFyYW0ge251bWJlcn0gYTFcbiAqIEBwYXJhbSB7bnVtYmVyfSBhMlxuICogQHBhcmFtIHtudW1iZXJ9IGIxXG4gKiBAcGFyYW0ge251bWJlcn0gYjJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuTWF0aC5yZW1hcCA9IChpLCBhMSwgYTIsIGIxLCBiMikgPT4gYjEgKyAoaSAtIGExKSAqIChiMiAtIGIxKSAvIChhMiAtIGExKTtcblxuLyoqXG4gKiBEbyBhIHNtb290aCBpbnRlcnBvbGF0aW9uIGJldHdlZW4gYSBhbmQgYlxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG1pbmltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgbWF4aW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKi9cbk1hdGguc21vb3Roc3RlcCA9IChhLCBiLCBpKSA9PiBNYXRoLmxlcnAoYSwgYiwgMyAqIE1hdGgucG93KGksIDIpIC0gMiAqIE1hdGgucG93KGksIDMpKTtcblxuLyoqXG4gKiBHZXQgYW4gYW5nbGUgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIGRlZ3JlZXNcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuTWF0aC5yYWRpYW5zID0gZGVncmVlcyA9PiAoTWF0aC5QSSAvIDE4MCkgKiBkZWdyZWVzO1xuXG4vKipcbiAqIEdldCBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYW5nbGUgaW4gZGVncmVlc1xuICovXG5NYXRoLmRlZ3JlZXMgPSByYWRpYW5zID0+ICgxODAgLyBNYXRoLlBJKSAqIHJhZGlhbnM7XG5cbi8qKlxuICogR2V0IGEgcmFuZG9tIGZsb2F0IGluIHRoZSBpbnRlcnZhbCBbbWluLCBtYXgpXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIEluY2x1c2l2ZSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggRXhjbHVzaXZlIG1heFxuICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBmbG9hdCBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4KVxuICovXG5NYXRoLnJhbmRvbUJldHdlZW4gPSAobWluLCBtYXgpID0+IE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcblxuLyoqXG4gKiBHZXQgYSByYW5kb20gaW50ZWdlciBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4XVxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBJbmNsdXNpdmUgbWluXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEluY2x1c2l2ZSBtYXhcbiAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gaW50ZWdlciBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4XVxuICovXG5NYXRoLnJhbmRvbUludEJldHdlZW4gPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG5cbi8qKlxuICogR2V0IGEgbm9ybWFsbHktZGlzdHJpYnV0ZWQgcmFuZG9tIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IFttdT0wLjVdIFRoZSBtZWFuIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3NpZ21hPTAuNV0gVGhlIHN0YW5kYXJkIGRldmlhdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtzYW1wbGVzPTJdIFRoZSBudW1iZXIgb2Ygc2FtcGxlc1xuICogQHJldHVybiB7bnVtYmVyfSBBIG5vcm1hbGx5LWRpc3RyaWJ1dGVkIHJhbmRvbSBudW1iZXJcbiAqL1xuTWF0aC5jbHRSYW5kb20gPSAobXUgPSAwLjUsIHNpZ21hID0gMC41LCBzYW1wbGVzID0gMikgPT4ge1xuICBsZXQgdG90YWwgPSAwO1xuICBmb3IgKGxldCBpID0gc2FtcGxlczsgaS0tOykge1xuICAgIHRvdGFsICs9IE1hdGgucmFuZG9tKCk7XG4gIH1cbiAgcmV0dXJuIG11ICsgKHRvdGFsIC0gc2FtcGxlcyAvIDIpIC8gKHNhbXBsZXMgLyAyKSAqIHNpZ21hO1xufTtcblxuLyoqXG4gKiBHZXQgYSBub3JtYWxseS1kaXN0cmlidXRlZCByYW5kb20gaW50ZWdlciBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4XVxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBJbmNsdXNpdmUgbWluXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEluY2x1c2l2ZSBtYXhcbiAqIEByZXR1cm4ge251bWJlcn0gQSBub3JtYWxseS1kaXN0cmlidXRlZCByYW5kb20gaW50ZWdlclxuICovXG5NYXRoLmNsdFJhbmRvbUludCA9IChtaW4sIG1heCkgPT4gTWF0aC5mbG9vcihtaW4gKyBNYXRoLmNsdFJhbmRvbSgwLjUsIDAuNSwgMikgKiAobWF4ICsgMSAtIG1pbikpO1xuXG4vKipcbiAqIFJldHVybiBhIHdlaWdodGVkIHJhbmRvbSBpbnRlZ2VyXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHcgQW4gYXJyYXkgb2Ygd2VpZ2h0c1xuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbmRleCBmcm9tIHdcbiAqL1xuTWF0aC53ZWlnaHRlZFJhbmRvbSA9IHcgPT4ge1xuICBsZXQgdG90YWwgPSB3LnJlZHVjZSgoYSwgaSkgPT4gYSArIGksIDApLCBuID0gMDtcbiAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiB0b3RhbDtcbiAgd2hpbGUgKHRvdGFsID4gcikge1xuICAgIHRvdGFsIC09IHdbbisrXTtcbiAgfVxuICByZXR1cm4gbiAtIDE7XG59O1xuXG4vKipcbiAqIEFuIGludGVycG9sYXRpb24gZnVuY3Rpb25cbiAqIEBjYWxsYmFjayBpbnRlcnBvbGF0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBtaW5pbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIG1heGltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW50ZXJwb2xhdGlvbiB2YWx1ZSwgc2hvdWxkIGJlIGluIHRoZSBpbnRlcnZhbCBbMCwgMV1cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKi9cblxuLyoqXG4gKiBSZXR1cm4gYW4gaW50ZXJwb2xhdGVkIHZhbHVlIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYSBBbiBhcnJheSBvZiB2YWx1ZXMgaW50ZXJwb2xhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIEEgbnVtYmVyIGluIHRoZSBpbnRlcnZhbCBbMCwgMV1cbiAqIEBwYXJhbSB7aW50ZXJwb2xhdGlvbkNhbGxiYWNrfSBbZj1NYXRoLmxlcnBdIFRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHRvIHVzZVxuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gdGhlIGludGVydmFsIFttaW4oYSksIG1heChhKV1cbiAqL1xuTWF0aC5sZXJwQXJyYXkgPSAoYSwgaSwgZiA9IE1hdGgubGVycCkgPT4ge1xuICBjb25zdCBzID0gaSAqIChhLmxlbmd0aCAtIDEpO1xuICBjb25zdCBwID0gTWF0aC5jbGFtcChNYXRoLnRydW5jKHMpLCAwLCBhLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gZihhW3BdIHx8IDAsIGFbcCArIDFdIHx8IDAsIE1hdGguZnJhYyhzKSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYSBWZWN0b3IgYVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGEg4oiZIGJcbiAqL1xuTWF0aC5kb3QgPSAoYSwgYikgPT4gYS5yZWR1Y2UoKG4sIHYsIGkpID0+IG4gKyB2ICogYltpXSwgMCk7XG5cbi8qKlxuICogR2V0IHRoZSBmYWN0b3JpYWwgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGEhXG4gKi9cbk1hdGguZmFjdG9yaWFsID0gYSA9PiB7XG4gIGxldCByZXN1bHQgPSAxO1xuICBmb3IgKGxldCBpID0gMjsgaSA8PSBhOyBpKyspIHtcbiAgICByZXN1bHQgKj0gaTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG51bWJlciBvZiBwZXJtdXRhdGlvbnMgb2YgciBlbGVtZW50cyBmcm9tIGEgc2V0IG9mIG4gZWxlbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gKiBAcGFyYW0ge251bWJlcn0gclxuICogQHJldHVybiB7bnVtYmVyfSBuUHJcbiAqL1xuTWF0aC5wZXJtdXRhdGlvbiA9IChuLCByKSA9PiBNYXRoLmZhY3RvcmlhbChuKSAvIE1hdGguZmFjdG9yaWFsKG4gLSByKTtcblxuLyoqXG4gKiBHZXQgdGhlIG51bWJlciBvZiBjb21iaW5hdGlvbnMgb2YgciBlbGVtZW50cyBmcm9tIGEgc2V0IG9mIG4gZWxlbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gKiBAcGFyYW0ge251bWJlcn0gclxuICogQHJldHVybiB7bnVtYmVyfSBuQ3JcbiAqL1xuTWF0aC5jb21iaW5hdGlvbiA9IChuLCByKSA9PiBNYXRoLmZhY3RvcmlhbChuKSAvIChNYXRoLmZhY3RvcmlhbChyKSAqIE1hdGguZmFjdG9yaWFsKG4gLSByKSk7XG5cbi8qKiBAY2xhc3MgQXJyYXkgKi9cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIGZvciBnZW5lcmF0aW5nIGFycmF5IHZhbHVlc1xuICogQGNhbGxiYWNrIHRpbWVzQ2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBhcnJheSBpbmRleFxuICogQHJldHVybiB7Kn0gVGhlIGFycmF5IHZhbHVlXG4gKi9cblxuLyoqXG4gKiBSZXR1cm4gYSBuZXcgYXJyYXkgd2l0aCBsZW5ndGggbiBieSBjYWxsaW5nIGZ1bmN0aW9uIGYoaSkgb24gZWFjaCBlbGVtZW50XG4gKiBAcGFyYW0ge3RpbWVzQ2FsbGJhY2t9IGZcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSBhcnJheVxuICogQHJldHVybiB7QXJyYXk8Kj59XG4gKi9cbkFycmF5LnRpbWVzID0gKGYsIG4pID0+IEFycmF5KG4pLmZpbGwoMCkubWFwKChfLCBpKSA9PiBmKGkpKTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyBudW1iZXJzIDAtPihuIC0gMSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSBhcnJheVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW4gYXJyYXkgb2YgaW50ZWdlcnMgMC0+KG4gLSAxKVxuICovXG5BcnJheS5yYW5nZSA9IG4gPT4gQXJyYXkudGltZXMoaSA9PiBpLCBuKTtcblxuLyoqXG4gKiBSZXR1cm4gYXJyYXlbaV0gd2l0aCBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgd3JhcHBpbmdcbiAqIEBuYW1lIGF0XG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBBcnJheS5wcm90b3R5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBwb3NpdGl2ZWx5L25lZ2F0aXZlbHkgd3JhcHBlZCBhcnJheSBpbmRleFxuICogQHJldHVybiB7Kn0gQW4gZWxlbWVudCBmcm9tIHRoZSBhcnJheVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnYXQnLCB7XG4gIHZhbHVlOiBmdW5jdGlvbiAoaSkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxlbmd0aDtcbiAgICByZXR1cm4gdGhpc1tpIDwgMCA/IGwgLSAoTWF0aC5hYnMoaSArIDEpICUgbCkgLSAxIDogaSAlIGxdO1xuICB9XG59KTtcblxuLyoqXG4gKiBDaG9wIGFuIGFycmF5IGludG8gY2h1bmtzIG9mIHNpemUgblxuICogQG5hbWUgY2h1bmtcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIEFycmF5LnByb3RvdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGNodW5rIHNpemVcbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PCo+Pn0gQW4gYXJyYXkgb2YgYXJyYXkgY2h1bmtzXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdjaHVuaycsIHtcbiAgdmFsdWU6IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIEFycmF5LnRpbWVzKGkgPT4gdGhpcy5zbGljZShpICogbiwgaSAqIG4gKyBuKSwgTWF0aC5jZWlsKHRoaXMubGVuZ3RoIC8gbikpO1xuICB9XG59KTtcblxuLyoqXG4gKiBSYW5kb21seSBzaHVmZmxlIGFuIGFycmF5IGluLXBsYWNlXG4gKiBAbmFtZSBzaHVmZmxlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBBcnJheS5wcm90b3R5cGVcbiAqIEByZXR1cm4ge0FycmF5PCo+fSBUaGUgc2h1ZmZsZWQgYXJyYXlcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NodWZmbGUnLCB7XG4gIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGEgPT4gW01hdGgucmFuZG9tKCksIGFdKS5zb3J0KChhLCBiKSA9PiBhWzBdIC0gYlswXSkubWFwKGEgPT4gYVsxXSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEEgMmQgdmVjdG9yXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSB2ZWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gKiBAcHJvcGVydHkge251bWJlcn0geSBUaGUgeSBjb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICovXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHZlY3RvclxuICogQHBhcmFtIHtudW1iZXJ8dmVjfSBbeF0gVGhlIHggY29tcG9uZW50IG9mIHRoZSB2ZWN0b3IsIG9yIGEgdmVjdG9yIHRvIGNvcHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeV0gVGhlIHkgY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAqIEByZXR1cm4ge3ZlY30gQSBuZXcgdmVjdG9yXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5WYXJpb3VzIHdheXMgdG8gaW5pdGlhbGlzZSBhIHZlY3RvcjwvY2FwdGlvbj5cbiAqIGxldCBhID0gdmVjKDMsIDIpOyAgLy8gKDMsIDIpXG4gKiBsZXQgYiA9IHZlYyg0KTsgICAgIC8vICg0LCA0KVxuICogbGV0IGMgPSB2ZWMoYSk7ICAgICAvLyAoMywgMilcbiAqIGxldCBkID0gdmVjKCk7ICAgICAgLy8gKDAsIDApXG4gKi9cbmNvbnN0IHZlYyA9ICh4LCB5KSA9PiAoIXggJiYgIXkgP1xuICB7IHg6IDAsIHk6IDAgfSA6ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgP1xuICAgIHsgeDogeC54IHx8IDAsIHk6IHgueSB8fCAwIH0gOiAoeSA9PT0gbnVsbCB8fCB5ID09PSB1bmRlZmluZWQgP1xuICAgICAgeyB4OiB4LCB5OiB4IH0gOiB7IHg6IHgsIHk6IHkgfSlcbiAgKVxuKTtcblxuLyoqXG4gKiBHZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWN0b3IgYXMgYW4gYXJyYXlcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gZ2V0IGNvbXBvbmVudHMgZnJvbVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIHZlY3RvciBjb21wb25lbnRzIGFzIGFuIGFycmF5XG4gKi9cbnZlYy5jb21wb25lbnRzID0gYSA9PiBbYS54LCBhLnldO1xuXG4vKipcbiAqIFJldHVybiBhIHVuaXQgdmVjdG9yICgxLCAwKVxuICogQHJldHVybiB7dmVjfSBBIHVuaXQgdmVjdG9yICgxLCAwKVxuICovXG52ZWMudXggPSAoKSA9PiB2ZWMoMSwgMCk7XG5cbi8qKlxuICogUmV0dXJuIGEgdW5pdCB2ZWN0b3IgKDAsIDEpXG4gKiBAcmV0dXJuIHt2ZWN9IEEgdW5pdCB2ZWN0b3IgKDAsIDEpXG4gKi9cbnZlYy51eSA9ICgpID0+IHZlYygwLCAxKTtcblxuLyoqXG4gKiBBZGQgdmVjdG9yc1xuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjfSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHt2ZWN9IGEgKyBiXG4gKi9cbnZlYy5hZGQgPSAoYSwgYikgPT4gKHsgeDogYS54ICsgYi54LCB5OiBhLnkgKyBiLnkgfSk7XG5cbi8qKlxuICogU2NhbGUgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge251bWJlcn0gYiBTY2FsYXIgYlxuICogQHJldHVybiB7dmVjfSBhICogYlxuICovXG52ZWMubXVsID0gKGEsIGIpID0+ICh7IHg6IGEueCAqIGIsIHk6IGEueSAqIGIgfSk7XG5cbi8qKlxuICogU3VidHJhY3QgdmVjdG9yc1xuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjfSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHt2ZWN9IGEgLSBiXG4gKi9cbnZlYy5zdWIgPSAoYSwgYikgPT4gKHsgeDogYS54IC0gYi54LCB5OiBhLnkgLSBiLnkgfSk7XG5cbi8qKlxuICogR2V0IHRoZSBsZW5ndGggb2YgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHxhfFxuICovXG52ZWMubGVuID0gYSA9PiBNYXRoLnNxcnQoYS54ICogYS54ICsgYS55ICogYS55KTtcblxuLyoqXG4gKiBHZXQgdGhlIGxlbmd0aCBvZiBhIHZlY3RvciB1c2luZyB0YXhpY2FiIGdlb21ldHJ5XG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHJldHVybiB7bnVtYmVyfSB8YXxcbiAqL1xudmVjLm1hbmhhdHRhbiA9IGEgPT4gTWF0aC5hYnMoYS54KSArIE1hdGguYWJzKGEueSk7XG5cbi8qKlxuICogTm9ybWFsaXNlIGEgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlY30gYSBUaGUgdmVjdG9yIHRvIG5vcm1hbGlzZVxuICogQHJldHVybiB7dmVjfSBeYVxuICovXG52ZWMubm9yID0gYSA9PiB7XG4gIGxldCBsZW4gPSB2ZWMubGVuKGEpO1xuICByZXR1cm4gbGVuID8geyB4OiBhLnggLyBsZW4sIHk6IGEueSAvIGxlbiB9IDogdmVjKCk7XG59O1xuXG4vKipcbiAqIEdldCBhIGRvdCBwcm9kdWN0IG9mIHZlY3RvcnNcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY30gYiBWZWN0b3IgYlxuICogQHJldHVybiB7bnVtYmVyfSBhIOKImSBiXG4gKi9cbnZlYy5kb3QgPSAoYSwgYikgPT4gYS54ICogYi54ICsgYS55ICogYi55O1xuXG4vKipcbiAqIFJvdGF0ZSBhIHZlY3RvciBieSByIHJhZGlhbnNcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gciBUaGUgYW5nbGUgdG8gcm90YXRlIGJ5LCBtZWFzdXJlZCBpbiByYWRpYW5zXG4gKiBAcmV0dXJuIHt2ZWN9IEEgcm90YXRlZCB2ZWN0b3JcbiAqL1xudmVjLnJvdCA9IChhLCByKSA9PiB7XG4gIGxldCBzID0gTWF0aC5zaW4ociksXG4gICAgYyA9IE1hdGguY29zKHIpO1xuICByZXR1cm4geyB4OiBjICogYS54IC0gcyAqIGEueSwgeTogcyAqIGEueCArIGMgKiBhLnkgfTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmVjdG9ycyBhcmUgZXF1YWxcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY30gYiBWZWN0b3IgYlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB2ZWN0b3JzIGEgYW5kIGIgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xudmVjLmVxID0gKGEsIGIpID0+IGEueCA9PT0gYi54ICYmIGEueSA9PT0gYi55O1xuXG4vKipcbiAqIEdldCB0aGUgYW5nbGUgb2YgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhbmdsZSBvZiB2ZWN0b3IgYSBpbiByYWRpYW5zXG4gKi9cbnZlYy5yYWQgPSBhID0+IE1hdGguYXRhbjIoYS55LCBhLngpO1xuXG4vKipcbiAqIENvcHkgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gY29weVxuICogQHJldHVybiB7dmVjfSBBIGNvcHkgb2YgdmVjdG9yIGFcbiAqL1xudmVjLmNweSA9IGEgPT4gdmVjKGEpO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIGNvbXBvbmVudCBvZiBhIHZlY3RvclxuICogQGNhbGxiYWNrIHZlY3Rvck1hcENhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGNvbXBvbmVudCB2YWx1ZVxuICogQHBhcmFtIHsneCcgfCAneSd9IGxhYmVsIFRoZSBjb21wb25lbnQgbGFiZWwgKHggb3IgeSlcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1hcHBlZCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIENhbGwgYSBmdW5jdGlvbiBvbiBlYWNoIGNvbXBvbmVudCBvZiBhIHZlY3RvciBhbmQgYnVpbGQgYSBuZXcgdmVjdG9yIGZyb20gdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY3Rvck1hcENhbGxiYWNrfSBmIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAqIEByZXR1cm4ge3ZlY30gVmVjdG9yIGEgbWFwcGVkIHRocm91Z2ggZlxuICovXG52ZWMubWFwID0gKGEsIGYpID0+ICh7IHg6IGYoYS54LCAneCcpLCB5OiBmKGEueSwgJ3knKSB9KTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgdmVjdG9yIGludG8gYSBzdHJpbmdcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gY29udmVydFxuICogQHBhcmFtIHtzdHJpbmd9IFtzPScsICddIFRoZSBzZXBhcmF0b3Igc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xudmVjLnN0ciA9IChhLCBzID0gJywgJykgPT4gYCR7YS54fSR7c30ke2EueX1gO1xuXG4vKipcbiAqIEEgbWF0cml4XG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBtYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtIFRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgbWF0cml4XG4gKiBAcHJvcGVydHkge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIG1hdHJpeFxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBlbnRyaWVzIFRoZSBtYXRyaXggdmFsdWVzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0cml4XG4gKiBAcGFyYW0ge251bWJlcn0gW209NF0gVGhlIG51bWJlciBvZiByb3dzXG4gKiBAcGFyYW0ge251bWJlcn0gW249NF0gVGhlIG51bWJlciBvZiBjb2x1bW5zXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtlbnRyaWVzPVtdXSBNYXRyaXggdmFsdWVzIGluIHJlYWRpbmcgb3JkZXJcbiAqIEByZXR1cm4ge21hdH0gQSBuZXcgbWF0cml4XG4gKi9cbmNvbnN0IG1hdCA9IChtID0gNCwgbiA9IDQsIGVudHJpZXMgPSBbXSkgPT4gKHtcbiAgbSwgbixcbiAgZW50cmllczogZW50cmllcy5jb25jYXQoQXJyYXkobSAqIG4pLmZpbGwoMCkpLnNsaWNlKDAsIG0gKiBuKVxufSk7XG5cbi8qKlxuICogR2V0IGFuIGlkZW50aXR5IG1hdHJpeCBvZiBzaXplIG5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSBtYXRyaXhcbiAqIEByZXR1cm4ge21hdH0gQW4gaWRlbnRpdHkgbWF0cml4XG4gKi9cbm1hdC5pZGVudGl0eSA9IG4gPT4gbWF0KG4sIG4sIEFycmF5KG4gKiBuKS5maWxsKDApLm1hcCgodiwgaSkgPT4gKyhNYXRoLmZsb29yKGkgLyBuKSA9PT0gaSAlIG4pKSk7XG5cbi8qKlxuICogR2V0IGFuIGVudHJ5IGZyb20gYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgcm93IG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGogVGhlIGNvbHVtbiBvZmZzZXRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZhbHVlIGF0IHBvc2l0aW9uIChpLCBqKSBpbiBtYXRyaXggYVxuICovXG5tYXQuZ2V0ID0gKGEsIGksIGopID0+IGEuZW50cmllc1soaiAtIDEpICsgKGkgLSAxKSAqIGEubl07XG5cbi8qKlxuICogU2V0IGFuIGVudHJ5IG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIHJvdyBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBqIFRoZSBjb2x1bW4gb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gdiBUaGUgdmFsdWUgdG8gc2V0IGluIG1hdHJpeCBhXG4gKi9cbm1hdC5zZXQgPSAoYSwgaSwgaiwgdikgPT4geyBhLmVudHJpZXNbKGogLSAxKSArIChpIC0gMSkgKiBhLm5dID0gdjsgfTtcblxuLyoqXG4gKiBHZXQgYSByb3cgZnJvbSBhIG1hdHJpeCBhcyBhbiBhcnJheVxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBtIFRoZSByb3cgb2Zmc2V0XG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSb3cgbSBmcm9tIG1hdHJpeCBhXG4gKi9cbm1hdC5yb3cgPSAoYSwgbSkgPT4ge1xuICBjb25zdCBzID0gKG0gLSAxKSAqIGEubjtcbiAgcmV0dXJuIGEuZW50cmllcy5zbGljZShzLCBzICsgYS5uKTtcbn07XG5cbi8qKlxuICogR2V0IGEgY29sdW1uIGZyb20gYSBtYXRyaXggYXMgYW4gYXJyYXlcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgY29sdW1uIG9mZnNldFxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQ29sdW1uIG4gZnJvbSBtYXRyaXggYVxuICovXG5tYXQuY29sID0gKGEsIG4pID0+IEFycmF5LnRpbWVzKGkgPT4gbWF0LmdldChhLCAoaSArIDEpLCBuKSwgYS5tKTtcblxuLyoqXG4gKiBBZGQgbWF0cmljZXNcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdH0gYiBNYXRyaXggYlxuICogQHJldHVybiB7bWF0fSBhICsgYlxuICovXG5tYXQuYWRkID0gKGEsIGIpID0+IGEubSA9PT0gYi5tICYmIGEubiA9PT0gYi5uICYmIG1hdC5tYXAoYSwgKHYsIGkpID0+IHYgKyBiLmVudHJpZXNbaV0pO1xuXG4vKipcbiAqIFN1YnRyYWN0IG1hdHJpY2VzXG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHttYXR9IGIgTWF0cml4IGJcbiAqIEByZXR1cm4ge21hdH0gYSAtIGJcbiAqL1xubWF0LnN1YiA9IChhLCBiKSA9PiBhLm0gPT09IGIubSAmJiBhLm4gPT09IGIubiAmJiBtYXQubWFwKGEsICh2LCBpKSA9PiB2IC0gYi5lbnRyaWVzW2ldKTtcblxuLyoqXG4gKiBNdWx0aXBseSBtYXRyaWNlc1xuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0fSBiIE1hdHJpeCBiXG4gKiBAcmV0dXJuIHttYXR8Ym9vbGVhbn0gYWIgb3IgZmFsc2UgaWYgdGhlIG1hdHJpY2VzIGNhbm5vdCBiZSBtdWx0aXBsaWVkXG4gKi9cbm1hdC5tdWwgPSAoYSwgYikgPT4ge1xuICBpZiAoYS5uICE9PSBiLm0pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGNvbnN0IHJlc3VsdCA9IG1hdChhLm0sIGIubik7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGEubTsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPD0gYi5uOyBqKyspIHtcbiAgICAgIG1hdC5zZXQocmVzdWx0LCBpLCBqLCBNYXRoLmRvdChtYXQucm93KGEsIGkpLCBtYXQuY29sKGIsIGopKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFNjYWxlIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGIgU2NhbGFyIGJcbiAqIEByZXR1cm4ge21hdH0gYSAqIGJcbiAqL1xubWF0LnNjYWxlID0gKGEsIGIpID0+IG1hdC5tYXAoYSwgdiA9PiB2ICogYik7XG5cbi8qKlxuICogVHJhbnNwb3NlIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIHRyYW5zcG9zZVxuICogQHJldHVybiB7bWF0fSBBIHRyYW5zcG9zZWQgbWF0cml4XG4gKi9cbm1hdC50cmFucyA9IGEgPT4gbWF0KGEubiwgYS5tLCBBcnJheS50aW1lcyhpID0+IG1hdC5jb2woYSwgKGkgKyAxKSksIGEubikuZmxhdCgpKTtcblxuLyoqXG4gKiBHZXQgdGhlIG1pbm9yIG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIHJvdyBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBqIFRoZSBjb2x1bW4gb2Zmc2V0XG4gKiBAcmV0dXJuIHttYXR8Ym9vbGVhbn0gVGhlIChpLCBqKSBtaW5vciBvZiBtYXRyaXggYSBvciBmYWxzZSBpZiB0aGUgbWF0cml4IGlzIG5vdCBzcXVhcmVcbiAqL1xubWF0Lm1pbm9yID0gKGEsIGksIGopID0+IHtcbiAgaWYgKGEubSAhPT0gYS5uKSB7IHJldHVybiBmYWxzZTsgfVxuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGZvciAobGV0IGlpID0gMTsgaWkgPD0gYS5tOyBpaSsrKSB7XG4gICAgaWYgKGlpID09PSBpKSB7IGNvbnRpbnVlOyB9XG4gICAgZm9yIChsZXQgamogPSAxOyBqaiA8PSBhLm47IGpqKyspIHtcbiAgICAgIGlmIChqaiA9PT0gaikgeyBjb250aW51ZTsgfVxuICAgICAgZW50cmllcy5wdXNoKG1hdC5nZXQoYSwgaWksIGpqKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXQoYS5tIC0gMSwgYS5uIC0gMSwgZW50cmllcyk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcmV0dXJuIHtudW1iZXJ8Ym9vbGVhbn0gfGF8IG9yIGZhbHNlIGlmIHRoZSBtYXRyaXggaXMgbm90IHNxdWFyZVxuICovXG5tYXQuZGV0ID0gYSA9PiB7XG4gIGlmIChhLm0gIT09IGEubikgeyByZXR1cm4gZmFsc2U7IH1cbiAgaWYgKGEubSA9PT0gMSkge1xuICAgIHJldHVybiBhLmVudHJpZXNbMF07XG4gIH1cbiAgaWYgKGEubSA9PT0gMikge1xuICAgIHJldHVybiBhLmVudHJpZXNbMF0gKiBhLmVudHJpZXNbM10gLSBhLmVudHJpZXNbMV0gKiBhLmVudHJpZXNbMl07XG4gIH1cbiAgbGV0IHRvdGFsID0gMCwgc2lnbiA9IDE7XG4gIGZvciAobGV0IGogPSAxOyBqIDw9IGEubjsgaisrKSB7XG4gICAgdG90YWwgKz0gc2lnbiAqIGEuZW50cmllc1tqIC0gMV0gKiBtYXQuZGV0KG1hdC5taW5vcihhLCAxLCBqKSk7XG4gICAgc2lnbiAqPSAtMTtcbiAgfVxuICByZXR1cm4gdG90YWw7XG59O1xuXG4vKipcbiAqIE5vcm1hbGlzZSBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCB0byBub3JtYWxpc2VcbiAqIEByZXR1cm4ge21hdHxib29sZWFufSBeYSBvciBmYWxzZSBpZiB0aGUgbWF0cml4IGlzIG5vdCBzcXVhcmVcbiAqL1xubWF0Lm5vciA9IGEgPT4ge1xuICBpZiAoYS5tICE9PSBhLm4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGNvbnN0IGQgPSBtYXQuZGV0KGEpO1xuICByZXR1cm4gbWF0Lm1hcChhLCBpID0+IGkgKiBkKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCBmcm9tIHdoaWNoIHRvIGdldCB0aGUgYWRqdWdhdGVcbiAqIEByZXR1cm4ge21hdH0gVGhlIGFkanVnYXRlIG9mIGFcbiAqL1xubWF0LmFkaiA9IGEgPT4ge1xuICBjb25zdCBtaW5vcnMgPSBtYXQoYS5tLCBhLm4pO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBhLm07IGkrKykge1xuICAgIGZvciAobGV0IGogPSAxOyBqIDw9IGEubjsgaisrKSB7XG4gICAgICBtYXQuc2V0KG1pbm9ycywgaSwgaiwgbWF0LmRldChtYXQubWlub3IoYSwgaSwgaikpKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgY29mYWN0b3JzID0gbWF0Lm1hcChtaW5vcnMsICh2LCBpKSA9PiB2ICogKGkgJSAyID8gLTEgOiAxKSk7XG4gIHJldHVybiBtYXQudHJhbnMoY29mYWN0b3JzKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBpbnZlcnNlIG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIGludmVydFxuICogQHJldHVybiB7bWF0fGJvb2xlYW59IGFeLTEgb3IgZmFsc2UgaWYgdGhlIG1hdHJpeCBoYXMgbm8gaW52ZXJzZVxuICovXG5tYXQuaW52ID0gYSA9PiB7XG4gIGlmIChhLm0gIT09IGEubikgeyByZXR1cm4gZmFsc2U7IH1cbiAgY29uc3QgZCA9IG1hdC5kZXQoYSk7XG4gIGlmIChkID09PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuICByZXR1cm4gbWF0LnNjYWxlKG1hdC5hZGooYSksIDEgLyBkKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdHdvIG1hdHJpY2VzIGFyZSBlcXVhbFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0fSBiIE1hdHJpeCBiXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1hdHJpY2VzIGEgYW5kIGIgYXJlIGlkZW50aWNhbCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbm1hdC5lcSA9IChhLCBiKSA9PiBhLm0gPT09IGIubSAmJiBhLm4gPT09IGIubiAmJiBtYXQuc3RyKGEpID09PSBtYXQuc3RyKGIpO1xuXG4vKipcbiAqIENvcHkgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybiB7bWF0fSBBIGNvcHkgb2YgbWF0cml4IGFcbiAqL1xubWF0LmNweSA9IGEgPT4gbWF0KGEubSwgYS5uLCBbLi4uYS5lbnRyaWVzXSk7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggZW50cnkgb2YgYSBtYXRyaXhcbiAqIEBjYWxsYmFjayBtYXRyaXhNYXBDYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBlbnRyeSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBlbnRyeSBpbmRleFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbnRyaWVzIFRoZSBhcnJheSBvZiBtYXRyaXggZW50cmllc1xuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWFwcGVkIGVudHJ5XG4gKi9cblxuLyoqXG4gKiBDYWxsIGEgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiBhIG1hdHJpeCBhbmQgYnVpbGQgYSBuZXcgbWF0cml4IGZyb20gdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdHJpeE1hcENhbGxiYWNrfSBmIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeFxuICogQHJldHVybiB7bWF0fSBNYXRyaXggYSBtYXBwZWQgdGhyb3VnaCBmXG4gKi9cbm1hdC5tYXAgPSAoYSwgZikgPT4gbWF0KGEubSwgYS5uLCBhLmVudHJpZXMubWFwKGYpKTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgbWF0cml4IGludG8gYSBzdHJpbmdcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gY29udmVydFxuICogQHBhcmFtIHtzdHJpbmd9IFttcz0nLCAnXSBUaGUgc2VwYXJhdG9yIHN0cmluZyBmb3IgY29sdW1uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtucz0nXFxuJ10gVGhlIHNlcGFyYXRvciBzdHJpbmcgZm9yIHJvd3NcbiAqIEByZXR1cm4ge3N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5tYXQuc3RyID0gKGEsIG1zID0gJywgJywgbnMgPSAnXFxuJykgPT4gYS5lbnRyaWVzLmNodW5rKGEubikubWFwKHIgPT4gci5qb2luKG1zKSkuam9pbihucyk7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHsgdmVjLCBtYXQgfTtcbn1cbiIsImltcG9ydCB7IHZlYyB9IGZyb20gXCJAYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qc1wiO1xuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4vY29uZmlnLmpzb24nO1xuXG50eXBlIERlYnVnT3B0aW9ucyA9IHtcbiAgbWFyZ2luOiBudW1iZXIsXG4gIHBhZGRpbmc6IG51bWJlcixcbiAgZm9udDogc3RyaW5nLFxuICBsaW5lSGVpZ2h0OiBudW1iZXIsXG4gIGZvcmVncm91bmRDb2xvdXI6IENvbG91cixcbiAgYmFja2dyb3VuZENvbG91cjogQ29sb3VyLFxuICBkZWZhdWx0VmFsdWU6IERlYnVnVmFsdWUsXG4gIGRlZmF1bHRNYXJrZXI6IERlYnVnTWFya2VyXG59O1xuXG50eXBlIERlYnVnVmFsdWUgPSB7XG4gIGxhYmVsPzogc3RyaW5nLFxuICB2YWx1ZT86IG51bWJlciB8IHN0cmluZyxcbiAgYWxpZ246ICdsZWZ0JyB8ICdyaWdodCcsXG4gIHNob3dMYWJlbDogYm9vbGVhbixcbiAgcGFkZGluZz86IG51bWJlcixcbiAgZm9udD86IHN0cmluZyxcbiAgZm9yZWdyb3VuZENvbG91cj86IENvbG91cixcbiAgYmFja2dyb3VuZENvbG91cj86IENvbG91clxufTtcblxudHlwZSBEZWJ1Z01hcmtlciA9IHtcbiAgbGFiZWw/OiBzdHJpbmcsXG4gIHZhbHVlPzogbnVtYmVyIHwgc3RyaW5nLFxuICBwb3NpdGlvbj86IHZlYyxcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxuICBzaG93VmFsdWU6IGJvb2xlYW4sXG4gIHNob3dNYXJrZXI6IGJvb2xlYW4sXG4gIG1hcmtlclNpemU6IG51bWJlcixcbiAgbWFya2VyU3R5bGU6ICd4JyB8ICcrJyB8ICcuJyxcbiAgbWFya2VyQ29sb3VyOiBDb2xvdXIsXG4gIHNwYWNlOiAnd29ybGQnIHwgJ3NjcmVlbicsXG4gIHBhZGRpbmc/OiBudW1iZXIsXG4gIGZvbnQ/OiBzdHJpbmcsXG4gIGxhYmVsT2Zmc2V0OiB2ZWMsXG4gIGZvcmVncm91bmRDb2xvdXI/OiBDb2xvdXIsXG4gIGJhY2tncm91bmRDb2xvdXI/OiBDb2xvdXJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlYnVnIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IERlYnVnO1xuICBwcml2YXRlIHZhbHVlczogTWFwPHN0cmluZywgRGVidWdWYWx1ZT47XG4gIHByaXZhdGUgbWFya2VyczogTWFwPHN0cmluZywgRGVidWdNYXJrZXI+O1xuICBwcml2YXRlIG9wdGlvbnM6IERlYnVnT3B0aW9uc1xuICBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRPcHRpb25zOiBEZWJ1Z09wdGlvbnMgPSB7XG4gICAgbWFyZ2luOiAxMCxcbiAgICBwYWRkaW5nOiA0LFxuICAgIGZvbnQ6ICcxMHB0IEx1Y2lkYSBDb25zb2xlLCBtb25vc3BhY2UnLFxuICAgIGxpbmVIZWlnaHQ6IDEyLFxuICAgIGZvcmVncm91bmRDb2xvdXI6ICcjZmZmJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3VyOiAnIzMzMzgnLFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgIHNob3dMYWJlbDogdHJ1ZVxuICAgIH0sXG4gICAgZGVmYXVsdE1hcmtlcjoge1xuICAgICAgc2hvd0xhYmVsOiB0cnVlLFxuICAgICAgc2hvd1ZhbHVlOiB0cnVlLFxuICAgICAgc2hvd01hcmtlcjogdHJ1ZSxcbiAgICAgIG1hcmtlclNpemU6IDYsXG4gICAgICBtYXJrZXJTdHlsZTogJ3gnLFxuICAgICAgbWFya2VyQ29sb3VyOiAnI2NjYycsXG4gICAgICBzcGFjZTogJ3dvcmxkJyxcbiAgICAgIGxhYmVsT2Zmc2V0OiB2ZWMoMTApXG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3Iob3B0aW9uczogUGFydGlhbDxEZWJ1Z09wdGlvbnM+ID0ge30pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB0aGlzLnZhbHVlcyA9IG5ldyBNYXA8c3RyaW5nLCBEZWJ1Z1ZhbHVlPigpO1xuICAgIHRoaXMubWFya2VycyA9IG5ldyBNYXA8c3RyaW5nLCBEZWJ1Z01hcmtlcj4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBkZWJ1ZyByZW5kZXJlciBmb3IgZGlzcGxheWluZyB2YWx1ZXMgYW5kIG1hcmtlcnNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZShvcHRpb25zOiBQYXJ0aWFsPERlYnVnT3B0aW9ucz4gPSB7fSk6IHZvaWQge1xuICAgIERlYnVnLmluc3RhbmNlID0gbmV3IERlYnVnKG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogRGVidWcge1xuICAgIGlmIChEZWJ1Zy5pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICBEZWJ1Zy5pbml0aWFsaXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBEZWJ1Zy5pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgZGVidWcgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdmFsdWUobGFiZWw6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bWJlciwgb3B0aW9uczogUGFydGlhbDxEZWJ1Z1ZhbHVlPiA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZGVidWcgPSBEZWJ1Zy5nZXRJbnN0YW5jZSgpO1xuICAgIGRlYnVnLnZhbHVlcy5zZXQobGFiZWwsIE9iamVjdC5hc3NpZ24oXG4gICAgICB7IGxhYmVsLCB2YWx1ZSB9LFxuICAgICAgZGVidWcuZGVmYXVsdE9wdGlvbnMuZGVmYXVsdFZhbHVlLFxuICAgICAgb3B0aW9uc1xuICAgICkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYSBtYXJrZXIgaW4gd29ybGQgb3Igc2NyZWVuIHNwYWNlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1hcmtlcihsYWJlbDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyLCBwb3NpdGlvbjogdmVjLCBvcHRpb25zOiBQYXJ0aWFsPERlYnVnTWFya2VyPiA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZGVidWcgPSBEZWJ1Zy5nZXRJbnN0YW5jZSgpO1xuICAgIGRlYnVnLm1hcmtlcnMuc2V0KGxhYmVsLCBPYmplY3QuYXNzaWduKFxuICAgICAgeyBsYWJlbCwgdmFsdWUsIHBvc2l0aW9uIH0sXG4gICAgICBkZWJ1Zy5kZWZhdWx0T3B0aW9ucy5kZWZhdWx0TWFya2VyLFxuICAgICAgb3B0aW9uc1xuICAgICkpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IGRlYnVnID0gRGVidWcuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIERyYXcgd29ybGQtc3BhY2UgbWFya2Vyc1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuc2NhbGUoMSAvIGNvbmZpZy5zY2FsZUZhY3RvciwgMSAvIGNvbmZpZy5zY2FsZUZhY3Rvcik7XG4gICAgZGVidWcubWFya2Vycy5mb3JFYWNoKG1hcmtlciA9PiB7XG4gICAgICBpZiAobWFya2VyLnNwYWNlID09PSAnd29ybGQnKSB7XG4gICAgICAgIGRlYnVnLmRyYXdNYXJrZXIoY29udGV4dCwgbWFya2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgIC8vIERyYXcgdmFsdWVzIGFuZCBzY3JlZW4tc3BhY2UgbWFya2Vyc1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIGxldCBwb3NpdGlvbjogdmVjO1xuICAgIGxldCBsZWZ0WSA9IGRlYnVnLm9wdGlvbnMubWFyZ2luO1xuICAgIGxldCByaWdodFkgPSBkZWJ1Zy5vcHRpb25zLm1hcmdpbjtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gKGRlYnVnLm9wdGlvbnMubGluZUhlaWdodCArIGRlYnVnLm9wdGlvbnMucGFkZGluZyAqIDIpO1xuICAgIGRlYnVnLnZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIHN3aXRjaCAodmFsdWUuYWxpZ24pIHtcbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgcG9zaXRpb24gPSB2ZWMoZGVidWcub3B0aW9ucy5tYXJnaW4sIGxlZnRZKTtcbiAgICAgICAgICBsZWZ0WSArPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgcG9zaXRpb24gPSB2ZWMoY29udGV4dC5jYW52YXMuY2xpZW50V2lkdGggLSBkZWJ1Zy5vcHRpb25zLm1hcmdpbiwgcmlnaHRZKTtcbiAgICAgICAgICByaWdodFkgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlYnVnLmRyYXdMYWJlbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgKHZhbHVlLnNob3dMYWJlbCA/IGAke3ZhbHVlLmxhYmVsfTogYCA6ICcnKSArIGAke3ZhbHVlLnZhbHVlfWAsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB2YWx1ZS5hbGlnbixcbiAgICAgICAgdmFsdWUucGFkZGluZyA/PyBkZWJ1Zy5vcHRpb25zLnBhZGRpbmcsXG4gICAgICAgIHZhbHVlLmZvbnQgPz8gZGVidWcub3B0aW9ucy5mb250LFxuICAgICAgICB2YWx1ZS5mb3JlZ3JvdW5kQ29sb3VyID8/IGRlYnVnLm9wdGlvbnMuZm9yZWdyb3VuZENvbG91cixcbiAgICAgICAgdmFsdWUuYmFja2dyb3VuZENvbG91ciA/PyBkZWJ1Zy5vcHRpb25zLmJhY2tncm91bmRDb2xvdXJcbiAgICAgICk7XG4gICAgfSk7XG4gICAgZGVidWcubWFya2Vycy5mb3JFYWNoKG1hcmtlciA9PiB7XG4gICAgICBpZiAobWFya2VyLnNwYWNlID09PSAnc2NyZWVuJykge1xuICAgICAgICBkZWJ1Zy5kcmF3TWFya2VyKGNvbnRleHQsIG1hcmtlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAvLyBDbGVhciB2YWx1ZXMgYW5kIG1hcmtlcnMgcmVhZHkgZm9yIG5leHQgZnJhbWVcbiAgICBkZWJ1Zy52YWx1ZXMuY2xlYXIoKTtcbiAgICBkZWJ1Zy5tYXJrZXJzLmNsZWFyKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdNYXJrZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBtYXJrZXI6IERlYnVnTWFya2VyKTogdm9pZCB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29uc3QgcG9zaXRpb24gPSB2ZWMubXVsKG1hcmtlci5wb3NpdGlvbiA/PyB2ZWMoKSwgY29uZmlnLnNjYWxlRmFjdG9yKTtcbiAgICBpZiAobWFya2VyLnNob3dMYWJlbCB8fCBtYXJrZXIuc2hvd1ZhbHVlKSB7XG4gICAgICB0aGlzLmRyYXdMYWJlbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgKG1hcmtlci5zaG93TGFiZWwgPyBgJHttYXJrZXIubGFiZWx9OiBgIDogJycpICsgKG1hcmtlci5zaG93VmFsdWUgPyBgJHttYXJrZXIudmFsdWV9YCA6ICcnKSxcbiAgICAgICAgdmVjLmFkZChwb3NpdGlvbiA/PyB2ZWMoKSwgbWFya2VyLmxhYmVsT2Zmc2V0KSxcbiAgICAgICAgJ2xlZnQnLFxuICAgICAgICBtYXJrZXIucGFkZGluZyA/PyB0aGlzLm9wdGlvbnMucGFkZGluZyxcbiAgICAgICAgbWFya2VyLmZvbnQgPz8gdGhpcy5vcHRpb25zLmZvbnQsXG4gICAgICAgIG1hcmtlci5mb3JlZ3JvdW5kQ29sb3VyID8/IHRoaXMub3B0aW9ucy5mb3JlZ3JvdW5kQ29sb3VyLFxuICAgICAgICBtYXJrZXIuYmFja2dyb3VuZENvbG91ciA/PyB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG91clxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG1hcmtlci5zaG93TWFya2VyKSB7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDI7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29udGV4dC5maWxsU3R5bGUgPSBtYXJrZXIubWFya2VyQ29sb3VyIGFzIHN0cmluZztcbiAgICAgIHN3aXRjaCAobWFya2VyLm1hcmtlclN0eWxlKSB7XG4gICAgICAgIGNhc2UgJ3gnOlxuICAgICAgICAgIHRoaXMuZHJhd0Nyb3NzKGNvbnRleHQsIHBvc2l0aW9uLCBtYXJrZXIubWFya2VyU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgIHRoaXMuZHJhd1BsdXMoY29udGV4dCwgcG9zaXRpb24sIG1hcmtlci5tYXJrZXJTaXplKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLic6XG4gICAgICAgICAgdGhpcy5kcmF3RG90KGNvbnRleHQsIHBvc2l0aW9uLCBtYXJrZXIubWFya2VyU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3TGFiZWwoXG4gICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogdmVjLFxuICAgIGFsaWduOiAnbGVmdCcgfCAncmlnaHQnLFxuICAgIHBhZGRpbmc6IG51bWJlcixcbiAgICBmb250OiBzdHJpbmcsXG4gICAgZm9yZWdyb3VuZENvbG91cjogQ29sb3VyLFxuICAgIGJhY2tncm91bmRDb2xvdXI6IENvbG91clxuICApOiB2b2lkIHtcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgY29uc3QgYmFja2dyb3VuZFNpemUgPSB7XG4gICAgICB3aWR0aDogY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aCArIHBhZGRpbmcgKiAyLFxuICAgICAgaGVpZ2h0OiB0aGlzLm9wdGlvbnMubGluZUhlaWdodCArIHBhZGRpbmcgKiAyXG4gICAgfTtcbiAgICBjb25zdCB4ID0gYWxpZ24gPT09ICdyaWdodCcgPyAocG9zaXRpb24ueCAtIGJhY2tncm91bmRTaXplLndpZHRoKSA6IHBvc2l0aW9uLng7XG5cbiAgICAvLyBEcmF3IGJhY2tncm91bmRcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvdXIgYXMgc3RyaW5nO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICB4IC0gcGFkZGluZyxcbiAgICAgIHBvc2l0aW9uLnkgLSBwYWRkaW5nLFxuICAgICAgYmFja2dyb3VuZFNpemUud2lkdGgsXG4gICAgICBiYWNrZ3JvdW5kU2l6ZS5oZWlnaHRcbiAgICApO1xuXG4gICAgLy8gRHJhdyB0ZXh0XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBmb3JlZ3JvdW5kQ29sb3VyIGFzIHN0cmluZztcbiAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHBvc2l0aW9uLnkpO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3Q3Jvc3MoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3NpdGlvbjogdmVjLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnN0IGhhbGZTaXplID0gc2l6ZSAvIDI7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCAtIGhhbGZTaXplLCBwb3NpdGlvbi55IC0gaGFsZlNpemUpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLnggKyBoYWxmU2l6ZSwgcG9zaXRpb24ueSArIGhhbGZTaXplKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54IC0gaGFsZlNpemUsIHBvc2l0aW9uLnkgKyBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5saW5lVG8ocG9zaXRpb24ueCArIGhhbGZTaXplLCBwb3NpdGlvbi55IC0gaGFsZlNpemUpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdQbHVzKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zaXRpb246IHZlYywgc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgIGNvbnRleHQubW92ZVRvKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgLSBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5saW5lVG8ocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIGhhbGZTaXplKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54IC0gaGFsZlNpemUsIHBvc2l0aW9uLnkpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLnggKyBoYWxmU2l6ZSwgcG9zaXRpb24ueSk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0RvdChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiB2ZWMsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5hcmMocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgc2l6ZSAvIDIsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjb250ZXh0LmZpbGwoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4vY29uZmlnLmpzb24nO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBEZWJ1ZyBmcm9tICcuL0RlYnVnJztcbmltcG9ydCB7XG4gIENvbnRlbnRNYW5hZ2VyLFxuICBJbnB1dE1hbmFnZXIsXG4gIFN0YXRlTWFuYWdlcixcbn0gZnJvbSAnLi9tYW5hZ2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBsYXN0RnJhbWVDb3VudFRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBmcmFtZVJhdGU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZnJhbWVDb3VudDogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCkge1xuICAgIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSB2YWxpZCBjb250YWluZXIgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZC4nKTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdjYW52YXMnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciBlbGVtZW50IG11c3QgYmUgYSBjYW52YXMuJyk7XG4gICAgfVxuICAgIHRoaXMuY2FudmFzID0gY29udGFpbmVyIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXG4gICAgLy8gR2V0IGEgMmQgY29udGV4dFxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBnZXQgYSAyZCBjb250ZXh0LlwiKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcmVzaXplXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNpemUoKTogdm9pZCB7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAvLyBEaXNhYmxlIGltYWdlIHNtb290aGluZyBmb3IgcGl4ZWxhdGVkIGdyYXBoaWNzXG4gICAgdGhpcy5jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2UgdGhlIGdhbWUgYW5kIHN0YXJ0IHBsYXlpbmdcbiAgICovXG4gIHB1YmxpYyBpbml0aWFsaXNlKCk6IHZvaWQge1xuXG4gICAgLy8gSW5pdGlhbGlzZSBzdWJzeXN0ZW1zXG4gICAgRGVidWcuaW5pdGlhbGlzZSgpO1xuICAgIENvbnRlbnRNYW5hZ2VyLmluaXRpYWxpc2UoKTtcbiAgICBJbnB1dE1hbmFnZXIuaW5pdGlhbGlzZSh0aGlzLmNhbnZhcyk7XG4gICAgU3RhdGVNYW5hZ2VyLmluaXRpYWxpc2UoKTtcblxuICAgIC8vIFN0YXJ0IGdhbWUgbG9vcFxuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5sb29wKCk7XG5cbiAgICAvLyBQdXNoIHRoZSBpbnRybyBzdGF0ZVxuICAgIC8vIFRPRE8gcHVzaCB0aGUgaW50cm8gc3RhdGVcbiAgfVxuXG4gIHByaXZhdGUgbG9vcCgpOiB2b2lkIHtcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IE1hdGgubWluKG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZSwgY29uc3RhbnRzLkZQU19NSU4pO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGZyYW1lcmF0ZVxuICAgIGlmIChub3cgLSB0aGlzLmxhc3RGcmFtZUNvdW50VGltZSA+PSAxMDAwKSB7XG4gICAgICB0aGlzLmxhc3RGcmFtZUNvdW50VGltZSA9IG5vdztcbiAgICAgIHRoaXMuZnJhbWVSYXRlID0gdGhpcy5mcmFtZUNvdW50O1xuICAgICAgdGhpcy5mcmFtZUNvdW50ID0gMDtcbiAgICB9XG4gICAgdGhpcy5mcmFtZUNvdW50Kys7XG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xuICAgIGlmIChjb25maWcuc2hvd0ZQUykge1xuICAgICAgRGVidWcudmFsdWUoJ0ZQUycsIHRoaXMuZnJhbWVSYXRlLCB7IGFsaWduOiAncmlnaHQnIH0pO1xuICAgIH1cblxuICAgIC8vIERvIGdhbWUgbG9vcFxuICAgIHRoaXMudXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgICB0aGlzLmRyYXcoKTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubG9vcC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBTdGF0ZU1hbmFnZXIudXBkYXRlKGR0KTtcbiAgICBJbnB1dE1hbmFnZXIudXBkYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXcoKTogdm9pZCB7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKGNvbmZpZy5zY2FsZUZhY3RvciwgMCwgMCwgY29uZmlnLnNjYWxlRmFjdG9yLCAwLCAwKTtcbiAgICBTdGF0ZU1hbmFnZXIuZHJhdyh0aGlzLmNvbnRleHQpO1xuICAgIERlYnVnLmRyYXcodGhpcy5jb250ZXh0KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEZQU19NSU4gPSAxIC8gMzA7XG4iLCJleHBvcnQgZW51bSBTdGF0ZVRyYW5zaXRpb25UeXBlIHtcbiAgSW4sXG4gIE91dCxcbiAgTm9uZVxufVxuXG5leHBvcnQgZW51bSBLZXkge1xuICBVcCA9ICdBcnJvd1VwJyxcbiAgRG93biA9ICdBcnJvd0Rvd24nLFxuICBMZWZ0ID0gJ0Fycm93TGVmdCcsXG4gIFJpZ2h0ID0gJ0Fycm93UmlnaHQnXG59XG4iLCJpbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuXG53aW5kb3cub25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBnYW1lID0gbmV3IEdhbWUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUnKSk7XG4gIGF3YWl0IGdhbWUuaW5pdGlhbGlzZSgpO1xufTtcbiIsImltcG9ydCAqIGFzIGNvbnRlbnQgZnJvbSAnLi4vLi4vY29udGVudC9jb250ZW50Lmpzb24nO1xuaW1wb3J0ICogYXMgdXRpbGl0aWVzIGZyb20gJy4uL3V0aWxpdGllcyc7XG5cbmNvbnN0IGNvbnRlbnRJdGVtVHlwZXMgPSBbJ2ltYWdlJywgJ3NvdW5kJywgJ2ZvbnQnLCAnanNvbiddIGFzIGNvbnN0O1xudHlwZSBDb250ZW50SXRlbVR5cGUgPSB0eXBlb2YgY29udGVudEl0ZW1UeXBlc1tudW1iZXJdO1xuXG50eXBlIENvbnRlbnRJdGVtID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6IENvbnRlbnRJdGVtVHlwZTtcbiAgYXJnczogc3RyaW5nW107XG59O1xuXG50eXBlIENvbnRlbnRJdGVtTG9hZGVyID0gPFQ+KC4uLmFyZ3M6IHN0cmluZ1tdKSA9PiBQcm9taXNlPFQ+O1xuXG5jb25zdCBjb250ZW50SXRlbUxvYWRlcnM6IHtcbiAgW2tleSBpbiBDb250ZW50SXRlbVR5cGVdOiBDb250ZW50SXRlbUxvYWRlcjtcbn0gPSB7XG4gIGltYWdlOiBhc3luYyA8SFRNTEltYWdlRWxlbWVudD4odXJsOiBzdHJpbmcpOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+ID0+IHtcbiAgICBhd2FpdCB1dGlsaXRpZXMuc2xlZXAoMTAwMCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBsb2FkaW5nIGltYWdlIFwiJHt1cmx9XCIuLi5gKTtcbiAgfSxcbiAgc291bmQ6IGFzeW5jIDxIVE1MQXVkaW9FbGVtZW50Pih1cmw6IHN0cmluZyk6IFByb21pc2U8SFRNTEF1ZGlvRWxlbWVudD4gPT4ge1xuICAgIGF3YWl0IHV0aWxpdGllcy5zbGVlcCgxMDAwKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGxvYWRpbmcgYXVkaW8gXCIke3VybH1cIi4uLmApO1xuICB9LFxuICBmb250OiBhc3luYyA8Rm9udEZhY2U+KHVybDogc3RyaW5nKTogUHJvbWlzZTxGb250RmFjZT4gPT4ge1xuICAgIGF3YWl0IHV0aWxpdGllcy5zbGVlcCgxMDAwKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGxvYWRpbmcgZm9udCBcIiR7dXJsfVwiLi4uYCk7XG4gIH0sXG4gIGpzb246IGFzeW5jICh1cmw6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgYXdhaXQgdXRpbGl0aWVzLnNsZWVwKDEwMDApO1xuICAgIHRocm93IG5ldyBFcnJvcihgbG9hZGluZyBqc29uIFwiJHt1cmx9XCIuLi5gKTtcbiAgfVxufTtcblxuZXhwb3J0IGNsYXNzIENvbnRlbnRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENvbnRlbnRNYW5hZ2VyO1xuICBwcml2YXRlIGNvbnRlbnQ6IENvbnRlbnRJdGVtW107XG4gIHByaXZhdGUgaXRlbXM6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIHB1YmxpYyBzdGF0aWMgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBzdGF0aWMgbG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihjb250ZW50OiBDb250ZW50SXRlbVtdKSB7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBjb250ZW50IG1hbmFnZXIgZm9yIGxvYWRpbmcgY29udGVudCBhc3NldHNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZSgpOiB2b2lkIHtcbiAgICBDb250ZW50TWFuYWdlci5pbnN0YW5jZSA9IG5ldyBDb250ZW50TWFuYWdlcihjb250ZW50Lml0ZW1zIGFzIENvbnRlbnRJdGVtW10pO1xuICAgIGNvbnNvbGUubG9nKGNvbnRlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29udGVudE1hbmFnZXIge1xuICAgIGlmIChDb250ZW50TWFuYWdlci5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbWFuYWdlciBub3QgcHJvcGVybHkgaW5pdGlhbGlzZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIENvbnRlbnRNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChDb250ZW50TWFuYWdlci5sb2FkZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudCBhbHJlYWR5IGxvYWRlZCcpO1xuICAgIH1cbiAgICBjb25zdCBpbnN0YW5jZSA9IENvbnRlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGluc3RhbmNlLmNvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbnRlbnQgaXRlbXMgdG8gbG9hZCcpO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmVzc0RlbHRhID0gMSAvIGluc3RhbmNlLmNvbnRlbnQubGVuZ3RoO1xuICAgIGNvbnN0IGl0ZW1zOiBhbnlbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgYyBvZiBpbnN0YW5jZS5jb250ZW50KSB7XG4gICAgICBpdGVtcy5wdXNoKGF3YWl0IGNvbnRlbnRJdGVtTG9hZGVyc1tjLnR5cGVdKC4uLmMuYXJncykpO1xuICAgICAgQ29udGVudE1hbmFnZXIucHJvZ3Jlc3MgPSBNYXRoLmNsYW1wKENvbnRlbnRNYW5hZ2VyLnByb2dyZXNzICsgcHJvZ3Jlc3NEZWx0YSwgMCwgMSk7XG4gICAgfVxuICAgIGluc3RhbmNlLml0ZW1zID0gaXRlbXM7XG4gICAgQ29udGVudE1hbmFnZXIubG9hZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0PFQ+KG5hbWU6IHN0cmluZyk6IFQge1xuICAgIGlmICghQ29udGVudE1hbmFnZXIubG9hZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbm90IGxvYWRlZCcpO1xuICAgIH1cbiAgICBjb25zdCBpbnN0YW5jZSA9IENvbnRlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKCEobmFtZSBpbiBpbnN0YW5jZS5pdGVtcykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udGVudCBpdGVtIFwiJHtuYW1lfVwiIG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UuaXRlbXNbbmFtZV0gYXMgVDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEVudGl0eU1hbmFnZXIge1xuICAvL1xufVxuIiwiaW1wb3J0IHsgS2V5IH0gZnJvbSBcIi4uL2VudW1zXCI7XG5pbXBvcnQgeyB2ZWMgfSBmcm9tIFwiQGJhc2VtZW50dW5pdmVyc2UvY29tbW9uanNcIjtcblxudHlwZSBNb3VzZVN0YXRlID0ge1xuICBidXR0b246IGJvb2xlYW4sXG4gIHBvc2l0aW9uOiB2ZWMsXG4gIHdoZWVsOiBudW1iZXJcbn07XG5cbnR5cGUgS2V5Ym9hcmRTdGF0ZSA9IHtcbiAgW2tleSBpbiBLZXldPzogYm9vbGVhblxufTtcblxuZXhwb3J0IGNsYXNzIElucHV0TWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBJbnB1dE1hbmFnZXI7XG4gIHByaXZhdGUga2V5Ym9hcmRTdGF0ZTogS2V5Ym9hcmRTdGF0ZSA9IHt9O1xuICBwcml2YXRlIHByZXZpb3VzS2V5Ym9hcmRTdGF0ZTogS2V5Ym9hcmRTdGF0ZSA9IHt9O1xuICBwcml2YXRlIG1vdXNlU3RhdGU6IE1vdXNlU3RhdGUgPSB7IGJ1dHRvbjogZmFsc2UsIHBvc2l0aW9uOiB2ZWMoKSwgd2hlZWw6IDAgfTtcbiAgcHJpdmF0ZSBwcmV2aW91c01vdXNlU3RhdGU6IE1vdXNlU3RhdGUgPSB7IGJ1dHRvbjogZmFsc2UsIHBvc2l0aW9uOiB2ZWMoKSwgd2hlZWw6IDAgfTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7XG4gICAgICB0aGlzLm1vdXNlU3RhdGUuYnV0dG9uID0gZmFsc2U7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiB7XG4gICAgICB0aGlzLm1vdXNlU3RhdGUuYnV0dG9uID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB7XG4gICAgICB0aGlzLm1vdXNlU3RhdGUuYnV0dG9uID0gZmFsc2U7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGUgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLnBvc2l0aW9uLnggPSBlLm9mZnNldFg7XG4gICAgICB0aGlzLm1vdXNlU3RhdGUucG9zaXRpb24ueSA9IGUub2Zmc2V0WTtcbiAgICB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuICAgICAgdGhpcy5rZXlib2FyZFN0YXRlW2UuY29kZSBhcyBLZXldID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcbiAgICAgIHRoaXMua2V5Ym9hcmRTdGF0ZVtlLmNvZGUgYXMgS2V5XSA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGUgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLndoZWVsID0gZS5kZWx0YVkgPiAwID8gMSA6IC0xO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2UgdGhlIGlucHV0IG1hbmFnZXIgZm9yIG1hbmFnaW5nIG1vdXNlIGFuZCBrZXlib2FyZCBpbnB1dFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBpbml0aWFsaXNlKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpOiB2b2lkIHtcbiAgICBJbnB1dE1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgSW5wdXRNYW5hZ2VyKGNhbnZhcyk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBJbnB1dE1hbmFnZXIge1xuICAgIGlmIChJbnB1dE1hbmFnZXIuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnB1dCBtYW5hZ2VyIG5vdCBwcm9wZXJseSBpbml0aWFsaXNlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gSW5wdXRNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGlucHV0IGRldmljZXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdXBkYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaW5zdGFuY2UucHJldmlvdXNLZXlib2FyZFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZSk7XG4gICAgaW5zdGFuY2UucHJldmlvdXNNb3VzZVN0YXRlID0ge1xuICAgICAgYnV0dG9uOiBpbnN0YW5jZS5tb3VzZVN0YXRlLmJ1dHRvbixcbiAgICAgIHBvc2l0aW9uOiB2ZWMuY3B5KGluc3RhbmNlLm1vdXNlU3RhdGUucG9zaXRpb24pLFxuICAgICAgd2hlZWw6IDBcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEga2V5IGlzIGN1cnJlbnRseSBwcmVzc2VkIGRvd25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMga2V5RG93bihrZXk/OiBLZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgLy8gQ2hlY2sgaWYgYW55IGtleSBpcyBkb3duXG4gICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IGsgaW4gaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZSkge1xuICAgICAgICBpZiAoaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gISFpbnN0YW5jZS5rZXlib2FyZFN0YXRlW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBrZXkgaGFzIGJlZW4gcHJlc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBrZXlQcmVzc2VkKGtleT86IEtleSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICAvLyBDaGVjayBpZiBhbnkga2V5IHdhcyBwcmVzc2VkXG4gICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IGsgaW4gaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV0gJiZcbiAgICAgICAgICAoXG4gICAgICAgICAgICAhKGsgaW4gaW5zdGFuY2UucHJldmlvdXNLZXlib2FyZFN0YXRlKSB8fFxuICAgICAgICAgICAgIWluc3RhbmNlLnByZXZpb3VzS2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV1cbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIWluc3RhbmNlLmtleWJvYXJkU3RhdGVba2V5XSAmJiAhaW5zdGFuY2UucHJldmlvdXNLZXlib2FyZFN0YXRlW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBrZXkgaGFzIGJlZW4gcmVsZWFzZWQgc2luY2UgdGhlIGxhc3QgZnJhbWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMga2V5UmVsZWFzZWQoa2V5PzogS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBrZXkgd2FzIHJlbGVhc2VkXG4gICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IGsgaW4gaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWluc3RhbmNlLmtleWJvYXJkU3RhdGVbayBhcyBLZXldICYmXG4gICAgICAgICAgISFpbnN0YW5jZS5wcmV2aW91c0tleWJvYXJkU3RhdGVbayBhcyBLZXldXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZVtrZXldICYmICEhaW5zdGFuY2UucHJldmlvdXNLZXlib2FyZFN0YXRlW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBtb3VzZSBidXR0b24gaXMgY3VycmVudGx5IHByZXNzZWQgZG93blxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZURvd24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gISFpbnN0YW5jZS5tb3VzZVN0YXRlLmJ1dHRvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG1vdXNlIGJ1dHRvbiBoYXMgYmVlbiBwcmVzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlUHJlc3NlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiAhIWluc3RhbmNlLm1vdXNlU3RhdGUuYnV0dG9uICYmICFpbnN0YW5jZS5wcmV2aW91c01vdXNlU3RhdGUuYnV0dG9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbW91c2UgYnV0dG9uIGhhcyBiZWVuIHJlbGVhc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlUmVsZWFzZWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gIWluc3RhbmNlLm1vdXNlU3RhdGUuYnV0dG9uICYmICEhaW5zdGFuY2UucHJldmlvdXNNb3VzZVN0YXRlLmJ1dHRvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgbW91c2V3aGVlbCBpcyBzY3JvbGxpbmcgdXBcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VXaGVlbFVwKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLm1vdXNlU3RhdGUud2hlZWwgPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBtb3VzZXdoZWVsIGlzIHNjcm9sbGluZyBkb3duXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlV2hlZWxEb3duKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLm1vdXNlU3RhdGUud2hlZWwgPCAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBtb3VzZSBwb3NpdGlvbiBpbiBzY3JlZW4tc3BhY2VcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VQb3NpdGlvbigpOiB2ZWMge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLm1vdXNlU3RhdGUucG9zaXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vc3RhdGVzL1N0YXRlJztcbmltcG9ydCB7IFN0YXRlVHJhbnNpdGlvblR5cGUgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU3RhdGVNYW5hZ2VyO1xuICBwcml2YXRlIHN0YXRlczogU3RhdGVbXSA9IFtdO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZSgpOiB2b2lkIHtcbiAgICBTdGF0ZU1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgU3RhdGVNYW5hZ2VyKCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTdGF0ZU1hbmFnZXIge1xuICAgIGlmIChTdGF0ZU1hbmFnZXIuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBtYW5hZ2VyIG5vdCBwcm9wZXJseSBpbml0aWFsaXNlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gU3RhdGVNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBwdXNoKHN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IFN0YXRlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGluc3RhbmNlLnN0YXRlcy5wdXNoKHN0YXRlKTtcblxuICAgIC8vIEluaXRpYWxpc2UgdGhlIHN0YXRlIGFuZCBzdGFydCB0cmFuc2l0aW9uaW5nIGluXG4gICAgc3RhdGUuaW5pdGlhbGlzZSgpO1xuICAgIHN0YXRlLnRyYW5zaXRpb25JbigpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgcG9wKCk6IFN0YXRlIHwgbnVsbCB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBTdGF0ZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBsYXN0OiBudW1iZXIgPSBpbnN0YW5jZS5zdGF0ZXMubGVuZ3RoIC0gMTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSB0b3AtbW9zdCBzdGF0ZSB0aGF0IGlzbid0IGN1cnJlbnRseSB0cmFuc2l0aW9uaW5nIG91dFxuICAgICAgd2hpbGUgKGxhc3QgPiAwICYmIGluc3RhbmNlLnN0YXRlc1tsYXN0XS50cmFuc2l0aW9uVHlwZSA9PT0gU3RhdGVUcmFuc2l0aW9uVHlwZS5PdXQpIHtcbiAgICAgICAgbGFzdC0tO1xuICAgICAgfVxuICAgICAgaWYgKGxhc3QgPj0gMCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGluc3RhbmNlLnN0YXRlc1tsYXN0XTtcblxuICAgICAgICAvLyBTdGFydCB0cmFuc2l0aW9uaW5nIG91dFxuICAgICAgICBzdGF0ZS50cmFuc2l0aW9uT3V0KCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNsZWFyKCk6IHZvaWQge1xuICAgIGNvbnN0IGluc3RhbmNlID0gU3RhdGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaW5zdGFuY2Uuc3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgaWYgKHN0YXRlLnRyYW5zaXRpb25UeXBlICE9PSBTdGF0ZVRyYW5zaXRpb25UeXBlLk91dCkge1xuICAgICAgICBzdGF0ZS50cmFuc2l0aW9uT3V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBTdGF0ZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHRvcC1tb3N0IHN0YXRlIHRoYXQgaXNuJ3QgY3VycmVudGx5IHRyYW5zaXRpb25pbmcgb3V0XG4gICAgICBmb3IgKGxldCBpID0gaW5zdGFuY2Uuc3RhdGVzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICBpZiAoaW5zdGFuY2Uuc3RhdGVzW2ldLnRyYW5zaXRpb25UeXBlICE9PSBTdGF0ZVRyYW5zaXRpb25UeXBlLk91dCkge1xuICAgICAgICAgIGluc3RhbmNlLnN0YXRlc1tpXS51cGRhdGUoZHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBhbGwgc3RhdGUgdHJhbnNpdGlvbnNcbiAgICAgIGluc3RhbmNlLnN0YXRlcy5mb3JFYWNoKHN0YXRlID0+IHtcbiAgICAgICAgc3RhdGUudXBkYXRlVHJhbnNpdGlvbihkdCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIGFueSBkaXNwb3NlZCBzdGF0ZXNcbiAgICAgIGluc3RhbmNlLnN0YXRlcyA9IGluc3RhbmNlLnN0YXRlcy5maWx0ZXIoc3RhdGUgPT4gIXN0YXRlLmRpc3Bvc2VkKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGRyYXcoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBTdGF0ZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRyYXdTdGF0ZXMgPSBbaW5zdGFuY2Uuc3RhdGVzW2luc3RhbmNlLnN0YXRlcy5sZW5ndGggLSAxXV07XG4gICAgICBsZXQgdHJhbnNwYXJlbnRTdGF0ZUluZGV4ID0gaW5zdGFuY2Uuc3RhdGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGxpc3Qgb2Ygc3RhdGVzIHRoYXQgbmVlZCB0byBiZSBkcmF3biAodHJhbnNwYXJlbnQgc3RhdGVzIGFsc28gZGlzcGxheVxuICAgICAgLy8gdGhlIHN0YXRlIHVuZGVybmVhdGggdGhlbSBpbiB0aGUgc3RhY2spXG4gICAgICB3aGlsZSAoXG4gICAgICAgIHRyYW5zcGFyZW50U3RhdGVJbmRleCA+IDAgJiZcbiAgICAgICAgaW5zdGFuY2Uuc3RhdGVzW3RyYW5zcGFyZW50U3RhdGVJbmRleF0udHJhbnNwYXJlbnRcbiAgICAgICkge1xuICAgICAgICBkcmF3U3RhdGVzLnB1c2goaW5zdGFuY2Uuc3RhdGVzWy0tdHJhbnNwYXJlbnRTdGF0ZUluZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERyYXcgc3RhdGVzIGluIHJldmVyc2Ugb3JkZXIgaS5lLiBib3R0b20gdG8gdG9wXG4gICAgICBmb3IgKGxldCBpID0gZHJhd1N0YXRlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgZHJhd1N0YXRlc1tpXS5kcmF3KGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IHsgQ29udGVudE1hbmFnZXIgfSBmcm9tICcuL0NvbnRlbnRNYW5hZ2VyJztcbmV4cG9ydCB7IElucHV0TWFuYWdlciB9IGZyb20gJy4vSW5wdXRNYW5hZ2VyJztcbmV4cG9ydCB7IFN0YXRlTWFuYWdlciB9IGZyb20gJy4vU3RhdGVNYW5hZ2VyJztcbmV4cG9ydCB7IEVudGl0eU1hbmFnZXIgfSBmcm9tICcuL0VudGl0eU1hbmFnZXInO1xuIiwiLyoqXG4gKiBQYXVzZSBleGVjdXRpb24gZm9yIHNvbWUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2xlZXAobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==