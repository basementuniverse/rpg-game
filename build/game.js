(()=>{var t={578:t=>{"use strict";t.exports=JSON.parse('{"items":[{"name":"logo","type":"image","args":["content/images/logo.png"]},{"name":"testfont","type":"font","args":["content/fonts/aniron.ttf","aniron"]},{"name":"testdata1","type":"json","args":["content/json/testdata1.json"]},{"name":"testdata2","type":"json","args":["content/json/testdata2.json"]},{"name":"testdata3","type":"json","args":["content/json/testdata3.json"]},{"name":"testsound","type":"sound","args":["content/sounds/blip1.wav"]}]}')},44:t=>{Math.floatEquals=(t,e,n=Number.EPSILON)=>Math.abs(t-e)<n,Math.clamp=(t,e=0,n=1)=>t<e?e:t>n?n:t,Math.frac=t=>t>=0?t-Math.floor(t):t-Math.ceil(t),Math.lerp=(t,e,n)=>t+(e-t)*n,Math.unlerp=(t,e,n)=>(n-t)/(e-t),Math.blerp=(t,e,n,a,o,r)=>Math.lerp(Math.lerp(t,e,o),Math.lerp(n,a,o),r),Math.remap=(t,e,n,a,o)=>a+(t-e)*(o-a)/(n-e),Math.smoothstep=(t,e,n)=>Math.lerp(t,e,3*Math.pow(n,2)-2*Math.pow(n,3)),Math.radians=t=>Math.PI/180*t,Math.degrees=t=>180/Math.PI*t,Math.randomBetween=(t,e)=>Math.random()*(e-t)+t,Math.randomIntBetween=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,Math.cltRandom=(t=.5,e=.5,n=2)=>{let a=0;for(let t=n;t--;)a+=Math.random();return t+(a-n/2)/(n/2)*e},Math.cltRandomInt=(t,e)=>Math.floor(t+Math.cltRandom(.5,.5,2)*(e+1-t)),Math.weightedRandom=t=>{let e=t.reduce(((t,e)=>t+e),0),n=0;const a=Math.random()*e;for(;e>a;)e-=t[n++];return n-1},Math.lerpArray=(t,e,n=Math.lerp)=>{const a=e*(t.length-1),o=Math.clamp(Math.trunc(a),0,t.length-1);return n(t[o]||0,t[o+1]||0,Math.frac(a))},Math.dot=(t,e)=>t.reduce(((t,n,a)=>t+n*e[a]),0),Math.factorial=t=>{let e=1;for(let n=2;n<=t;n++)e*=n;return e},Math.permutation=(t,e)=>Math.factorial(t)/Math.factorial(t-e),Math.combination=(t,e)=>Math.factorial(t)/(Math.factorial(e)*Math.factorial(t-e)),Array.times=(t,e)=>Array(e).fill(0).map(((e,n)=>t(n))),Array.range=t=>Array.times((t=>t),t),Object.defineProperty(Array.prototype,"at",{value:function(t){const e=this.length;return this[t<0?e-Math.abs(t+1)%e-1:t%e]}}),Object.defineProperty(Array.prototype,"chunk",{value:function(t){return Array.times((e=>this.slice(e*t,e*t+t)),Math.ceil(this.length/t))}}),Object.defineProperty(Array.prototype,"shuffle",{value:function(){return this.map((t=>[Math.random(),t])).sort(((t,e)=>t[0]-e[0])).map((t=>t[1]))}});const e=(t,e)=>t||e?"object"==typeof t?{x:t.x||0,y:t.y||0}:null==e?{x:t,y:t}:{x:t,y:e}:{x:0,y:0};e.components=t=>[t.x,t.y],e.ux=()=>e(1,0),e.uy=()=>e(0,1),e.add=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),e.mul=(t,e)=>({x:t.x*e,y:t.y*e}),e.sub=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),e.len=t=>Math.sqrt(t.x*t.x+t.y*t.y),e.manhattan=t=>Math.abs(t.x)+Math.abs(t.y),e.nor=t=>{let n=e.len(t);return n?{x:t.x/n,y:t.y/n}:e()},e.dot=(t,e)=>t.x*e.x+t.y*e.y,e.rot=(t,e)=>{let n=Math.sin(e),a=Math.cos(e);return{x:a*t.x-n*t.y,y:n*t.x+a*t.y}},e.eq=(t,e)=>t.x===e.x&&t.y===e.y,e.rad=t=>Math.atan2(t.y,t.x),e.cpy=t=>e(t),e.map=(t,e)=>({x:e(t.x,"x"),y:e(t.y,"y")}),e.str=(t,e=", ")=>`${t.x}${e}${t.y}`;const n=(t=4,e=4,n=[])=>({m:t,n:e,entries:n.concat(Array(t*e).fill(0)).slice(0,t*e)});n.identity=t=>n(t,t,Array(t*t).fill(0).map(((e,n)=>+(Math.floor(n/t)===n%t)))),n.get=(t,e,n)=>t.entries[n-1+(e-1)*t.n],n.set=(t,e,n,a)=>{t.entries[n-1+(e-1)*t.n]=a},n.row=(t,e)=>{const n=(e-1)*t.n;return t.entries.slice(n,n+t.n)},n.col=(t,e)=>Array.times((a=>n.get(t,a+1,e)),t.m),n.add=(t,e)=>t.m===e.m&&t.n===e.n&&n.map(t,((t,n)=>t+e.entries[n])),n.sub=(t,e)=>t.m===e.m&&t.n===e.n&&n.map(t,((t,n)=>t-e.entries[n])),n.mul=(t,e)=>{if(t.n!==e.m)return!1;const a=n(t.m,e.n);for(let o=1;o<=t.m;o++)for(let r=1;r<=e.n;r++)n.set(a,o,r,Math.dot(n.row(t,o),n.col(e,r)));return a},n.scale=(t,e)=>n.map(t,(t=>t*e)),n.trans=t=>n(t.n,t.m,Array.times((e=>n.col(t,e+1)),t.n).flat()),n.minor=(t,e,a)=>{if(t.m!==t.n)return!1;const o=[];for(let r=1;r<=t.m;r++)if(r!==e)for(let e=1;e<=t.n;e++)e!==a&&o.push(n.get(t,r,e));return n(t.m-1,t.n-1,o)},n.det=t=>{if(t.m!==t.n)return!1;if(1===t.m)return t.entries[0];if(2===t.m)return t.entries[0]*t.entries[3]-t.entries[1]*t.entries[2];let e=0,a=1;for(let o=1;o<=t.n;o++)e+=a*t.entries[o-1]*n.det(n.minor(t,1,o)),a*=-1;return e},n.nor=t=>{if(t.m!==t.n)return!1;const e=n.det(t);return n.map(t,(t=>t*e))},n.adj=t=>{const e=n(t.m,t.n);for(let a=1;a<=t.m;a++)for(let o=1;o<=t.n;o++)n.set(e,a,o,n.det(n.minor(t,a,o)));const a=n.map(e,((t,e)=>t*(e%2?-1:1)));return n.trans(a)},n.inv=t=>{if(t.m!==t.n)return!1;const e=n.det(t);return 0!==e&&n.scale(n.adj(t),1/e)},n.eq=(t,e)=>t.m===e.m&&t.n===e.n&&n.str(t)===n.str(e),n.cpy=t=>n(t.m,t.n,[...t.entries]),n.map=(t,e)=>n(t.m,t.n,t.entries.map(e)),n.str=(t,e=", ",n="\n")=>t.entries.chunk(t.n).map((t=>t.join(e))).join(n),t.exports={vec:e,mat:n}},76:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(44),o=n(269);class r{constructor(t={}){this.defaultOptions={margin:10,padding:4,font:"10pt Lucida Console, monospace",lineHeight:12,foregroundColour:"#fff",backgroundColour:"#3338",defaultValue:{align:"left",showLabel:!0},defaultMarker:{showLabel:!0,showValue:!0,showMarker:!0,markerSize:6,markerStyle:"x",markerColour:"#ccc",space:"world",labelOffset:a.vec(10)}},this.options=Object.assign({},this.defaultOptions,t),this.values=new Map,this.markers=new Map}static initialise(t={}){r.instance=new r(t)}static getInstance(){return null==r.instance&&r.initialise(),r.instance}static value(t,e,n={}){const a=r.getInstance();a.values.set(t,Object.assign({label:t,value:e},a.defaultOptions.defaultValue,n))}static marker(t,e,n,a={}){const o=r.getInstance();o.markers.set(t,Object.assign({label:t,value:e,position:n},o.defaultOptions.defaultMarker,a))}static draw(t){const e=r.getInstance();let n;t.save(),t.scale(1/o.scaleFactor,1/o.scaleFactor),e.markers.forEach((n=>{"world"===n.space&&e.drawMarker(t,n)})),t.restore(),t.save(),t.setTransform(1,0,0,1,0,0);let s=e.options.margin,i=e.options.margin;const u=e.options.lineHeight+2*e.options.padding;e.values.forEach((o=>{var r,c,l,d;switch(o.align){case"left":n=a.vec(e.options.margin,s),s+=u;break;case"right":n=a.vec(t.canvas.clientWidth-e.options.margin,i),i+=u}e.drawLabel(t,(o.showLabel?o.label+": ":"")+o.value,n,o.align,null!==(r=o.padding)&&void 0!==r?r:e.options.padding,null!==(c=o.font)&&void 0!==c?c:e.options.font,null!==(l=o.foregroundColour)&&void 0!==l?l:e.options.foregroundColour,null!==(d=o.backgroundColour)&&void 0!==d?d:e.options.backgroundColour)})),e.markers.forEach((n=>{"screen"===n.space&&e.drawMarker(t,n)})),t.restore(),e.values.clear(),e.markers.clear()}drawMarker(t,e){var n,r,s,i,u;t.save();const c=a.vec.mul(null!==(n=e.position)&&void 0!==n?n:a.vec(),o.scaleFactor);if((e.showLabel||e.showValue)&&this.drawLabel(t,(e.showLabel?e.label+": ":"")+(e.showValue?""+e.value:""),a.vec.add(null!=c?c:a.vec(),e.labelOffset),"left",null!==(r=e.padding)&&void 0!==r?r:this.options.padding,null!==(s=e.font)&&void 0!==s?s:this.options.font,null!==(i=e.foregroundColour)&&void 0!==i?i:this.options.foregroundColour,null!==(u=e.backgroundColour)&&void 0!==u?u:this.options.backgroundColour),e.showMarker)switch(t.lineWidth=2,t.strokeStyle=t.fillStyle=e.markerColour,e.markerStyle){case"x":this.drawCross(t,c,e.markerSize);break;case"+":this.drawPlus(t,c,e.markerSize);break;case".":this.drawDot(t,c,e.markerSize)}t.restore()}drawLabel(t,e,n,a,o,r,s,i){t.save(),t.font=r,t.textBaseline="top";const u={width:t.measureText(e).width+2*o,height:this.options.lineHeight+2*o},c="right"===a?n.x-u.width:n.x;t.fillStyle=i,t.fillRect(c-o,n.y-o,u.width,u.height),t.fillStyle=s,t.fillText(e,c,n.y),t.restore()}drawCross(t,e,n){t.beginPath();const a=n/2;t.moveTo(e.x-a,e.y-a),t.lineTo(e.x+a,e.y+a),t.moveTo(e.x-a,e.y+a),t.lineTo(e.x+a,e.y-a),t.stroke()}drawPlus(t,e,n){t.beginPath();const a=n/2;t.moveTo(e.x,e.y-a),t.lineTo(e.x,e.y+a),t.moveTo(e.x-a,e.y),t.lineTo(e.x+a,e.y),t.stroke()}drawDot(t,e,n){t.beginPath(),t.arc(e.x,e.y,n/2,0,2*Math.PI),t.fill()}}e.default=r},221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(269),o=n(601),r=n(76),s=n(187),i=n(713);e.default=class{constructor(t){if(this.frameRate=0,this.frameCount=0,null===t)throw new Error("A valid container element must be specified.");if("canvas"!==t.tagName.toLowerCase())throw new Error("Container element must be a canvas.");this.canvas=t;const e=this.canvas.getContext("2d");if(null===e)throw new Error("Couldn't get a 2d context.");this.context=e,window.addEventListener("resize",this.resize.bind(this),!1),this.resize()}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context.imageSmoothingEnabled=!1}initialise(){r.default.initialise(),s.ContentManager.initialise(),s.InputManager.initialise(this.canvas),s.StateManager.initialise(),this.lastFrameTime=this.lastFrameCountTime=performance.now(),this.loop(),s.StateManager.push(new i.IntroState)}loop(){const t=performance.now(),e=Math.min(t-this.lastFrameTime,o.FPS_MIN);t-this.lastFrameCountTime>=1e3&&(this.lastFrameCountTime=t,this.frameRate=this.frameCount,this.frameCount=0),this.frameCount++,this.lastFrameTime=t,a.showFPS&&r.default.value("FPS",this.frameRate,{align:"right"}),this.update(e),this.draw(),window.requestAnimationFrame(this.loop.bind(this))}update(t){s.StateManager.update(t),s.InputManager.update()}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.setTransform(a.scaleFactor,0,0,a.scaleFactor,0,0),s.StateManager.draw(this.context),r.default.draw(this.context)}}},601:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FPS_MIN=e.SIMULATE_SLOW_LOADING=e.DEBUG=void 0,e.DEBUG=!0,e.SIMULATE_SLOW_LOADING=!0,e.FPS_MIN=1/30},900:(t,e)=>{"use strict";var n,a;Object.defineProperty(e,"__esModule",{value:!0}),e.Key=e.StateTransitionType=void 0,(a=e.StateTransitionType||(e.StateTransitionType={}))[a.In=0]="In",a[a.Out=1]="Out",a[a.None=2]="None",(n=e.Key||(e.Key={})).Up="ArrowUp",n.Down="ArrowDown",n.Left="ArrowLeft",n.Right="ArrowRight"},607:(t,e,n)=>{"use strict";const a=n(221);window.onload=()=>{new a.default(document.querySelector("#game")).initialise()}},149:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,r){function s(t){try{u(a.next(t))}catch(t){r(t)}}function i(t){try{u(a.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}u((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=void 0,e.FontLoader=(t,e)=>n(void 0,void 0,void 0,(function*(){return new Promise(((n,a)=>{new FontFace(e,`url(${t})`).load().then((t=>{document.fonts.add(t),n(t)})).catch((()=>{a(`Error loading font "${t}"`)}))}))}))},237:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,r){function s(t){try{u(a.next(t))}catch(t){r(t)}}function i(t){try{u(a.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}u((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0,e.ImageLoader=t=>n(void 0,void 0,void 0,(function*(){return new Promise(((e,n)=>{const a=new Image;a.src=t,a.addEventListener("load",(()=>{e(a)})),a.addEventListener("error",(()=>{n(`Error loading image "${t}"`)}))}))}))},605:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,r){function s(t){try{u(a.next(t))}catch(t){r(t)}}function i(t){try{u(a.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}u((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONLoader=void 0,e.JSONLoader=t=>n(void 0,void 0,void 0,(function*(){return new Promise(((e,n)=>{window.fetch(t,{method:"GET",headers:{"content-type":"application/json;charset=UTF-8"}}).then((t=>t.json())).then((t=>{e(t)})).catch((()=>{n(`Error loading json "${t}"`)}))}))}))},133:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,r){function s(t){try{u(a.next(t))}catch(t){r(t)}}function i(t){try{u(a.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}u((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SoundLoader=void 0,e.SoundLoader=t=>n(void 0,void 0,void 0,(function*(){return new Promise(((e,n)=>{const a=new Audio(t);a.addEventListener("loadeddata",(()=>{e(a)})),a.addEventListener("error",(()=>{n(`Error loading sound "${t}"`)}))}))}))},871:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundLoader=e.JSONLoader=e.ImageLoader=e.FontLoader=void 0;var a=n(149);Object.defineProperty(e,"FontLoader",{enumerable:!0,get:function(){return a.FontLoader}});var o=n(237);Object.defineProperty(e,"ImageLoader",{enumerable:!0,get:function(){return o.ImageLoader}});var r=n(605);Object.defineProperty(e,"JSONLoader",{enumerable:!0,get:function(){return r.JSONLoader}});var s=n(133);Object.defineProperty(e,"SoundLoader",{enumerable:!0,get:function(){return s.SoundLoader}})},570:function(t,e,n){"use strict";var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,r){function s(t){try{u(a.next(t))}catch(t){r(t)}}function i(t){try{u(a.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}u((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentManager=void 0;const o=n(578),r=n(5),s=n(601),i=n(871),u={image:i.ImageLoader,sound:i.SoundLoader,font:i.FontLoader,json:i.JSONLoader};class c{constructor(t){this.content=t}static initialise(){c.instance=new c(o.items)}static getInstance(){if(void 0===c.instance)throw new Error("Content manager not properly initialised");return c.instance}static load(){return a(this,void 0,void 0,(function*(){if(c.loaded)throw new Error("Content already loaded");const t=c.getInstance();if(0===t.content.length)throw new Error("No content items to load");const e=1/t.content.length,n=[];for(const a of t.content)s.DEBUG&&s.SIMULATE_SLOW_LOADING&&(yield r.sleep(Math.randomBetween(100,1e3))),n.push(yield u[a.type](...a.args)),c.progress=Math.clamp(c.progress+e,0,1);t.items=n,c.loaded=!0}))}static get(t){if(!c.loaded)throw new Error("Content not loaded");const e=c.getInstance();if(!(t in e.items))throw new Error(`Content item "${t}" not found`);return e.items[t]}}e.ContentManager=c,c.progress=0,c.loaded=!1},550:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntityManager=void 0,e.EntityManager=class{}},357:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=void 0;const a=n(44);class o{constructor(t){this.keyboardState={},this.previousKeyboardState={},this.mouseState={button:!1,position:a.vec(),wheel:0},this.previousMouseState={button:!1,position:a.vec(),wheel:0},t.addEventListener("mousedown",(()=>{this.mouseState.button=!0})),t.addEventListener("mouseup",(()=>{this.mouseState.button=!1})),t.addEventListener("touchstart",(()=>{this.mouseState.button=!0})),t.addEventListener("touchend",(()=>{this.mouseState.button=!1})),t.addEventListener("mousemove",(t=>{this.mouseState.position.x=t.offsetX,this.mouseState.position.y=t.offsetY})),t.addEventListener("keydown",(t=>{this.keyboardState[t.code]=!0})),t.addEventListener("keyup",(t=>{this.keyboardState[t.code]=!1})),t.addEventListener("wheel",(t=>{this.mouseState.wheel=t.deltaY>0?1:-1}))}static initialise(t){o.instance=new o(t)}static getInstance(){if(void 0===o.instance)throw new Error("Input manager not properly initialised");return o.instance}static update(){const t=o.getInstance();t.previousKeyboardState=Object.assign({},t.keyboardState),t.previousMouseState={button:t.mouseState.button,position:a.vec.cpy(t.mouseState.position),wheel:0}}static keyDown(t){const e=o.getInstance();if(null==t){for(const t in e.keyboardState)if(e.keyboardState[t])return!0;return!1}return!!e.keyboardState[t]}static keyPressed(t){const e=o.getInstance();if(null==t){for(const t in e.keyboardState)if(e.keyboardState[t]&&(!(t in e.previousKeyboardState)||!e.previousKeyboardState[t]))return!0;return!1}return!!e.keyboardState[t]&&!e.previousKeyboardState[t]}static keyReleased(t){const e=o.getInstance();if(null==t){for(const t in e.keyboardState)if(!e.keyboardState[t]&&e.previousKeyboardState[t])return!0;return!1}return!e.keyboardState[t]&&!!e.previousKeyboardState[t]}static mouseDown(){return!!o.getInstance().mouseState.button}static mousePressed(){const t=o.getInstance();return!!t.mouseState.button&&!t.previousMouseState.button}static mouseReleased(){const t=o.getInstance();return!t.mouseState.button&&!!t.previousMouseState.button}static mouseWheelUp(){return o.getInstance().mouseState.wheel>0}static mouseWheelDown(){return o.getInstance().mouseState.wheel<0}static mousePosition(){return o.getInstance().mouseState.position}}e.InputManager=o},183:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StateManager=void 0;const a=n(900);class o{constructor(){this.states=[]}static initialise(){o.instance=new o}static getInstance(){if(void 0===o.instance)throw new Error("State manager not properly initialised");return o.instance}static push(t){return o.getInstance().states.push(t),t.initialise(),t.transitionIn(),t}static pop(){const t=o.getInstance();if(t.states.length>0){let e=t.states.length-1;for(;e>0&&t.states[e].transitionType===a.StateTransitionType.Out;)e--;if(e>=0){const n=t.states[e];return n.transitionOut(),n}}return null}static clear(){o.getInstance().states.forEach((t=>{t.transitionType!==a.StateTransitionType.Out&&t.transitionOut()}))}static update(t){const e=o.getInstance();if(e.states.length>0){for(let n=e.states.length;n--;)if(e.states[n].transitionType!==a.StateTransitionType.Out){e.states[n].update(t);break}e.states.forEach((e=>{e.updateTransition(t)})),e.states=e.states.filter((t=>!t.disposed))}}static draw(t){const e=o.getInstance();if(e.states.length>0){const n=[e.states[e.states.length-1]];let a=e.states.length-1;for(;a>0&&e.states[a].transparent;)n.push(e.states[--a]);for(let e=n.length;e--;)n[e].draw(t)}}}e.StateManager=o},187:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntityManager=e.StateManager=e.InputManager=e.ContentManager=void 0;var a=n(570);Object.defineProperty(e,"ContentManager",{enumerable:!0,get:function(){return a.ContentManager}});var o=n(357);Object.defineProperty(e,"InputManager",{enumerable:!0,get:function(){return o.InputManager}});var r=n(183);Object.defineProperty(e,"StateManager",{enumerable:!0,get:function(){return r.StateManager}});var s=n(550);Object.defineProperty(e,"EntityManager",{enumerable:!0,get:function(){return s.EntityManager}})},347:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntroState=void 0;const a=n(449),o=n(187),r=n(76);class s extends a.State{constructor(){super({transitionTime:2}),this.finishedLoadingContent=!1}initialise(){o.ContentManager.load().then((()=>{this.finishedLoadingContent=!0})).catch((t=>{console.log("Unable to load content: "+t)}))}update(){r.default.value("progress",o.ContentManager.progress),this.finishedLoadingContent&&r.default.value("finished","yes")}draw(t){}}e.IntroState=s},449:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;const a=n(900);e.State=class{constructor(t={}){this.defaultOptions={transitionTime:1,transparent:!1},this.transitionType=a.StateTransitionType.None,this.transitionAmount=0,this.disposed=!1,this.testName="";const e=Object.assign({},this.defaultOptions,t);this.transitionTime=e.transitionTime,this.transparent=e.transparent}dispose(){this.disposed=!0}transitionIn(){this.transitionType=a.StateTransitionType.In,this.transitionAmount=0}transitionOut(){this.transitionType=a.StateTransitionType.Out,this.transitionAmount=0}updateTransition(t){const e=t/this.transitionTime;this.transitionAmount<1?this.transitionAmount=Math.clamp(this.transitionAmount+e):this.transitionType===a.StateTransitionType.Out?this.dispose():this.transitionType=a.StateTransitionType.None}}},713:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntroState=void 0;var a=n(347);Object.defineProperty(e,"IntroState",{enumerable:!0,get:function(){return a.IntroState}})},5:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sleep=void 0,e.sleep=function(t){return new Promise((e=>setTimeout(e,t)))}},269:t=>{"use strict";t.exports=JSON.parse('{"title":"RPG Game","scaleFactor":2,"showFPS":true}')}},e={};!function n(a){if(e[a])return e[a].exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycGctZ2FtZS8uL25vZGVfbW9kdWxlcy9AYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qcy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvRGVidWcudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvZW51bXMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbG9hZGVycy9Gb250TG9hZGVyLnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL2xvYWRlcnMvSW1hZ2VMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbG9hZGVycy9KU09OTG9hZGVyLnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL2xvYWRlcnMvU291bmRMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbG9hZGVycy9pbmRleC50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9tYW5hZ2Vycy9Db250ZW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9tYW5hZ2Vycy9FbnRpdHlNYW5hZ2VyLnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL21hbmFnZXJzL0lucHV0TWFuYWdlci50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9tYW5hZ2Vycy9TdGF0ZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvbWFuYWdlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvc3RhdGVzL0ludHJvU3RhdGUudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvc3RhdGVzL1N0YXRlLnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL3N0YXRlcy9pbmRleC50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy91dGlsaXRpZXMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIk1hdGgiLCJmbG9hdEVxdWFscyIsImEiLCJiIiwicCIsIk51bWJlciIsIkVQU0lMT04iLCJhYnMiLCJjbGFtcCIsIm1pbiIsIm1heCIsImZyYWMiLCJmbG9vciIsImNlaWwiLCJsZXJwIiwiaSIsInVubGVycCIsImJsZXJwIiwiYzAwIiwiYzEwIiwiYzAxIiwiYzExIiwiaXgiLCJpeSIsInJlbWFwIiwiYTEiLCJhMiIsImIxIiwiYjIiLCJzbW9vdGhzdGVwIiwicG93IiwicmFkaWFucyIsImRlZ3JlZXMiLCJQSSIsInJhbmRvbUJldHdlZW4iLCJyYW5kb20iLCJyYW5kb21JbnRCZXR3ZWVuIiwiY2x0UmFuZG9tIiwibXUiLCJzaWdtYSIsInNhbXBsZXMiLCJ0b3RhbCIsImNsdFJhbmRvbUludCIsIndlaWdodGVkUmFuZG9tIiwidyIsInJlZHVjZSIsIm4iLCJyIiwibGVycEFycmF5IiwiZiIsInMiLCJsZW5ndGgiLCJ0cnVuYyIsImRvdCIsInYiLCJmYWN0b3JpYWwiLCJyZXN1bHQiLCJwZXJtdXRhdGlvbiIsImNvbWJpbmF0aW9uIiwiQXJyYXkiLCJ0aW1lcyIsImZpbGwiLCJtYXAiLCJfIiwicmFuZ2UiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInByb3RvdHlwZSIsInZhbHVlIiwibCIsInRoaXMiLCJzbGljZSIsInNvcnQiLCJ2ZWMiLCJ4IiwieSIsImNvbXBvbmVudHMiLCJ1eCIsInV5IiwiYWRkIiwibXVsIiwic3ViIiwibGVuIiwic3FydCIsIm1hbmhhdHRhbiIsIm5vciIsInJvdCIsInNpbiIsImMiLCJjb3MiLCJlcSIsInJhZCIsImF0YW4yIiwiY3B5Iiwic3RyIiwibWF0IiwibSIsImVudHJpZXMiLCJjb25jYXQiLCJpZGVudGl0eSIsImdldCIsImoiLCJzZXQiLCJyb3ciLCJjb2wiLCJzY2FsZSIsInRyYW5zIiwiZmxhdCIsIm1pbm9yIiwiaWkiLCJqaiIsInB1c2giLCJkZXQiLCJzaWduIiwiZCIsImFkaiIsIm1pbm9ycyIsImNvZmFjdG9ycyIsImludiIsIm1zIiwibnMiLCJjaHVuayIsImpvaW4iLCJtb2R1bGUiLCJleHBvcnRzIiwiRGVidWciLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJtYXJnaW4iLCJwYWRkaW5nIiwiZm9udCIsImxpbmVIZWlnaHQiLCJmb3JlZ3JvdW5kQ29sb3VyIiwiYmFja2dyb3VuZENvbG91ciIsImRlZmF1bHRWYWx1ZSIsImFsaWduIiwic2hvd0xhYmVsIiwiZGVmYXVsdE1hcmtlciIsInNob3dWYWx1ZSIsInNob3dNYXJrZXIiLCJtYXJrZXJTaXplIiwibWFya2VyU3R5bGUiLCJtYXJrZXJDb2xvdXIiLCJzcGFjZSIsImxhYmVsT2Zmc2V0IiwiYXNzaWduIiwidmFsdWVzIiwiTWFwIiwibWFya2VycyIsImluc3RhbmNlIiwiaW5pdGlhbGlzZSIsImxhYmVsIiwiZGVidWciLCJnZXRJbnN0YW5jZSIsInBvc2l0aW9uIiwiY29udGV4dCIsInNhdmUiLCJjb25maWciLCJzY2FsZUZhY3RvciIsImZvckVhY2giLCJtYXJrZXIiLCJkcmF3TWFya2VyIiwicmVzdG9yZSIsInNldFRyYW5zZm9ybSIsImxlZnRZIiwicmlnaHRZIiwiY2FudmFzIiwiY2xpZW50V2lkdGgiLCJkcmF3TGFiZWwiLCJjbGVhciIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwiZHJhd0Nyb3NzIiwiZHJhd1BsdXMiLCJkcmF3RG90IiwidGV4dCIsInRleHRCYXNlbGluZSIsImJhY2tncm91bmRTaXplIiwid2lkdGgiLCJtZWFzdXJlVGV4dCIsImhlaWdodCIsImZpbGxSZWN0IiwiZmlsbFRleHQiLCJzaXplIiwiYmVnaW5QYXRoIiwiaGFsZlNpemUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJhcmMiLCJjb250YWluZXIiLCJmcmFtZVJhdGUiLCJmcmFtZUNvdW50IiwiRXJyb3IiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXRDb250ZXh0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2l6ZSIsImJpbmQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJDb250ZW50TWFuYWdlciIsIklucHV0TWFuYWdlciIsIlN0YXRlTWFuYWdlciIsImxhc3RGcmFtZVRpbWUiLCJsYXN0RnJhbWVDb3VudFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImxvb3AiLCJJbnRyb1N0YXRlIiwiZWxhcHNlZFRpbWUiLCJjb25zdGFudHMiLCJGUFNfTUlOIiwic2hvd0ZQUyIsInVwZGF0ZSIsImRyYXciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkdCIsImNsZWFyUmVjdCIsIkRFQlVHIiwiU0lNVUxBVEVfU0xPV19MT0FESU5HIiwiS2V5IiwiU3RhdGVUcmFuc2l0aW9uVHlwZSIsIm9ubG9hZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIkZvbnRMb2FkZXIiLCJ1cmwiLCJmYW1pbHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkZvbnRGYWNlIiwibG9hZCIsInRoZW4iLCJmb250cyIsImNhdGNoIiwiSW1hZ2VMb2FkZXIiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiSlNPTkxvYWRlciIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInJlc3BvbnNlIiwianNvbiIsIlNvdW5kTG9hZGVyIiwic291bmQiLCJBdWRpbyIsImNvbnRlbnRJdGVtTG9hZGVycyIsImNvbnRlbnQiLCJpdGVtcyIsInVuZGVmaW5lZCIsImxvYWRlZCIsInByb2dyZXNzRGVsdGEiLCJ1dGlsaXRpZXMiLCJzbGVlcCIsInR5cGUiLCJhcmdzIiwicHJvZ3Jlc3MiLCJuYW1lIiwia2V5Ym9hcmRTdGF0ZSIsInByZXZpb3VzS2V5Ym9hcmRTdGF0ZSIsIm1vdXNlU3RhdGUiLCJidXR0b24iLCJ3aGVlbCIsInByZXZpb3VzTW91c2VTdGF0ZSIsImUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNvZGUiLCJkZWx0YVkiLCJrZXkiLCJrIiwic3RhdGVzIiwic3RhdGUiLCJ0cmFuc2l0aW9uSW4iLCJsYXN0IiwidHJhbnNpdGlvblR5cGUiLCJPdXQiLCJ0cmFuc2l0aW9uT3V0IiwidXBkYXRlVHJhbnNpdGlvbiIsImZpbHRlciIsImRpc3Bvc2VkIiwiZHJhd1N0YXRlcyIsInRyYW5zcGFyZW50U3RhdGVJbmRleCIsInRyYW5zcGFyZW50IiwiRW50aXR5TWFuYWdlciIsIlN0YXRlIiwic3VwZXIiLCJ0cmFuc2l0aW9uVGltZSIsImZpbmlzaGVkTG9hZGluZ0NvbnRlbnQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJOb25lIiwidHJhbnNpdGlvbkFtb3VudCIsInRlc3ROYW1lIiwiYWN0dWFsT3B0aW9ucyIsIkluIiwiYW1vdW50IiwiZGlzcG9zZSIsInNldFRpbWVvdXQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJtYXBwaW5ncyI6InFnQkFlQUEsS0FBS0MsWUFBYyxDQUFDQyxFQUFHQyxFQUFHQyxFQUFJQyxPQUFPQyxVQUFZTixLQUFLTyxJQUFJTCxFQUFJQyxHQUFLQyxFQVNuRUosS0FBS1EsTUFBUSxDQUFDTixFQUFHTyxFQUFNLEVBQUdDLEVBQU0sSUFBTVIsRUFBSU8sRUFBTUEsRUFBT1AsRUFBSVEsRUFBTUEsRUFBTVIsRUFPdkVGLEtBQUtXLEtBQU9ULEdBQUtBLEdBQUssRUFBSUEsRUFBSUYsS0FBS1ksTUFBTVYsR0FBS0EsRUFBSUYsS0FBS2EsS0FBS1gsR0FTNURGLEtBQUtjLEtBQU8sQ0FBQ1osRUFBR0MsRUFBR1ksSUFBTWIsR0FBS0MsRUFBSUQsR0FBS2EsRUFTdkNmLEtBQUtnQixPQUFTLENBQUNkLEVBQUdDLEVBQUdZLEtBQU9BLEVBQUliLElBQU1DLEVBQUlELEdBWTFDRixLQUFLaUIsTUFBUSxDQUFDQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFJQyxJQUFPdkIsS0FBS2MsS0FBS2QsS0FBS2MsS0FBS0ksRUFBS0MsRUFBS0csR0FBS3RCLEtBQUtjLEtBQUtNLEVBQUtDLEVBQUtDLEdBQUtDLEdBV3pHdkIsS0FBS3dCLE1BQVEsQ0FBQ1QsRUFBR1UsRUFBSUMsRUFBSUMsRUFBSUMsSUFBT0QsR0FBTVosRUFBSVUsSUFBT0csRUFBS0QsSUFBT0QsRUFBS0QsR0FTdEV6QixLQUFLNkIsV0FBYSxDQUFDM0IsRUFBR0MsRUFBR1ksSUFBTWYsS0FBS2MsS0FBS1osRUFBR0MsRUFBRyxFQUFJSCxLQUFLOEIsSUFBSWYsRUFBRyxHQUFLLEVBQUlmLEtBQUs4QixJQUFJZixFQUFHLElBT3BGZixLQUFLK0IsUUFBVUMsR0FBWWhDLEtBQUtpQyxHQUFLLElBQU9ELEVBTzVDaEMsS0FBS2dDLFFBQVVELEdBQVksSUFBTS9CLEtBQUtpQyxHQUFNRixFQVE1Qy9CLEtBQUtrQyxjQUFnQixDQUFDekIsRUFBS0MsSUFBUVYsS0FBS21DLFVBQVl6QixFQUFNRCxHQUFPQSxFQVFqRVQsS0FBS29DLGlCQUFtQixDQUFDM0IsRUFBS0MsSUFBUVYsS0FBS1ksTUFBTVosS0FBS21DLFVBQVl6QixFQUFNRCxFQUFNLElBQU1BLEVBU3BGVCxLQUFLcUMsVUFBWSxDQUFDQyxFQUFLLEdBQUtDLEVBQVEsR0FBS0MsRUFBVSxLQUNqRCxJQUFJQyxFQUFRLEVBQ1osSUFBSyxJQUFJMUIsRUFBSXlCLEVBQVN6QixLQUNwQjBCLEdBQVN6QyxLQUFLbUMsU0FFaEIsT0FBT0csR0FBTUcsRUFBUUQsRUFBVSxJQUFNQSxFQUFVLEdBQUtELEdBU3REdkMsS0FBSzBDLGFBQWUsQ0FBQ2pDLEVBQUtDLElBQVFWLEtBQUtZLE1BQU1ILEVBQU1ULEtBQUtxQyxVQUFVLEdBQUssR0FBSyxJQUFNM0IsRUFBTSxFQUFJRCxJQU81RlQsS0FBSzJDLGVBQWlCQyxJQUNwQixJQUFJSCxFQUFRRyxFQUFFQyxRQUFPLENBQUMzQyxFQUFHYSxJQUFNYixFQUFJYSxHQUFHLEdBQUkrQixFQUFJLEVBQzlDLE1BQU1DLEVBQUkvQyxLQUFLbUMsU0FBV00sRUFDMUIsS0FBT0EsRUFBUU0sR0FDYk4sR0FBU0csRUFBRUUsS0FFYixPQUFPQSxFQUFJLEdBbUJiOUMsS0FBS2dELFVBQVksQ0FBQzlDLEVBQUdhLEVBQUdrQyxFQUFJakQsS0FBS2MsUUFDL0IsTUFBTW9DLEVBQUluQyxHQUFLYixFQUFFaUQsT0FBUyxHQUNwQi9DLEVBQUlKLEtBQUtRLE1BQU1SLEtBQUtvRCxNQUFNRixHQUFJLEVBQUdoRCxFQUFFaUQsT0FBUyxHQUNsRCxPQUFPRixFQUFFL0MsRUFBRUUsSUFBTSxFQUFHRixFQUFFRSxFQUFJLElBQU0sRUFBR0osS0FBS1csS0FBS3VDLEtBUy9DbEQsS0FBS3FELElBQU0sQ0FBQ25ELEVBQUdDLElBQU1ELEVBQUUyQyxRQUFPLENBQUNDLEVBQUdRLEVBQUd2QyxJQUFNK0IsRUFBSVEsRUFBSW5ELEVBQUVZLElBQUksR0FPekRmLEtBQUt1RCxVQUFZckQsSUFDZixJQUFJc0QsRUFBUyxFQUNiLElBQUssSUFBSXpDLEVBQUksRUFBR0EsR0FBS2IsRUFBR2EsSUFDdEJ5QyxHQUFVekMsRUFFWixPQUFPeUMsR0FTVHhELEtBQUt5RCxZQUFjLENBQUNYLEVBQUdDLElBQU0vQyxLQUFLdUQsVUFBVVQsR0FBSzlDLEtBQUt1RCxVQUFVVCxFQUFJQyxHQVFwRS9DLEtBQUswRCxZQUFjLENBQUNaLEVBQUdDLElBQU0vQyxLQUFLdUQsVUFBVVQsSUFBTTlDLEtBQUt1RCxVQUFVUixHQUFLL0MsS0FBS3VELFVBQVVULEVBQUlDLElBaUJ6RlksTUFBTUMsTUFBUSxDQUFDWCxFQUFHSCxJQUFNYSxNQUFNYixHQUFHZSxLQUFLLEdBQUdDLEtBQUksQ0FBQ0MsRUFBR2hELElBQU1rQyxFQUFFbEMsS0FPekQ0QyxNQUFNSyxNQUFRbEIsR0FBS2EsTUFBTUMsT0FBTTdDLEdBQUtBLEdBQUcrQixHQVV2Q21CLE9BQU9DLGVBQWVQLE1BQU1RLFVBQVcsS0FBTSxDQUMzQ0MsTUFBTyxTQUFVckQsR0FDZixNQUFNc0QsRUFBSUMsS0FBS25CLE9BQ2YsT0FBT21CLEtBQUt2RCxFQUFJLEVBQUlzRCxFQUFLckUsS0FBS08sSUFBSVEsRUFBSSxHQUFLc0QsRUFBSyxFQUFJdEQsRUFBSXNELE1BWTVESixPQUFPQyxlQUFlUCxNQUFNUSxVQUFXLFFBQVMsQ0FDOUNDLE1BQU8sU0FBVXRCLEdBQ2YsT0FBT2EsTUFBTUMsT0FBTTdDLEdBQUt1RCxLQUFLQyxNQUFNeEQsRUFBSStCLEVBQUcvQixFQUFJK0IsRUFBSUEsSUFBSTlDLEtBQUthLEtBQUt5RCxLQUFLbkIsT0FBU0wsT0FXbEZtQixPQUFPQyxlQUFlUCxNQUFNUSxVQUFXLFVBQVcsQ0FDaERDLE1BQU8sV0FDTCxPQUFPRSxLQUFLUixLQUFJNUQsR0FBSyxDQUFDRixLQUFLbUMsU0FBVWpDLEtBQUlzRSxNQUFLLENBQUN0RSxFQUFHQyxJQUFNRCxFQUFFLEdBQUtDLEVBQUUsS0FBSTJELEtBQUk1RCxHQUFLQSxFQUFFLFFBc0JwRixNQUFNdUUsRUFBTSxDQUFDQyxFQUFHQyxJQUFRRCxHQUFNQyxFQUNHLGlCQUFORCxFQUN2QixDQUFFQSxFQUFHQSxFQUFFQSxHQUFLLEVBQUdDLEVBQUdELEVBQUVDLEdBQUssR0FBT0EsUUFDOUIsQ0FBRUQsRUFBR0EsRUFBR0MsRUFBR0QsR0FBTSxDQUFFQSxFQUFHQSxFQUFHQyxFQUFHQSxHQUZoQyxDQUFFRCxFQUFHLEVBQUdDLEVBQUcsR0FXYkYsRUFBSUcsV0FBYTFFLEdBQUssQ0FBQ0EsRUFBRXdFLEVBQUd4RSxFQUFFeUUsR0FNOUJGLEVBQUlJLEdBQUssSUFBTUosRUFBSSxFQUFHLEdBTXRCQSxFQUFJSyxHQUFLLElBQU1MLEVBQUksRUFBRyxHQVF0QkEsRUFBSU0sSUFBTSxDQUFDN0UsRUFBR0MsS0FBTSxDQUFHdUUsRUFBR3hFLEVBQUV3RSxFQUFJdkUsRUFBRXVFLEVBQUdDLEVBQUd6RSxFQUFFeUUsRUFBSXhFLEVBQUV3RSxJQVFoREYsRUFBSU8sSUFBTSxDQUFDOUUsRUFBR0MsS0FBTSxDQUFHdUUsRUFBR3hFLEVBQUV3RSxFQUFJdkUsRUFBR3dFLEVBQUd6RSxFQUFFeUUsRUFBSXhFLElBUTVDc0UsRUFBSVEsSUFBTSxDQUFDL0UsRUFBR0MsS0FBTSxDQUFHdUUsRUFBR3hFLEVBQUV3RSxFQUFJdkUsRUFBRXVFLEVBQUdDLEVBQUd6RSxFQUFFeUUsRUFBSXhFLEVBQUV3RSxJQU9oREYsRUFBSVMsSUFBTWhGLEdBQUtGLEtBQUttRixLQUFLakYsRUFBRXdFLEVBQUl4RSxFQUFFd0UsRUFBSXhFLEVBQUV5RSxFQUFJekUsRUFBRXlFLEdBTzdDRixFQUFJVyxVQUFZbEYsR0FBS0YsS0FBS08sSUFBSUwsRUFBRXdFLEdBQUsxRSxLQUFLTyxJQUFJTCxFQUFFeUUsR0FPaERGLEVBQUlZLElBQU1uRixJQUNSLElBQUlnRixFQUFNVCxFQUFJUyxJQUFJaEYsR0FDbEIsT0FBT2dGLEVBQU0sQ0FBRVIsRUFBR3hFLEVBQUV3RSxFQUFJUSxFQUFLUCxFQUFHekUsRUFBRXlFLEVBQUlPLEdBQVFULEtBU2hEQSxFQUFJcEIsSUFBTSxDQUFDbkQsRUFBR0MsSUFBTUQsRUFBRXdFLEVBQUl2RSxFQUFFdUUsRUFBSXhFLEVBQUV5RSxFQUFJeEUsRUFBRXdFLEVBUXhDRixFQUFJYSxJQUFNLENBQUNwRixFQUFHNkMsS0FDWixJQUFJRyxFQUFJbEQsS0FBS3VGLElBQUl4QyxHQUNmeUMsRUFBSXhGLEtBQUt5RixJQUFJMUMsR0FDZixNQUFPLENBQUUyQixFQUFHYyxFQUFJdEYsRUFBRXdFLEVBQUl4QixFQUFJaEQsRUFBRXlFLEVBQUdBLEVBQUd6QixFQUFJaEQsRUFBRXdFLEVBQUljLEVBQUl0RixFQUFFeUUsSUFTcERGLEVBQUlpQixHQUFLLENBQUN4RixFQUFHQyxJQUFNRCxFQUFFd0UsSUFBTXZFLEVBQUV1RSxHQUFLeEUsRUFBRXlFLElBQU14RSxFQUFFd0UsRUFPNUNGLEVBQUlrQixJQUFNekYsR0FBS0YsS0FBSzRGLE1BQU0xRixFQUFFeUUsRUFBR3pFLEVBQUV3RSxHQU9qQ0QsRUFBSW9CLElBQU0zRixHQUFLdUUsRUFBSXZFLEdBZ0JuQnVFLEVBQUlYLElBQU0sQ0FBQzVELEVBQUcrQyxLQUFNLENBQUd5QixFQUFHekIsRUFBRS9DLEVBQUV3RSxFQUFHLEtBQU1DLEVBQUcxQixFQUFFL0MsRUFBRXlFLEVBQUcsT0FRakRGLEVBQUlxQixJQUFNLENBQUM1RixFQUFHZ0QsRUFBSSxPQUFTLEdBQUdoRCxFQUFFd0UsSUFBSXhCLElBQUloRCxFQUFFeUUsSUFpQjFDLE1BQU1vQixFQUFNLENBQUNDLEVBQUksRUFBR2xELEVBQUksRUFBR21ELEVBQVUsTUFBTyxDQUMxQ0QsSUFBR2xELElBQ0htRCxRQUFTQSxFQUFRQyxPQUFPdkMsTUFBTXFDLEVBQUlsRCxHQUFHZSxLQUFLLElBQUlVLE1BQU0sRUFBR3lCLEVBQUlsRCxLQVE3RGlELEVBQUlJLFNBQVdyRCxHQUFLaUQsRUFBSWpELEVBQUdBLEVBQUdhLE1BQU1iLEVBQUlBLEdBQUdlLEtBQUssR0FBR0MsS0FBSSxDQUFDUixFQUFHdkMsTUFBUWYsS0FBS1ksTUFBTUcsRUFBSStCLEtBQU8vQixFQUFJK0IsTUFTN0ZpRCxFQUFJSyxJQUFNLENBQUNsRyxFQUFHYSxFQUFHc0YsSUFBTW5HLEVBQUUrRixRQUFTSSxFQUFJLEdBQU10RixFQUFJLEdBQUtiLEVBQUU0QyxHQVN2RGlELEVBQUlPLElBQU0sQ0FBQ3BHLEVBQUdhLEVBQUdzRixFQUFHL0MsS0FBUXBELEVBQUUrRixRQUFTSSxFQUFJLEdBQU10RixFQUFJLEdBQUtiLEVBQUU0QyxHQUFLUSxHQVFqRXlDLEVBQUlRLElBQU0sQ0FBQ3JHLEVBQUc4RixLQUNaLE1BQU05QyxHQUFLOEMsRUFBSSxHQUFLOUYsRUFBRTRDLEVBQ3RCLE9BQU81QyxFQUFFK0YsUUFBUTFCLE1BQU1yQixFQUFHQSxFQUFJaEQsRUFBRTRDLElBU2xDaUQsRUFBSVMsSUFBTSxDQUFDdEcsRUFBRzRDLElBQU1hLE1BQU1DLE9BQU03QyxHQUFLZ0YsRUFBSUssSUFBSWxHLEVBQUlhLEVBQUksRUFBSStCLElBQUk1QyxFQUFFOEYsR0FRL0RELEVBQUloQixJQUFNLENBQUM3RSxFQUFHQyxJQUFNRCxFQUFFOEYsSUFBTTdGLEVBQUU2RixHQUFLOUYsRUFBRTRDLElBQU0zQyxFQUFFMkMsR0FBS2lELEVBQUlqQyxJQUFJNUQsR0FBRyxDQUFDb0QsRUFBR3ZDLElBQU11QyxFQUFJbkQsRUFBRThGLFFBQVFsRixLQVFyRmdGLEVBQUlkLElBQU0sQ0FBQy9FLEVBQUdDLElBQU1ELEVBQUU4RixJQUFNN0YsRUFBRTZGLEdBQUs5RixFQUFFNEMsSUFBTTNDLEVBQUUyQyxHQUFLaUQsRUFBSWpDLElBQUk1RCxHQUFHLENBQUNvRCxFQUFHdkMsSUFBTXVDLEVBQUluRCxFQUFFOEYsUUFBUWxGLEtBUXJGZ0YsRUFBSWYsSUFBTSxDQUFDOUUsRUFBR0MsS0FDWixHQUFJRCxFQUFFNEMsSUFBTTNDLEVBQUU2RixFQUFLLE9BQU8sRUFDMUIsTUFBTXhDLEVBQVN1QyxFQUFJN0YsRUFBRThGLEVBQUc3RixFQUFFMkMsR0FDMUIsSUFBSyxJQUFJL0IsRUFBSSxFQUFHQSxHQUFLYixFQUFFOEYsRUFBR2pGLElBQ3hCLElBQUssSUFBSXNGLEVBQUksRUFBR0EsR0FBS2xHLEVBQUUyQyxFQUFHdUQsSUFDeEJOLEVBQUlPLElBQUk5QyxFQUFRekMsRUFBR3NGLEVBQUdyRyxLQUFLcUQsSUFBSTBDLEVBQUlRLElBQUlyRyxFQUFHYSxHQUFJZ0YsRUFBSVMsSUFBSXJHLEVBQUdrRyxLQUc3RCxPQUFPN0MsR0FTVHVDLEVBQUlVLE1BQVEsQ0FBQ3ZHLEVBQUdDLElBQU00RixFQUFJakMsSUFBSTVELEdBQUdvRCxHQUFLQSxFQUFJbkQsSUFPMUM0RixFQUFJVyxNQUFReEcsR0FBSzZGLEVBQUk3RixFQUFFNEMsRUFBRzVDLEVBQUU4RixFQUFHckMsTUFBTUMsT0FBTTdDLEdBQUtnRixFQUFJUyxJQUFJdEcsRUFBSWEsRUFBSSxJQUFLYixFQUFFNEMsR0FBRzZELFFBUzFFWixFQUFJYSxNQUFRLENBQUMxRyxFQUFHYSxFQUFHc0YsS0FDakIsR0FBSW5HLEVBQUU4RixJQUFNOUYsRUFBRTRDLEVBQUssT0FBTyxFQUMxQixNQUFNbUQsRUFBVSxHQUNoQixJQUFLLElBQUlZLEVBQUssRUFBR0EsR0FBTTNHLEVBQUU4RixFQUFHYSxJQUMxQixHQUFJQSxJQUFPOUYsRUFDWCxJQUFLLElBQUkrRixFQUFLLEVBQUdBLEdBQU01RyxFQUFFNEMsRUFBR2dFLElBQ3RCQSxJQUFPVCxHQUNYSixFQUFRYyxLQUFLaEIsRUFBSUssSUFBSWxHLEVBQUcyRyxFQUFJQyxJQUdoQyxPQUFPZixFQUFJN0YsRUFBRThGLEVBQUksRUFBRzlGLEVBQUU0QyxFQUFJLEVBQUdtRCxJQVEvQkYsRUFBSWlCLElBQU05RyxJQUNSLEdBQUlBLEVBQUU4RixJQUFNOUYsRUFBRTRDLEVBQUssT0FBTyxFQUMxQixHQUFZLElBQVI1QyxFQUFFOEYsRUFDSixPQUFPOUYsRUFBRStGLFFBQVEsR0FFbkIsR0FBWSxJQUFSL0YsRUFBRThGLEVBQ0osT0FBTzlGLEVBQUUrRixRQUFRLEdBQUsvRixFQUFFK0YsUUFBUSxHQUFLL0YsRUFBRStGLFFBQVEsR0FBSy9GLEVBQUUrRixRQUFRLEdBRWhFLElBQUl4RCxFQUFRLEVBQUd3RSxFQUFPLEVBQ3RCLElBQUssSUFBSVosRUFBSSxFQUFHQSxHQUFLbkcsRUFBRTRDLEVBQUd1RCxJQUN4QjVELEdBQVN3RSxFQUFPL0csRUFBRStGLFFBQVFJLEVBQUksR0FBS04sRUFBSWlCLElBQUlqQixFQUFJYSxNQUFNMUcsRUFBRyxFQUFHbUcsSUFDM0RZLElBQVMsRUFFWCxPQUFPeEUsR0FRVHNELEVBQUlWLElBQU1uRixJQUNSLEdBQUlBLEVBQUU4RixJQUFNOUYsRUFBRTRDLEVBQUssT0FBTyxFQUMxQixNQUFNb0UsRUFBSW5CLEVBQUlpQixJQUFJOUcsR0FDbEIsT0FBTzZGLEVBQUlqQyxJQUFJNUQsR0FBR2EsR0FBS0EsRUFBSW1HLEtBUTdCbkIsRUFBSW9CLElBQU1qSCxJQUNSLE1BQU1rSCxFQUFTckIsRUFBSTdGLEVBQUU4RixFQUFHOUYsRUFBRTRDLEdBQzFCLElBQUssSUFBSS9CLEVBQUksRUFBR0EsR0FBS2IsRUFBRThGLEVBQUdqRixJQUN4QixJQUFLLElBQUlzRixFQUFJLEVBQUdBLEdBQUtuRyxFQUFFNEMsRUFBR3VELElBQ3hCTixFQUFJTyxJQUFJYyxFQUFRckcsRUFBR3NGLEVBQUdOLEVBQUlpQixJQUFJakIsRUFBSWEsTUFBTTFHLEVBQUdhLEVBQUdzRixLQUdsRCxNQUFNZ0IsRUFBWXRCLEVBQUlqQyxJQUFJc0QsR0FBUSxDQUFDOUQsRUFBR3ZDLElBQU11QyxHQUFLdkMsRUFBSSxHQUFLLEVBQUksS0FDOUQsT0FBT2dGLEVBQUlXLE1BQU1XLElBUW5CdEIsRUFBSXVCLElBQU1wSCxJQUNSLEdBQUlBLEVBQUU4RixJQUFNOUYsRUFBRTRDLEVBQUssT0FBTyxFQUMxQixNQUFNb0UsRUFBSW5CLEVBQUlpQixJQUFJOUcsR0FDbEIsT0FBVSxJQUFOZ0gsR0FDR25CLEVBQUlVLE1BQU1WLEVBQUlvQixJQUFJakgsR0FBSSxFQUFJZ0gsSUFTbkNuQixFQUFJTCxHQUFLLENBQUN4RixFQUFHQyxJQUFNRCxFQUFFOEYsSUFBTTdGLEVBQUU2RixHQUFLOUYsRUFBRTRDLElBQU0zQyxFQUFFMkMsR0FBS2lELEVBQUlELElBQUk1RixLQUFPNkYsRUFBSUQsSUFBSTNGLEdBT3hFNEYsRUFBSUYsSUFBTTNGLEdBQUs2RixFQUFJN0YsRUFBRThGLEVBQUc5RixFQUFFNEMsRUFBRyxJQUFJNUMsRUFBRStGLFVBaUJuQ0YsRUFBSWpDLElBQU0sQ0FBQzVELEVBQUcrQyxJQUFNOEMsRUFBSTdGLEVBQUU4RixFQUFHOUYsRUFBRTRDLEVBQUc1QyxFQUFFK0YsUUFBUW5DLElBQUliLElBU2hEOEMsRUFBSUQsSUFBTSxDQUFDNUYsRUFBR3FILEVBQUssS0FBTUMsRUFBSyxPQUFTdEgsRUFBRStGLFFBQVF3QixNQUFNdkgsRUFBRTRDLEdBQUdnQixLQUFJZixHQUFLQSxFQUFFMkUsS0FBS0gsS0FBS0csS0FBS0YsR0FHcEZHLEVBQU9DLFFBQVUsQ0FBRW5ELE1BQUtzQixRLDJFQzNwQjFCLGNBQ0EsU0EwQ0EsTUFBcUI4QixFQTRCbkIsWUFBb0JDLEVBQWlDLElBdkJwQyxLQUFBQyxlQUErQixDQUM5Q0MsT0FBUSxHQUNSQyxRQUFTLEVBQ1RDLEtBQU0saUNBQ05DLFdBQVksR0FDWkMsaUJBQWtCLE9BQ2xCQyxpQkFBa0IsUUFDbEJDLGFBQWMsQ0FDWkMsTUFBTyxPQUNQQyxXQUFXLEdBRWJDLGNBQWUsQ0FDYkQsV0FBVyxFQUNYRSxXQUFXLEVBQ1hDLFlBQVksRUFDWkMsV0FBWSxFQUNaQyxZQUFhLElBQ2JDLGFBQWMsT0FDZEMsTUFBTyxRQUNQQyxZQUFhLEVBQUF2RSxJQUFJLE1BS25CSCxLQUFLd0QsUUFBVTdELE9BQU9nRixPQUFPLEdBQUkzRSxLQUFLeUQsZUFBZ0JELEdBQ3REeEQsS0FBSzRFLE9BQVMsSUFBSUMsSUFDbEI3RSxLQUFLOEUsUUFBVSxJQUFJRCxJQU1kLGtCQUFrQnJCLEVBQWlDLElBQ3hERCxFQUFNd0IsU0FBVyxJQUFJeEIsRUFBTUMsR0FHckIscUJBSU4sT0FIc0IsTUFBbEJELEVBQU13QixVQUNSeEIsRUFBTXlCLGFBRUR6QixFQUFNd0IsU0FNUixhQUFhRSxFQUFlbkYsRUFBd0IwRCxFQUErQixJQUN4RixNQUFNMEIsRUFBUTNCLEVBQU00QixjQUNwQkQsRUFBTU4sT0FBTzVDLElBQUlpRCxFQUFPdEYsT0FBT2dGLE9BQzdCLENBQUVNLFFBQU9uRixTQUNUb0YsRUFBTXpCLGVBQWVPLGFBQ3JCUixJQU9HLGNBQWN5QixFQUFlbkYsRUFBd0JzRixFQUFlNUIsRUFBZ0MsSUFDekcsTUFBTTBCLEVBQVEzQixFQUFNNEIsY0FDcEJELEVBQU1KLFFBQVE5QyxJQUFJaUQsRUFBT3RGLE9BQU9nRixPQUM5QixDQUFFTSxRQUFPbkYsUUFBT3NGLFlBQ2hCRixFQUFNekIsZUFBZVUsY0FDckJYLElBSUcsWUFBWTZCLEdBQ2pCLE1BQU1ILEVBQVEzQixFQUFNNEIsY0FlcEIsSUFBSUMsRUFaSkMsRUFBUUMsT0FDUkQsRUFBUWxELE1BQU0sRUFBSW9ELEVBQU9DLFlBQWEsRUFBSUQsRUFBT0MsYUFDakROLEVBQU1KLFFBQVFXLFNBQVFDLElBQ0MsVUFBakJBLEVBQU9qQixPQUNUUyxFQUFNUyxXQUFXTixFQUFTSyxNQUc5QkwsRUFBUU8sVUFHUlAsRUFBUUMsT0FDUkQsRUFBUVEsYUFBYSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FFcEMsSUFBSUMsRUFBUVosRUFBTTFCLFFBQVFFLE9BQ3RCcUMsRUFBU2IsRUFBTTFCLFFBQVFFLE9BQzNCLE1BQU1HLEVBQWNxQixFQUFNMUIsUUFBUUssV0FBcUMsRUFBeEJxQixFQUFNMUIsUUFBUUcsUUFDN0R1QixFQUFNTixPQUFPYSxTQUFRM0YsSSxZQUNuQixPQUFRQSxFQUFNbUUsT0FDWixJQUFLLE9BQ0htQixFQUFXLEVBQUFqRixJQUFJK0UsRUFBTTFCLFFBQVFFLE9BQVFvQyxHQUNyQ0EsR0FBU2pDLEVBQ1QsTUFDRixJQUFLLFFBQ0h1QixFQUFXLEVBQUFqRixJQUFJa0YsRUFBUVcsT0FBT0MsWUFBY2YsRUFBTTFCLFFBQVFFLE9BQVFxQyxHQUNsRUEsR0FBVWxDLEVBR2RxQixFQUFNZ0IsVUFDSmIsR0FDQ3ZGLEVBQU1vRSxVQUFlcEUsRUFBTW1GLE1BQVQsS0FBcUIsSUFBU25GLEVBQU1BLE1BQ3ZEc0YsRUFDQXRGLEVBQU1tRSxNQUNPLFFBREYsRUFDWG5FLEVBQU02RCxlQUFPLFFBQUl1QixFQUFNMUIsUUFBUUcsUUFDckIsUUFENEIsRUFDdEM3RCxFQUFNOEQsWUFBSSxRQUFJc0IsRUFBTTFCLFFBQVFJLEtBQ04sUUFEVSxFQUNoQzlELEVBQU1nRSx3QkFBZ0IsUUFBSW9CLEVBQU0xQixRQUFRTSxpQkFDbEIsUUFEa0MsRUFDeERoRSxFQUFNaUUsd0JBQWdCLFFBQUltQixFQUFNMUIsUUFBUU8scUJBRzVDbUIsRUFBTUosUUFBUVcsU0FBUUMsSUFDQyxXQUFqQkEsRUFBT2pCLE9BQ1RTLEVBQU1TLFdBQVdOLEVBQVNLLE1BRzlCTCxFQUFRTyxVQUdSVixFQUFNTixPQUFPdUIsUUFDYmpCLEVBQU1KLFFBQVFxQixRQUdSLFdBQVdkLEVBQW1DSyxHLGNBQ3BETCxFQUFRQyxPQUNSLE1BQU1GLEVBQVcsRUFBQWpGLElBQUlPLElBQW1CLFFBQWhCLEVBQUNnRixFQUFPTixnQkFBUSxRQUFJLEVBQUFqRixNQUFPb0YsRUFBT0MsYUFhMUQsSUFaSUUsRUFBT3hCLFdBQWF3QixFQUFPdEIsWUFDN0JwRSxLQUFLa0csVUFDSGIsR0FDQ0ssRUFBT3hCLFVBQWV3QixFQUFPVCxNQUFWLEtBQXNCLEtBQU9TLEVBQU90QixVQUFZLEdBQUdzQixFQUFPNUYsTUFBVSxJQUN4RixFQUFBSyxJQUFJTSxJQUFJMkUsVUFBWSxFQUFBakYsTUFBT3VGLEVBQU9oQixhQUNsQyxPQUNjLFFBRFIsRUFDTmdCLEVBQU8vQixlQUFPLFFBQUkzRCxLQUFLd0QsUUFBUUcsUUFDcEIsUUFEMkIsRUFDdEMrQixFQUFPOUIsWUFBSSxRQUFJNUQsS0FBS3dELFFBQVFJLEtBQ0wsUUFEUyxFQUNoQzhCLEVBQU81Qix3QkFBZ0IsUUFBSTlELEtBQUt3RCxRQUFRTSxpQkFDakIsUUFEaUMsRUFDeEQ0QixFQUFPM0Isd0JBQWdCLFFBQUkvRCxLQUFLd0QsUUFBUU8sa0JBR3hDMkIsRUFBT3JCLFdBR1QsT0FGQWdCLEVBQVFlLFVBQVksRUFDcEJmLEVBQVFnQixZQUFjaEIsRUFBUWlCLFVBQVlaLEVBQU9sQixhQUN6Q2tCLEVBQU9uQixhQUNiLElBQUssSUFDSHZFLEtBQUt1RyxVQUFVbEIsRUFBU0QsRUFBVU0sRUFBT3BCLFlBQ3pDLE1BQ0YsSUFBSyxJQUNIdEUsS0FBS3dHLFNBQVNuQixFQUFTRCxFQUFVTSxFQUFPcEIsWUFDeEMsTUFDRixJQUFLLElBQ0h0RSxLQUFLeUcsUUFBUXBCLEVBQVNELEVBQVVNLEVBQU9wQixZQUk3Q2UsRUFBUU8sVUFHRixVQUNOUCxFQUNBcUIsRUFDQXRCLEVBQ0FuQixFQUNBTixFQUNBQyxFQUNBRSxFQUNBQyxHQUVBc0IsRUFBUUMsT0FDUkQsRUFBUXpCLEtBQU9BLEVBQ2Z5QixFQUFRc0IsYUFBZSxNQUN2QixNQUFNQyxFQUFpQixDQUNyQkMsTUFBT3hCLEVBQVF5QixZQUFZSixHQUFNRyxNQUFrQixFQUFWbEQsRUFDekNvRCxPQUFRL0csS0FBS3dELFFBQVFLLFdBQXVCLEVBQVZGLEdBRTlCdkQsRUFBYyxVQUFWNkQsRUFBcUJtQixFQUFTaEYsRUFBSXdHLEVBQWVDLE1BQVN6QixFQUFTaEYsRUFHN0VpRixFQUFRaUIsVUFBWXZDLEVBQ3BCc0IsRUFBUTJCLFNBQ041RyxFQUFJdUQsRUFDSnlCLEVBQVMvRSxFQUFJc0QsRUFDYmlELEVBQWVDLE1BQ2ZELEVBQWVHLFFBSWpCMUIsRUFBUWlCLFVBQVl4QyxFQUNwQnVCLEVBQVE0QixTQUFTUCxFQUFNdEcsRUFBR2dGLEVBQVMvRSxHQUNuQ2dGLEVBQVFPLFVBR0YsVUFBVVAsRUFBbUNELEVBQWU4QixHQUNsRTdCLEVBQVE4QixZQUNSLE1BQU1DLEVBQVdGLEVBQU8sRUFDeEI3QixFQUFRZ0MsT0FBT2pDLEVBQVNoRixFQUFJZ0gsRUFBVWhDLEVBQVMvRSxFQUFJK0csR0FDbkQvQixFQUFRaUMsT0FBT2xDLEVBQVNoRixFQUFJZ0gsRUFBVWhDLEVBQVMvRSxFQUFJK0csR0FDbkQvQixFQUFRZ0MsT0FBT2pDLEVBQVNoRixFQUFJZ0gsRUFBVWhDLEVBQVMvRSxFQUFJK0csR0FDbkQvQixFQUFRaUMsT0FBT2xDLEVBQVNoRixFQUFJZ0gsRUFBVWhDLEVBQVMvRSxFQUFJK0csR0FDbkQvQixFQUFRa0MsU0FHRixTQUFTbEMsRUFBbUNELEVBQWU4QixHQUNqRTdCLEVBQVE4QixZQUNSLE1BQU1DLEVBQVdGLEVBQU8sRUFDeEI3QixFQUFRZ0MsT0FBT2pDLEVBQVNoRixFQUFHZ0YsRUFBUy9FLEVBQUkrRyxHQUN4Qy9CLEVBQVFpQyxPQUFPbEMsRUFBU2hGLEVBQUdnRixFQUFTL0UsRUFBSStHLEdBQ3hDL0IsRUFBUWdDLE9BQU9qQyxFQUFTaEYsRUFBSWdILEVBQVVoQyxFQUFTL0UsR0FDL0NnRixFQUFRaUMsT0FBT2xDLEVBQVNoRixFQUFJZ0gsRUFBVWhDLEVBQVMvRSxHQUMvQ2dGLEVBQVFrQyxTQUdGLFFBQVFsQyxFQUFtQ0QsRUFBZThCLEdBQ2hFN0IsRUFBUThCLFlBQ1I5QixFQUFRbUMsSUFBSXBDLEVBQVNoRixFQUFHZ0YsRUFBUy9FLEVBQUc2RyxFQUFPLEVBQUcsRUFBYSxFQUFWeEwsS0FBS2lDLElBQ3REMEgsRUFBUTlGLFFBeE5aLGEsNEVDM0NBLGVBQ0EsU0FDQSxRQUNBLFNBS0EsU0FFQSxnQkFRRSxZQUFtQmtJLEdBQ2pCLEdBSk0sS0FBQUMsVUFBb0IsRUFDcEIsS0FBQUMsV0FBcUIsRUFHVCxPQUFkRixFQUNGLE1BQU0sSUFBSUcsTUFBTSxnREFFbEIsR0FBd0MsV0FBcENILEVBQVVJLFFBQVFDLGNBQ3BCLE1BQU0sSUFBSUYsTUFBTSx1Q0FFbEI1SCxLQUFLZ0csT0FBU3lCLEVBR2QsTUFBTXBDLEVBQVVyRixLQUFLZ0csT0FBTytCLFdBQVcsTUFDdkMsR0FBZ0IsT0FBWjFDLEVBR0YsTUFBTSxJQUFJdUMsTUFBTSw4QkFGaEI1SCxLQUFLcUYsUUFBVUEsRUFNakIyQyxPQUFPQyxpQkFBaUIsU0FBVWpJLEtBQUtrSSxPQUFPQyxLQUFLbkksT0FBTyxHQUMxREEsS0FBS2tJLFNBR0MsU0FDTmxJLEtBQUtnRyxPQUFPYSxNQUFRbUIsT0FBT0ksV0FDM0JwSSxLQUFLZ0csT0FBT2UsT0FBU2lCLE9BQU9LLFlBRzVCckksS0FBS3FGLFFBQVFpRCx1QkFBd0IsRUFNaEMsYUFHTCxVQUFNdEQsYUFDTixFQUFBdUQsZUFBZXZELGFBQ2YsRUFBQXdELGFBQWF4RCxXQUFXaEYsS0FBS2dHLFFBQzdCLEVBQUF5QyxhQUFhekQsYUFHYmhGLEtBQUswSSxjQUFnQjFJLEtBQUsySSxtQkFBcUJDLFlBQVlDLE1BQzNEN0ksS0FBSzhJLE9BR0wsRUFBQUwsYUFBYWhHLEtBQUssSUFBSSxFQUFBc0csWUFHaEIsT0FDTixNQUFNRixFQUFNRCxZQUFZQyxNQUNsQkcsRUFBY3ROLEtBQUtTLElBQUkwTSxFQUFNN0ksS0FBSzBJLGNBQWVPLEVBQVVDLFNBRzdETCxFQUFNN0ksS0FBSzJJLG9CQUFzQixNQUNuQzNJLEtBQUsySSxtQkFBcUJFLEVBQzFCN0ksS0FBSzBILFVBQVkxSCxLQUFLMkgsV0FDdEIzSCxLQUFLMkgsV0FBYSxHQUVwQjNILEtBQUsySCxhQUNMM0gsS0FBSzBJLGNBQWdCRyxFQUNqQnRELEVBQU80RCxTQUNULFVBQU1ySixNQUFNLE1BQU9FLEtBQUswSCxVQUFXLENBQUV6RCxNQUFPLFVBSTlDakUsS0FBS29KLE9BQU9KLEdBQ1poSixLQUFLcUosT0FDTHJCLE9BQU9zQixzQkFBc0J0SixLQUFLOEksS0FBS1gsS0FBS25JLE9BR3RDLE9BQU91SixHQUNiLEVBQUFkLGFBQWFXLE9BQU9HLEdBQ3BCLEVBQUFmLGFBQWFZLFNBR1AsT0FDTnBKLEtBQUtxRixRQUFRbUUsVUFBVSxFQUFHLEVBQUd4SixLQUFLZ0csT0FBT2EsTUFBTzdHLEtBQUtnRyxPQUFPZSxRQUM1RC9HLEtBQUtxRixRQUFRUSxhQUFhTixFQUFPQyxZQUFhLEVBQUcsRUFBR0QsRUFBT0MsWUFBYSxFQUFHLEdBQzNFLEVBQUFpRCxhQUFhWSxLQUFLckosS0FBS3FGLFNBQ3ZCLFVBQU1nRSxLQUFLckosS0FBS3FGLFksMkhDbEdQLEVBQUFvRSxPQUFRLEVBQ1IsRUFBQUMsdUJBQXdCLEVBQ3hCLEVBQUFSLFFBQVUsRUFBSSxJLHlCQ0kzQixJQUFZUyxFQU5BQyxFLHFGQUFBQSxFQUFBLEVBQUFBLHNCQUFBLEVBQUFBLG9CQUFtQixLQUM3QixhQUNBLGlCQUNBLG9CQUdVRCxFQUFBLEVBQUFBLE1BQUEsRUFBQUEsSUFBRyxLQUNiLGFBQ0EsbUJBQ0EsbUJBQ0Esc0IsMkJDVkYsZUFFQTNCLE9BQU82QixPQUFTLEtBQ0QsSUFBSSxVQUFLQyxTQUFTQyxjQUFjLFVBQ3hDL0UsZSxvYUNKTSxFQUFBZ0YsV0FBZ0MsQ0FDM0NDLEVBQ0FDLElBQ3NCLE9BQUQsNkJBQ3JCLE9BQU8sSUFBSUMsU0FBa0IsQ0FBQ0MsRUFBU0MsS0FDeEIsSUFBSUMsU0FBU0osRUFBUSxPQUFPRCxNQUNwQ00sT0FDRkMsTUFBSzVHLElBQ0prRyxTQUFTVyxNQUFNaEssSUFBSW1ELEdBQ25Cd0csRUFBUXhHLE1BRVQ4RyxPQUFNLEtBQ0xMLEVBQU8sdUJBQXVCSixnQixxYUNaekIsRUFBQVUsWUFDWFYsR0FDOEIsT0FBRCw2QkFDN0IsT0FBTyxJQUFJRSxTQUEwQixDQUFDQyxFQUFTQyxLQUM3QyxNQUFNTyxFQUFRLElBQUlDLE1BQ2xCRCxFQUFNRSxJQUFNYixFQUNaVyxFQUFNM0MsaUJBQWlCLFFBQVEsS0FDN0JtQyxFQUFRUSxNQUVWQSxFQUFNM0MsaUJBQWlCLFNBQVMsS0FDOUJvQyxFQUFPLHdCQUF3QkosZ0Isb2FDVHhCLEVBQUFjLFdBQ1hkLEdBQ2lCLE9BQUQsNkJBQ2hCLE9BQU8sSUFBSUUsU0FBYSxDQUFDQyxFQUFTQyxLQUNoQ3JDLE9BQU9nRCxNQUFNZixFQUFLLENBQ2hCZ0IsT0FBUSxNQUNSQyxRQUFTLENBQ1AsZUFBZ0Isb0NBR2pCVixNQUFLVyxHQUNHQSxFQUFTQyxTQUVqQlosTUFBS1ksSUFDSmhCLEVBQVFnQixNQUVUVixPQUFNLEtBQ0xMLEVBQU8sdUJBQXVCSixnQixxYUNsQnpCLEVBQUFvQixZQUNYcEIsR0FDOEIsT0FBRCw2QkFDN0IsT0FBTyxJQUFJRSxTQUEwQixDQUFDQyxFQUFTQyxLQUM3QyxNQUFNaUIsRUFBUSxJQUFJQyxNQUFNdEIsR0FDeEJxQixFQUFNckQsaUJBQWlCLGNBQWMsS0FDbkNtQyxFQUFRa0IsTUFFVkEsRUFBTXJELGlCQUFpQixTQUFTLEtBQzlCb0MsRUFBTyx3QkFBd0JKLGdCLHlJQ1RyQyxhQUFTLDRFQUFBRCxjQUNULGFBQVMsNkVBQUFXLGVBQ1QsYUFBUyw0RUFBQUksY0FDVCxhQUFTLDZFQUFBTSxnQiwwYUNIVCxlQUNBLE9BQ0EsU0FDQSxTQUVNRyxFQUVGLENBQ0ZaLE1BQU8sRUFBQUQsWUFDUFcsTUFBTyxFQUFBRCxZQUNQekgsS0FBTSxFQUFBb0csV0FDTm9CLEtBQU0sRUFBQUwsWUFHUixNQUFheEMsRUFPWCxZQUFvQmtELEdBQ2xCekwsS0FBS3lMLFFBQVVBLEVBTVYsb0JBQ0xsRCxFQUFleEQsU0FBVyxJQUFJd0QsRUFBZWtELEVBQVFDLE9BRy9DLHFCQUNOLFFBQWdDQyxJQUE1QnBELEVBQWV4RCxTQUNqQixNQUFNLElBQUk2QyxNQUFNLDRDQUVsQixPQUFPVyxFQUFleEQsU0FHakIsYyx5Q0FDTCxHQUFJd0QsRUFBZXFELE9BQ2pCLE1BQU0sSUFBSWhFLE1BQU0sMEJBRWxCLE1BQU03QyxFQUFXd0QsRUFBZXBELGNBQ2hDLEdBQWdDLElBQTVCSixFQUFTMEcsUUFBUTVNLE9BQ25CLE1BQU0sSUFBSStJLE1BQU0sNEJBRWxCLE1BQU1pRSxFQUFnQixFQUFJOUcsRUFBUzBHLFFBQVE1TSxPQUNyQzZNLEVBQWUsR0FDckIsSUFBSyxNQUFNeEssS0FBSzZELEVBQVMwRyxRQUNuQnhDLEVBQVVRLE9BQVNSLEVBQVVTLDhCQUN6Qm9DLEVBQVVDLE1BQU1yUSxLQUFLa0MsY0FBYyxJQUFLLE9BRWhEOE4sRUFBTWpKLFdBQVcrSSxFQUFtQnRLLEVBQUU4SyxTQUFTOUssRUFBRStLLE9BQ2pEMUQsRUFBZTJELFNBQVd4USxLQUFLUSxNQUFNcU0sRUFBZTJELFNBQVdMLEVBQWUsRUFBRyxHQUVuRjlHLEVBQVMyRyxNQUFRQSxFQUNqQm5ELEVBQWVxRCxRQUFTLEtBR25CLFdBQWNPLEdBQ25CLElBQUs1RCxFQUFlcUQsT0FDbEIsTUFBTSxJQUFJaEUsTUFBTSxzQkFFbEIsTUFBTTdDLEVBQVd3RCxFQUFlcEQsY0FDaEMsS0FBTWdILEtBQVFwSCxFQUFTMkcsT0FDckIsTUFBTSxJQUFJOUQsTUFBTSxpQkFBaUJ1RSxnQkFFbkMsT0FBT3BILEVBQVMyRyxNQUFNUyxJQXREMUIsbUJBSWdCLEVBQUFELFNBQW1CLEVBQ25CLEVBQUFOLFFBQWtCLEcsaUdDbkJsQyx5QixrR0NDQSxjQVlBLE1BQWFwRCxFQU9YLFlBQW9CeEMsR0FMWixLQUFBb0csY0FBK0IsR0FDL0IsS0FBQUMsc0JBQXVDLEdBQ3ZDLEtBQUFDLFdBQXlCLENBQUVDLFFBQVEsRUFBT25ILFNBQVUsRUFBQWpGLE1BQU9xTSxNQUFPLEdBQ2xFLEtBQUFDLG1CQUFpQyxDQUFFRixRQUFRLEVBQU9uSCxTQUFVLEVBQUFqRixNQUFPcU0sTUFBTyxHQUdoRnhHLEVBQU9pQyxpQkFBaUIsYUFBYSxLQUNuQ2pJLEtBQUtzTSxXQUFXQyxRQUFTLEtBRTNCdkcsRUFBT2lDLGlCQUFpQixXQUFXLEtBQ2pDakksS0FBS3NNLFdBQVdDLFFBQVMsS0FFM0J2RyxFQUFPaUMsaUJBQWlCLGNBQWMsS0FDcENqSSxLQUFLc00sV0FBV0MsUUFBUyxLQUUzQnZHLEVBQU9pQyxpQkFBaUIsWUFBWSxLQUNsQ2pJLEtBQUtzTSxXQUFXQyxRQUFTLEtBRTNCdkcsRUFBT2lDLGlCQUFpQixhQUFheUUsSUFDbkMxTSxLQUFLc00sV0FBV2xILFNBQVNoRixFQUFJc00sRUFBRUMsUUFDL0IzTSxLQUFLc00sV0FBV2xILFNBQVMvRSxFQUFJcU0sRUFBRUUsV0FFakM1RyxFQUFPaUMsaUJBQWlCLFdBQVd5RSxJQUNqQzFNLEtBQUtvTSxjQUFjTSxFQUFFRyxPQUFlLEtBRXRDN0csRUFBT2lDLGlCQUFpQixTQUFTeUUsSUFDL0IxTSxLQUFLb00sY0FBY00sRUFBRUcsT0FBZSxLQUV0QzdHLEVBQU9pQyxpQkFBaUIsU0FBU3lFLElBQy9CMU0sS0FBS3NNLFdBQVdFLE1BQVFFLEVBQUVJLE9BQVMsRUFBSSxHQUFLLEtBT3pDLGtCQUFrQjlHLEdBQ3ZCd0MsRUFBYXpELFNBQVcsSUFBSXlELEVBQWF4QyxHQUduQyxxQkFDTixRQUE4QjJGLElBQTFCbkQsRUFBYXpELFNBQ2YsTUFBTSxJQUFJNkMsTUFBTSwwQ0FFbEIsT0FBT1ksRUFBYXpELFNBTWYsZ0JBQ0wsTUFBTUEsRUFBV3lELEVBQWFyRCxjQUM5QkosRUFBU3NILHNCQUF3QjFNLE9BQU9nRixPQUFPLEdBQUlJLEVBQVNxSCxlQUM1RHJILEVBQVMwSCxtQkFBcUIsQ0FDNUJGLE9BQVF4SCxFQUFTdUgsV0FBV0MsT0FDNUJuSCxTQUFVLEVBQUFqRixJQUFJb0IsSUFBSXdELEVBQVN1SCxXQUFXbEgsVUFDdENvSCxNQUFPLEdBT0osZUFBZU8sR0FDcEIsTUFBTWhJLEVBQVd5RCxFQUFhckQsY0FHOUIsR0FBVyxNQUFQNEgsRUFBYSxDQUNmLElBQUssTUFBTUMsS0FBS2pJLEVBQVNxSCxjQUN2QixHQUFJckgsRUFBU3FILGNBQWNZLEdBQ3pCLE9BQU8sRUFHWCxPQUFPLEVBRVQsUUFBU2pJLEVBQVNxSCxjQUFjVyxHQU0zQixrQkFBa0JBLEdBQ3ZCLE1BQU1oSSxFQUFXeUQsRUFBYXJELGNBRzlCLEdBQVcsTUFBUDRILEVBQWEsQ0FDZixJQUFLLE1BQU1DLEtBQUtqSSxFQUFTcUgsY0FDdkIsR0FDRXJILEVBQVNxSCxjQUFjWSxPQUVuQkEsS0FBS2pJLEVBQVNzSCx5QkFDZnRILEVBQVNzSCxzQkFBc0JXLElBR2xDLE9BQU8sRUFHWCxPQUFPLEVBRVQsUUFBU2pJLEVBQVNxSCxjQUFjVyxLQUFTaEksRUFBU3NILHNCQUFzQlUsR0FNbkUsbUJBQW1CQSxHQUN4QixNQUFNaEksRUFBV3lELEVBQWFyRCxjQUc5QixHQUFXLE1BQVA0SCxFQUFhLENBQ2YsSUFBSyxNQUFNQyxLQUFLakksRUFBU3FILGNBQ3ZCLElBQ0dySCxFQUFTcUgsY0FBY1ksSUFDdEJqSSxFQUFTc0gsc0JBQXNCVyxHQUVqQyxPQUFPLEVBR1gsT0FBTyxFQUVULE9BQVFqSSxFQUFTcUgsY0FBY1csTUFBVWhJLEVBQVNzSCxzQkFBc0JVLEdBTW5FLG1CQUVMLFFBRGlCdkUsRUFBYXJELGNBQ1ptSCxXQUFXQyxPQU14QixzQkFDTCxNQUFNeEgsRUFBV3lELEVBQWFyRCxjQUM5QixRQUFTSixFQUFTdUgsV0FBV0MsU0FBV3hILEVBQVMwSCxtQkFBbUJGLE9BTS9ELHVCQUNMLE1BQU14SCxFQUFXeUQsRUFBYXJELGNBQzlCLE9BQVFKLEVBQVN1SCxXQUFXQyxVQUFZeEgsRUFBUzBILG1CQUFtQkYsT0FNL0Qsc0JBRUwsT0FEaUIvRCxFQUFhckQsY0FDZG1ILFdBQVdFLE1BQVEsRUFNOUIsd0JBRUwsT0FEaUJoRSxFQUFhckQsY0FDZG1ILFdBQVdFLE1BQVEsRUFNOUIsdUJBRUwsT0FEaUJoRSxFQUFhckQsY0FDZG1ILFdBQVdsSCxVQTFLL0Isa0Isa0dDWkEsZUFFQSxNQUFhcUQsRUFJWCxjQUZRLEtBQUF3RSxPQUFrQixHQUluQixvQkFDTHhFLEVBQWExRCxTQUFXLElBQUkwRCxFQUd0QixxQkFDTixRQUE4QmtELElBQTFCbEQsRUFBYTFELFNBQ2YsTUFBTSxJQUFJNkMsTUFBTSwwQ0FFbEIsT0FBT2EsRUFBYTFELFNBR2YsWUFBWW1JLEdBT2pCLE9BTmlCekUsRUFBYXRELGNBQ3JCOEgsT0FBT3hLLEtBQUt5SyxHQUdyQkEsRUFBTWxJLGFBQ05rSSxFQUFNQyxlQUNDRCxFQUdGLGFBQ0wsTUFBTW5JLEVBQVcwRCxFQUFhdEQsY0FDOUIsR0FBSUosRUFBU2tJLE9BQU9wTyxPQUFTLEVBQUcsQ0FDOUIsSUFBSXVPLEVBQWVySSxFQUFTa0ksT0FBT3BPLE9BQVMsRUFHNUMsS0FBT3VPLEVBQU8sR0FBS3JJLEVBQVNrSSxPQUFPRyxHQUFNQyxpQkFBbUIsRUFBQXpELG9CQUFvQjBELEtBQzlFRixJQUVGLEdBQUlBLEdBQVEsRUFBRyxDQUNiLE1BQU1GLEVBQVFuSSxFQUFTa0ksT0FBT0csR0FJOUIsT0FEQUYsRUFBTUssZ0JBQ0NMLEdBR1gsT0FBTyxLQUdGLGVBQ1l6RSxFQUFhdEQsY0FDckI4SCxPQUFPeEgsU0FBUXlILElBQ2xCQSxFQUFNRyxpQkFBbUIsRUFBQXpELG9CQUFvQjBELEtBQy9DSixFQUFNSyxtQkFLTCxjQUFjaEUsR0FDbkIsTUFBTXhFLEVBQVcwRCxFQUFhdEQsY0FDOUIsR0FBSUosRUFBU2tJLE9BQU9wTyxPQUFTLEVBQUcsQ0FHOUIsSUFBSyxJQUFJcEMsRUFBSXNJLEVBQVNrSSxPQUFPcE8sT0FBUXBDLEtBQ25DLEdBQUlzSSxFQUFTa0ksT0FBT3hRLEdBQUc0USxpQkFBbUIsRUFBQXpELG9CQUFvQjBELElBQUssQ0FDakV2SSxFQUFTa0ksT0FBT3hRLEdBQUcyTSxPQUFPRyxHQUMxQixNQUtKeEUsRUFBU2tJLE9BQU94SCxTQUFReUgsSUFDdEJBLEVBQU1NLGlCQUFpQmpFLE1BSXpCeEUsRUFBU2tJLE9BQVNsSSxFQUFTa0ksT0FBT1EsUUFBT1AsSUFBVUEsRUFBTVEsWUFJdEQsWUFBWXJJLEdBQ2pCLE1BQU1OLEVBQVcwRCxFQUFhdEQsY0FDOUIsR0FBSUosRUFBU2tJLE9BQU9wTyxPQUFTLEVBQUcsQ0FDOUIsTUFBTThPLEVBQWEsQ0FBQzVJLEVBQVNrSSxPQUFPbEksRUFBU2tJLE9BQU9wTyxPQUFTLElBQzdELElBQUkrTyxFQUF3QjdJLEVBQVNrSSxPQUFPcE8sT0FBUyxFQUlyRCxLQUNFK08sRUFBd0IsR0FDeEI3SSxFQUFTa0ksT0FBT1csR0FBdUJDLGFBRXZDRixFQUFXbEwsS0FBS3NDLEVBQVNrSSxTQUFTVyxJQUlwQyxJQUFLLElBQUluUixFQUFJa1IsRUFBVzlPLE9BQVFwQyxLQUM5QmtSLEVBQVdsUixHQUFHNE0sS0FBS2hFLEtBL0YzQixrQixrSkNIQSxhQUFTLGdGQUFBa0Qsa0JBQ1QsYUFBUyw4RUFBQUMsZ0JBQ1QsYUFBUyw4RUFBQUMsZ0JBQ1QsYUFBUywrRUFBQXFGLGtCLGdHQ0hULGVBQ0EsU0FDQSxRQUVBLE1BQWEvRSxVQUFtQixFQUFBZ0YsTUFHOUIsY0FDRUMsTUFBTSxDQUNKQyxlQUFnQixJQUpaLEtBQUFDLHdCQUFrQyxFQVFuQyxhQUNMLEVBQUEzRixlQUFlZ0MsT0FBT0MsTUFBSyxLQUN6QnhLLEtBQUtrTyx3QkFBeUIsS0FDN0J4RCxPQUFPeUQsSUFDUkMsUUFBUUMsSUFBSSwyQkFBMkJGLE1BSXBDLFNBQ0wsVUFBTXJPLE1BQU0sV0FBWSxFQUFBeUksZUFBZTJELFVBQ25DbE0sS0FBS2tPLHdCQUNQLFVBQU1wTyxNQUFNLFdBQVksT0FJckIsS0FBS3VGLEtBeEJkLGdCLDJGQ0pBLGVBT0EsY0FjRSxZQUFtQjdCLEVBQWlDLElBYm5DLEtBQUFDLGVBQStCLENBQzlDd0ssZUFBZ0IsRUFDaEJKLGFBQWEsR0FHUixLQUFBUixlQUFzQyxFQUFBekQsb0JBQW9CMEUsS0FDMUQsS0FBQUMsaUJBQTJCLEVBRzNCLEtBQUFiLFVBQW9CLEVBRXBCLEtBQUFjLFNBQW1CLEdBR3hCLE1BQU1DLEVBQWdCOU8sT0FBT2dGLE9BQU8sR0FBSTNFLEtBQUt5RCxlQUFnQkQsR0FDN0R4RCxLQUFLaU8sZUFBaUJRLEVBQWNSLGVBQ3BDak8sS0FBSzZOLFlBQWNZLEVBQWNaLFlBRzVCLFVBQ0w3TixLQUFLME4sVUFBVyxFQUdYLGVBQ0wxTixLQUFLcU4sZUFBaUIsRUFBQXpELG9CQUFvQjhFLEdBQzFDMU8sS0FBS3VPLGlCQUFtQixFQUduQixnQkFDTHZPLEtBQUtxTixlQUFpQixFQUFBekQsb0JBQW9CMEQsSUFDMUN0TixLQUFLdU8saUJBQW1CLEVBR25CLGlCQUFpQmhGLEdBQ3RCLE1BQU1vRixFQUFpQnBGLEVBQUt2SixLQUFLaU8sZUFDN0JqTyxLQUFLdU8saUJBQW1CLEVBQzFCdk8sS0FBS3VPLGlCQUFtQjdTLEtBQUtRLE1BQU04RCxLQUFLdU8saUJBQW1CSSxHQUdsRDNPLEtBQUtxTixpQkFBbUIsRUFBQXpELG9CQUFvQjBELElBQ3JEdE4sS0FBSzRPLFVBSUw1TyxLQUFLcU4sZUFBaUIsRUFBQXpELG9CQUFvQjBFLFEsZ0dDcERoRCxhQUFTLDRFQUFBdkYsZSx1RkNHVCxpQkFBc0I5RixHQUNwQixPQUFPLElBQUlrSCxTQUFRQyxHQUFXeUUsV0FBV3pFLEVBQVNuSCxPLG1HQ0hoRDZMLEVBQTJCLElBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVUxTCxRQUczQyxJQUFJRCxFQUFTeUwsRUFBeUJFLEdBQVksQ0FHakQxTCxRQUFTLElBT1YsT0FIQTJMLEVBQW9CRCxHQUFVRSxLQUFLN0wsRUFBT0MsUUFBU0QsRUFBUUEsRUFBT0MsUUFBU3lMLEdBR3BFMUwsRUFBT0MsUUNsQmZ5TCxDQUFvQixNIiwiZmlsZSI6ImdhbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBvdmVydmlldyBBIGxpYnJhcnkgb2YgdXNlZnVsIGZ1bmN0aW9uc1xuICogQGF1dGhvciBHb3Jkb24gTGFycmlnYW5cbiAqIEB2ZXJzaW9uIDEuMi44XG4gKi9cblxuLyoqIEBjbGFzcyBNYXRoICovXG5cbi8qKlxuICogQ2hlY2sgaWYgdHdvIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIE51bWJlciBhXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXIgYlxuICogQHBhcmFtIHtudW1iZXJ9IFtwPU51bWJlci5FUFNJTE9OXSBUaGUgcHJlY2lzaW9uIHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG51bWJlcnMgYSBhbmQgYiBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICovXG5NYXRoLmZsb2F0RXF1YWxzID0gKGEsIGIsIHAgPSBOdW1iZXIuRVBTSUxPTikgPT4gTWF0aC5hYnMoYSAtIGIpIDwgcDtcblxuLyoqXG4gKiBDbGFtcCBhIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4XG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbnVtYmVyIHRvIGNsYW1wXG4gKiBAcGFyYW0ge251bWJlcn0gW21pbj0wXSBUaGUgbWluaW11bSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFttYXg9MV0gVGhlIG1heGltdW0gdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn0gQSBjbGFtcGVkIG51bWJlclxuICovXG5NYXRoLmNsYW1wID0gKGEsIG1pbiA9IDAsIG1heCA9IDEpID0+IGEgPCBtaW4gPyBtaW4gOiAoYSA+IG1heCA/IG1heCA6IGEpO1xuXG4vKipcbiAqIEdldCB0aGUgZnJhY3Rpb25hbCBwYXJ0IG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbnVtYmVyIGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBmcmFjdGlvbmFsIHBhcnRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGZyYWN0aW9uYWwgcGFydCBvZiB0aGUgbnVtYmVyXG4gKi9cbk1hdGguZnJhYyA9IGEgPT4gYSA+PSAwID8gYSAtIE1hdGguZmxvb3IoYSkgOiBhIC0gTWF0aC5jZWlsKGEpO1xuXG4vKipcbiAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiBhIGFuZCBiXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbWluaW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBtYXhpbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGludGVycG9sYXRpb24gdmFsdWUsIHNob3VsZCBiZSBpbiB0aGUgaW50ZXJ2YWwgWzAsIDFdXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKi9cbk1hdGgubGVycCA9IChhLCBiLCBpKSA9PiBhICsgKGIgLSBhKSAqIGk7XG5cbi8qKlxuICogR2V0IHRoZSBwb3NpdGlvbiBvZiBpIGJldHdlZW4gYSBhbmQgYlxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG1pbmltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgbWF4aW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gdGhlIGludGVydmFsIFthLCBiXVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgcG9zaXRpb24gb2YgaSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuTWF0aC51bmxlcnAgPSAoYSwgYiwgaSkgPT4gKGkgLSBhKSAvIChiIC0gYSk7XG5cbi8qKlxuICogRG8gYSBiaWxpbmVhciBpbnRlcnBvbGF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gYzAwIFRvcC1sZWZ0IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gYzEwIFRvcC1yaWdodCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGMwMSBCb3R0b20tbGVmdCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGMxMSBCb3R0b20tcmlnaHQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpeCBJbnRlcnBvbGF0aW9uIHZhbHVlIGFsb25nIHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBpeSBJbnRlcnBvbGF0aW9uIHZhbHVlIGFsb25nIHlcbiAqIEByZXR1cm4ge251bWJlcn0gQSBiaWxpbmVhciBpbnRlcnBvbGF0ZWQgdmFsdWVcbiAqL1xuTWF0aC5ibGVycCA9IChjMDAsIGMxMCwgYzAxLCBjMTEsIGl4LCBpeSkgPT4gTWF0aC5sZXJwKE1hdGgubGVycChjMDAsIGMxMCwgaXgpLCBNYXRoLmxlcnAoYzAxLCBjMTEsIGl4KSwgaXkpO1xuXG4vKipcbiAqIFJlLW1hcCBhIG51bWJlciBpIGZyb20gcmFuZ2UgYTEuLi5hMiB0byBiMS4uLmIyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgbnVtYmVyIHRvIHJlLW1hcFxuICogQHBhcmFtIHtudW1iZXJ9IGExXG4gKiBAcGFyYW0ge251bWJlcn0gYTJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiMVxuICogQHBhcmFtIHtudW1iZXJ9IGIyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbk1hdGgucmVtYXAgPSAoaSwgYTEsIGEyLCBiMSwgYjIpID0+IGIxICsgKGkgLSBhMSkgKiAoYjIgLSBiMSkgLyAoYTIgLSBhMSk7XG5cbi8qKlxuICogRG8gYSBzbW9vdGggaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIGEgYW5kIGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBtaW5pbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIG1heGltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW50ZXJwb2xhdGlvbiB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gdGhlIGludGVydmFsIFthLCBiXVxuICovXG5NYXRoLnNtb290aHN0ZXAgPSAoYSwgYiwgaSkgPT4gTWF0aC5sZXJwKGEsIGIsIDMgKiBNYXRoLnBvdyhpLCAyKSAtIDIgKiBNYXRoLnBvdyhpLCAzKSk7XG5cbi8qKlxuICogR2V0IGFuIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWVzIFRoZSBhbmdsZSBpbiBkZWdyZWVzXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbk1hdGgucmFkaWFucyA9IGRlZ3JlZXMgPT4gKE1hdGguUEkgLyAxODApICogZGVncmVlcztcblxuLyoqXG4gKiBHZXQgYW4gYW5nbGUgaW4gZGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnMgVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIGRlZ3JlZXNcbiAqL1xuTWF0aC5kZWdyZWVzID0gcmFkaWFucyA9PiAoMTgwIC8gTWF0aC5QSSkgKiByYWRpYW5zO1xuXG4vKipcbiAqIEdldCBhIHJhbmRvbSBmbG9hdCBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4KVxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBJbmNsdXNpdmUgbWluXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEV4Y2x1c2l2ZSBtYXhcbiAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gZmxvYXQgaW4gdGhlIGludGVydmFsIFttaW4sIG1heClcbiAqL1xuTWF0aC5yYW5kb21CZXR3ZWVuID0gKG1pbiwgbWF4KSA9PiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG5cbi8qKlxuICogR2V0IGEgcmFuZG9tIGludGVnZXIgaW4gdGhlIGludGVydmFsIFttaW4sIG1heF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gSW5jbHVzaXZlIG1pblxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBJbmNsdXNpdmUgbWF4XG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgcmFuZG9tIGludGVnZXIgaW4gdGhlIGludGVydmFsIFttaW4sIG1heF1cbiAqL1xuTWF0aC5yYW5kb21JbnRCZXR3ZWVuID0gKG1pbiwgbWF4KSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuXG4vKipcbiAqIEdldCBhIG5vcm1hbGx5LWRpc3RyaWJ1dGVkIHJhbmRvbSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbXU9MC41XSBUaGUgbWVhbiB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtzaWdtYT0wLjVdIFRoZSBzdGFuZGFyZCBkZXZpYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2FtcGxlcz0yXSBUaGUgbnVtYmVyIG9mIHNhbXBsZXNcbiAqIEByZXR1cm4ge251bWJlcn0gQSBub3JtYWxseS1kaXN0cmlidXRlZCByYW5kb20gbnVtYmVyXG4gKi9cbk1hdGguY2x0UmFuZG9tID0gKG11ID0gMC41LCBzaWdtYSA9IDAuNSwgc2FtcGxlcyA9IDIpID0+IHtcbiAgbGV0IHRvdGFsID0gMDtcbiAgZm9yIChsZXQgaSA9IHNhbXBsZXM7IGktLTspIHtcbiAgICB0b3RhbCArPSBNYXRoLnJhbmRvbSgpO1xuICB9XG4gIHJldHVybiBtdSArICh0b3RhbCAtIHNhbXBsZXMgLyAyKSAvIChzYW1wbGVzIC8gMikgKiBzaWdtYTtcbn07XG5cbi8qKlxuICogR2V0IGEgbm9ybWFsbHktZGlzdHJpYnV0ZWQgcmFuZG9tIGludGVnZXIgaW4gdGhlIGludGVydmFsIFttaW4sIG1heF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gSW5jbHVzaXZlIG1pblxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBJbmNsdXNpdmUgbWF4XG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbm9ybWFsbHktZGlzdHJpYnV0ZWQgcmFuZG9tIGludGVnZXJcbiAqL1xuTWF0aC5jbHRSYW5kb21JbnQgPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IobWluICsgTWF0aC5jbHRSYW5kb20oMC41LCAwLjUsIDIpICogKG1heCArIDEgLSBtaW4pKTtcblxuLyoqXG4gKiBSZXR1cm4gYSB3ZWlnaHRlZCByYW5kb20gaW50ZWdlclxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB3IEFuIGFycmF5IG9mIHdlaWdodHNcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gaW5kZXggZnJvbSB3XG4gKi9cbk1hdGgud2VpZ2h0ZWRSYW5kb20gPSB3ID0+IHtcbiAgbGV0IHRvdGFsID0gdy5yZWR1Y2UoKGEsIGkpID0+IGEgKyBpLCAwKSwgbiA9IDA7XG4gIGNvbnN0IHIgPSBNYXRoLnJhbmRvbSgpICogdG90YWw7XG4gIHdoaWxlICh0b3RhbCA+IHIpIHtcbiAgICB0b3RhbCAtPSB3W24rK107XG4gIH1cbiAgcmV0dXJuIG4gLSAxO1xufTtcblxuLyoqXG4gKiBBbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uXG4gKiBAY2FsbGJhY2sgaW50ZXJwb2xhdGlvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbWluaW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBtYXhpbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGludGVycG9sYXRpb24gdmFsdWUsIHNob3VsZCBiZSBpbiB0aGUgaW50ZXJ2YWwgWzAsIDFdXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gdGhlIGludGVydmFsIFthLCBiXVxuICovXG5cbi8qKlxuICogUmV0dXJuIGFuIGludGVycG9sYXRlZCB2YWx1ZSBmcm9tIGFuIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGEgQW4gYXJyYXkgb2YgdmFsdWVzIGludGVycG9sYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gaSBBIG51bWJlciBpbiB0aGUgaW50ZXJ2YWwgWzAsIDFdXG4gKiBAcGFyYW0ge2ludGVycG9sYXRpb25DYWxsYmFja30gW2Y9TWF0aC5sZXJwXSBUaGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB0byB1c2VcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gaW50ZXJwb2xhdGVkIHZhbHVlIGluIHRoZSBpbnRlcnZhbCBbbWluKGEpLCBtYXgoYSldXG4gKi9cbk1hdGgubGVycEFycmF5ID0gKGEsIGksIGYgPSBNYXRoLmxlcnApID0+IHtcbiAgY29uc3QgcyA9IGkgKiAoYS5sZW5ndGggLSAxKTtcbiAgY29uc3QgcCA9IE1hdGguY2xhbXAoTWF0aC50cnVuYyhzKSwgMCwgYS5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIGYoYVtwXSB8fCAwLCBhW3AgKyAxXSB8fCAwLCBNYXRoLmZyYWMocykpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYiBWZWN0b3IgYlxuICogQHJldHVybiB7bnVtYmVyfSBhIOKImSBiXG4gKi9cbk1hdGguZG90ID0gKGEsIGIpID0+IGEucmVkdWNlKChuLCB2LCBpKSA9PiBuICsgdiAqIGJbaV0sIDApO1xuXG4vKipcbiAqIEdldCB0aGUgZmFjdG9yaWFsIG9mIGEgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYVxuICogQHJldHVybiB7bnVtYmVyfSBhIVxuICovXG5NYXRoLmZhY3RvcmlhbCA9IGEgPT4ge1xuICBsZXQgcmVzdWx0ID0gMTtcbiAgZm9yIChsZXQgaSA9IDI7IGkgPD0gYTsgaSsrKSB7XG4gICAgcmVzdWx0ICo9IGk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBudW1iZXIgb2YgcGVybXV0YXRpb25zIG9mIHIgZWxlbWVudHMgZnJvbSBhIHNldCBvZiBuIGVsZW1lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gblxuICogQHBhcmFtIHtudW1iZXJ9IHJcbiAqIEByZXR1cm4ge251bWJlcn0gblByXG4gKi9cbk1hdGgucGVybXV0YXRpb24gPSAobiwgcikgPT4gTWF0aC5mYWN0b3JpYWwobikgLyBNYXRoLmZhY3RvcmlhbChuIC0gcik7XG5cbi8qKlxuICogR2V0IHRoZSBudW1iZXIgb2YgY29tYmluYXRpb25zIG9mIHIgZWxlbWVudHMgZnJvbSBhIHNldCBvZiBuIGVsZW1lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gblxuICogQHBhcmFtIHtudW1iZXJ9IHJcbiAqIEByZXR1cm4ge251bWJlcn0gbkNyXG4gKi9cbk1hdGguY29tYmluYXRpb24gPSAobiwgcikgPT4gTWF0aC5mYWN0b3JpYWwobikgLyAoTWF0aC5mYWN0b3JpYWwocikgKiBNYXRoLmZhY3RvcmlhbChuIC0gcikpO1xuXG4vKiogQGNsYXNzIEFycmF5ICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiBmb3IgZ2VuZXJhdGluZyBhcnJheSB2YWx1ZXNcbiAqIEBjYWxsYmFjayB0aW1lc0NhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgYXJyYXkgaW5kZXhcbiAqIEByZXR1cm4geyp9IFRoZSBhcnJheSB2YWx1ZVxuICovXG5cbi8qKlxuICogUmV0dXJuIGEgbmV3IGFycmF5IHdpdGggbGVuZ3RoIG4gYnkgY2FsbGluZyBmdW5jdGlvbiBmKGkpIG9uIGVhY2ggZWxlbWVudFxuICogQHBhcmFtIHt0aW1lc0NhbGxiYWNrfSBmXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgc2l6ZSBvZiB0aGUgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5PCo+fVxuICovXG5BcnJheS50aW1lcyA9IChmLCBuKSA9PiBBcnJheShuKS5maWxsKDApLm1hcCgoXywgaSkgPT4gZihpKSk7XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgbnVtYmVycyAwLT4obiAtIDEpXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgc2l6ZSBvZiB0aGUgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuIGFycmF5IG9mIGludGVnZXJzIDAtPihuIC0gMSlcbiAqL1xuQXJyYXkucmFuZ2UgPSBuID0+IEFycmF5LnRpbWVzKGkgPT4gaSwgbik7XG5cbi8qKlxuICogUmV0dXJuIGFycmF5W2ldIHdpdGggcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHdyYXBwaW5nXG4gKiBAbmFtZSBhdFxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgQXJyYXkucHJvdG90eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgcG9zaXRpdmVseS9uZWdhdGl2ZWx5IHdyYXBwZWQgYXJyYXkgaW5kZXhcbiAqIEByZXR1cm4geyp9IEFuIGVsZW1lbnQgZnJvbSB0aGUgYXJyYXlcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2F0Jywge1xuICB2YWx1ZTogZnVuY3Rpb24gKGkpIHtcbiAgICBjb25zdCBsID0gdGhpcy5sZW5ndGg7XG4gICAgcmV0dXJuIHRoaXNbaSA8IDAgPyBsIC0gKE1hdGguYWJzKGkgKyAxKSAlIGwpIC0gMSA6IGkgJSBsXTtcbiAgfVxufSk7XG5cbi8qKlxuICogQ2hvcCBhbiBhcnJheSBpbnRvIGNodW5rcyBvZiBzaXplIG5cbiAqIEBuYW1lIGNodW5rXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBBcnJheS5wcm90b3R5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBjaHVuayBzaXplXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTwqPj59IEFuIGFycmF5IG9mIGFycmF5IGNodW5rc1xuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnY2h1bmsnLCB7XG4gIHZhbHVlOiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBBcnJheS50aW1lcyhpID0+IHRoaXMuc2xpY2UoaSAqIG4sIGkgKiBuICsgbiksIE1hdGguY2VpbCh0aGlzLmxlbmd0aCAvIG4pKTtcbiAgfVxufSk7XG5cbi8qKlxuICogUmFuZG9tbHkgc2h1ZmZsZSBhbiBhcnJheSBpbi1wbGFjZVxuICogQG5hbWUgc2h1ZmZsZVxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgQXJyYXkucHJvdG90eXBlXG4gKiBAcmV0dXJuIHtBcnJheTwqPn0gVGhlIHNodWZmbGVkIGFycmF5XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdzaHVmZmxlJywge1xuICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChhID0+IFtNYXRoLnJhbmRvbSgpLCBhXSkuc29ydCgoYSwgYikgPT4gYVswXSAtIGJbMF0pLm1hcChhID0+IGFbMV0pO1xuICB9XG59KTtcblxuLyoqXG4gKiBBIDJkIHZlY3RvclxuICogQHR5cGVkZWYge09iamVjdH0gdmVjXG4gKiBAcHJvcGVydHkge251bWJlcn0geCBUaGUgeCBjb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHkgVGhlIHkgY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyB2ZWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfHZlY30gW3hdIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yLCBvciBhIHZlY3RvciB0byBjb3B5XG4gKiBAcGFyYW0ge251bWJlcn0gW3ldIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gKiBAcmV0dXJuIHt2ZWN9IEEgbmV3IHZlY3RvclxuICogQGV4YW1wbGUgPGNhcHRpb24+VmFyaW91cyB3YXlzIHRvIGluaXRpYWxpc2UgYSB2ZWN0b3I8L2NhcHRpb24+XG4gKiBsZXQgYSA9IHZlYygzLCAyKTsgIC8vICgzLCAyKVxuICogbGV0IGIgPSB2ZWMoNCk7ICAgICAvLyAoNCwgNClcbiAqIGxldCBjID0gdmVjKGEpOyAgICAgLy8gKDMsIDIpXG4gKiBsZXQgZCA9IHZlYygpOyAgICAgIC8vICgwLCAwKVxuICovXG5jb25zdCB2ZWMgPSAoeCwgeSkgPT4gKCF4ICYmICF5ID9cbiAgeyB4OiAwLCB5OiAwIH0gOiAodHlwZW9mIHggPT09ICdvYmplY3QnID9cbiAgICB7IHg6IHgueCB8fCAwLCB5OiB4LnkgfHwgMCB9IDogKHkgPT09IG51bGwgfHwgeSA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHsgeDogeCwgeTogeCB9IDogeyB4OiB4LCB5OiB5IH0pXG4gIClcbik7XG5cbi8qKlxuICogR2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjdG9yIGFzIGFuIGFycmF5XG4gKiBAcGFyYW0ge3ZlY30gYSBUaGUgdmVjdG9yIHRvIGdldCBjb21wb25lbnRzIGZyb21cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRoZSB2ZWN0b3IgY29tcG9uZW50cyBhcyBhbiBhcnJheVxuICovXG52ZWMuY29tcG9uZW50cyA9IGEgPT4gW2EueCwgYS55XTtcblxuLyoqXG4gKiBSZXR1cm4gYSB1bml0IHZlY3RvciAoMSwgMClcbiAqIEByZXR1cm4ge3ZlY30gQSB1bml0IHZlY3RvciAoMSwgMClcbiAqL1xudmVjLnV4ID0gKCkgPT4gdmVjKDEsIDApO1xuXG4vKipcbiAqIFJldHVybiBhIHVuaXQgdmVjdG9yICgwLCAxKVxuICogQHJldHVybiB7dmVjfSBBIHVuaXQgdmVjdG9yICgwLCAxKVxuICovXG52ZWMudXkgPSAoKSA9PiB2ZWMoMCwgMSk7XG5cbi8qKlxuICogQWRkIHZlY3RvcnNcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY30gYiBWZWN0b3IgYlxuICogQHJldHVybiB7dmVjfSBhICsgYlxuICovXG52ZWMuYWRkID0gKGEsIGIpID0+ICh7IHg6IGEueCArIGIueCwgeTogYS55ICsgYi55IH0pO1xuXG4vKipcbiAqIFNjYWxlIGEgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHBhcmFtIHtudW1iZXJ9IGIgU2NhbGFyIGJcbiAqIEByZXR1cm4ge3ZlY30gYSAqIGJcbiAqL1xudmVjLm11bCA9IChhLCBiKSA9PiAoeyB4OiBhLnggKiBiLCB5OiBhLnkgKiBiIH0pO1xuXG4vKipcbiAqIFN1YnRyYWN0IHZlY3RvcnNcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY30gYiBWZWN0b3IgYlxuICogQHJldHVybiB7dmVjfSBhIC0gYlxuICovXG52ZWMuc3ViID0gKGEsIGIpID0+ICh7IHg6IGEueCAtIGIueCwgeTogYS55IC0gYi55IH0pO1xuXG4vKipcbiAqIEdldCB0aGUgbGVuZ3RoIG9mIGEgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHJldHVybiB7bnVtYmVyfSB8YXxcbiAqL1xudmVjLmxlbiA9IGEgPT4gTWF0aC5zcXJ0KGEueCAqIGEueCArIGEueSAqIGEueSk7XG5cbi8qKlxuICogR2V0IHRoZSBsZW5ndGggb2YgYSB2ZWN0b3IgdXNpbmcgdGF4aWNhYiBnZW9tZXRyeVxuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEByZXR1cm4ge251bWJlcn0gfGF8XG4gKi9cbnZlYy5tYW5oYXR0YW4gPSBhID0+IE1hdGguYWJzKGEueCkgKyBNYXRoLmFicyhhLnkpO1xuXG4vKipcbiAqIE5vcm1hbGlzZSBhIHZlY3RvclxuICogQHBhcmFtIHt2ZWN9IGEgVGhlIHZlY3RvciB0byBub3JtYWxpc2VcbiAqIEByZXR1cm4ge3ZlY30gXmFcbiAqL1xudmVjLm5vciA9IGEgPT4ge1xuICBsZXQgbGVuID0gdmVjLmxlbihhKTtcbiAgcmV0dXJuIGxlbiA/IHsgeDogYS54IC8gbGVuLCB5OiBhLnkgLyBsZW4gfSA6IHZlYygpO1xufTtcblxuLyoqXG4gKiBHZXQgYSBkb3QgcHJvZHVjdCBvZiB2ZWN0b3JzXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHBhcmFtIHt2ZWN9IGIgVmVjdG9yIGJcbiAqIEByZXR1cm4ge251bWJlcn0gYSDiiJkgYlxuICovXG52ZWMuZG90ID0gKGEsIGIpID0+IGEueCAqIGIueCArIGEueSAqIGIueTtcblxuLyoqXG4gKiBSb3RhdGUgYSB2ZWN0b3IgYnkgciByYWRpYW5zXG4gKiBAcGFyYW0ge3ZlY30gYSBUaGUgdmVjdG9yIHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHIgVGhlIGFuZ2xlIHRvIHJvdGF0ZSBieSwgbWVhc3VyZWQgaW4gcmFkaWFuc1xuICogQHJldHVybiB7dmVjfSBBIHJvdGF0ZWQgdmVjdG9yXG4gKi9cbnZlYy5yb3QgPSAoYSwgcikgPT4ge1xuICBsZXQgcyA9IE1hdGguc2luKHIpLFxuICAgIGMgPSBNYXRoLmNvcyhyKTtcbiAgcmV0dXJuIHsgeDogYyAqIGEueCAtIHMgKiBhLnksIHk6IHMgKiBhLnggKyBjICogYS55IH07XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdHdvIHZlY3RvcnMgYXJlIGVxdWFsXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHBhcmFtIHt2ZWN9IGIgVmVjdG9yIGJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdmVjdG9ycyBhIGFuZCBiIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbnZlYy5lcSA9IChhLCBiKSA9PiBhLnggPT09IGIueCAmJiBhLnkgPT09IGIueTtcblxuLyoqXG4gKiBHZXQgdGhlIGFuZ2xlIG9mIGEgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYW5nbGUgb2YgdmVjdG9yIGEgaW4gcmFkaWFuc1xuICovXG52ZWMucmFkID0gYSA9PiBNYXRoLmF0YW4yKGEueSwgYS54KTtcblxuLyoqXG4gKiBDb3B5IGEgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlY30gYSBUaGUgdmVjdG9yIHRvIGNvcHlcbiAqIEByZXR1cm4ge3ZlY30gQSBjb3B5IG9mIHZlY3RvciBhXG4gKi9cbnZlYy5jcHkgPSBhID0+IHZlYyhhKTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvIGNhbGwgb24gZWFjaCBjb21wb25lbnQgb2YgYSB2ZWN0b3JcbiAqIEBjYWxsYmFjayB2ZWN0b3JNYXBDYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBjb21wb25lbnQgdmFsdWVcbiAqIEBwYXJhbSB7J3gnIHwgJ3knfSBsYWJlbCBUaGUgY29tcG9uZW50IGxhYmVsICh4IG9yIHkpXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXBwZWQgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBDYWxsIGEgZnVuY3Rpb24gb24gZWFjaCBjb21wb25lbnQgb2YgYSB2ZWN0b3IgYW5kIGJ1aWxkIGEgbmV3IHZlY3RvciBmcm9tIHRoZSByZXN1bHRzXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHBhcmFtIHt2ZWN0b3JNYXBDYWxsYmFja30gZiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gKiBAcmV0dXJuIHt2ZWN9IFZlY3RvciBhIG1hcHBlZCB0aHJvdWdoIGZcbiAqL1xudmVjLm1hcCA9IChhLCBmKSA9PiAoeyB4OiBmKGEueCwgJ3gnKSwgeTogZihhLnksICd5JykgfSk7XG5cbi8qKlxuICogQ29udmVydCBhIHZlY3RvciBpbnRvIGEgc3RyaW5nXG4gKiBAcGFyYW0ge3ZlY30gYSBUaGUgdmVjdG9yIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcz0nLCAnXSBUaGUgc2VwYXJhdG9yIHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cbnZlYy5zdHIgPSAoYSwgcyA9ICcsICcpID0+IGAke2EueH0ke3N9JHthLnl9YDtcblxuLyoqXG4gKiBBIG1hdHJpeFxuICogQHR5cGVkZWYge09iamVjdH0gbWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gbSBUaGUgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIG1hdHJpeFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBtYXRyaXhcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gZW50cmllcyBUaGUgbWF0cml4IHZhbHVlc1xuICovXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdHJpeFxuICogQHBhcmFtIHtudW1iZXJ9IFttPTRdIFRoZSBudW1iZXIgb2Ygcm93c1xuICogQHBhcmFtIHtudW1iZXJ9IFtuPTRdIFRoZSBudW1iZXIgb2YgY29sdW1uc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZW50cmllcz1bXV0gTWF0cml4IHZhbHVlcyBpbiByZWFkaW5nIG9yZGVyXG4gKiBAcmV0dXJuIHttYXR9IEEgbmV3IG1hdHJpeFxuICovXG5jb25zdCBtYXQgPSAobSA9IDQsIG4gPSA0LCBlbnRyaWVzID0gW10pID0+ICh7XG4gIG0sIG4sXG4gIGVudHJpZXM6IGVudHJpZXMuY29uY2F0KEFycmF5KG0gKiBuKS5maWxsKDApKS5zbGljZSgwLCBtICogbilcbn0pO1xuXG4vKipcbiAqIEdldCBhbiBpZGVudGl0eSBtYXRyaXggb2Ygc2l6ZSBuXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgc2l6ZSBvZiB0aGUgbWF0cml4XG4gKiBAcmV0dXJuIHttYXR9IEFuIGlkZW50aXR5IG1hdHJpeFxuICovXG5tYXQuaWRlbnRpdHkgPSBuID0+IG1hdChuLCBuLCBBcnJheShuICogbikuZmlsbCgwKS5tYXAoKHYsIGkpID0+ICsoTWF0aC5mbG9vcihpIC8gbikgPT09IGkgJSBuKSkpO1xuXG4vKipcbiAqIEdldCBhbiBlbnRyeSBmcm9tIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIHJvdyBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBqIFRoZSBjb2x1bW4gb2Zmc2V0XG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB2YWx1ZSBhdCBwb3NpdGlvbiAoaSwgaikgaW4gbWF0cml4IGFcbiAqL1xubWF0LmdldCA9IChhLCBpLCBqKSA9PiBhLmVudHJpZXNbKGogLSAxKSArIChpIC0gMSkgKiBhLm5dO1xuXG4vKipcbiAqIFNldCBhbiBlbnRyeSBvZiBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSByb3cgb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gaiBUaGUgY29sdW1uIG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IHYgVGhlIHZhbHVlIHRvIHNldCBpbiBtYXRyaXggYVxuICovXG5tYXQuc2V0ID0gKGEsIGksIGosIHYpID0+IHsgYS5lbnRyaWVzWyhqIC0gMSkgKyAoaSAtIDEpICogYS5uXSA9IHY7IH07XG5cbi8qKlxuICogR2V0IGEgcm93IGZyb20gYSBtYXRyaXggYXMgYW4gYXJyYXlcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gbSBUaGUgcm93IG9mZnNldFxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gUm93IG0gZnJvbSBtYXRyaXggYVxuICovXG5tYXQucm93ID0gKGEsIG0pID0+IHtcbiAgY29uc3QgcyA9IChtIC0gMSkgKiBhLm47XG4gIHJldHVybiBhLmVudHJpZXMuc2xpY2UocywgcyArIGEubik7XG59O1xuXG4vKipcbiAqIEdldCBhIGNvbHVtbiBmcm9tIGEgbWF0cml4IGFzIGFuIGFycmF5XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGNvbHVtbiBvZmZzZXRcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IENvbHVtbiBuIGZyb20gbWF0cml4IGFcbiAqL1xubWF0LmNvbCA9IChhLCBuKSA9PiBBcnJheS50aW1lcyhpID0+IG1hdC5nZXQoYSwgKGkgKyAxKSwgbiksIGEubSk7XG5cbi8qKlxuICogQWRkIG1hdHJpY2VzXG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHttYXR9IGIgTWF0cml4IGJcbiAqIEByZXR1cm4ge21hdH0gYSArIGJcbiAqL1xubWF0LmFkZCA9IChhLCBiKSA9PiBhLm0gPT09IGIubSAmJiBhLm4gPT09IGIubiAmJiBtYXQubWFwKGEsICh2LCBpKSA9PiB2ICsgYi5lbnRyaWVzW2ldKTtcblxuLyoqXG4gKiBTdWJ0cmFjdCBtYXRyaWNlc1xuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0fSBiIE1hdHJpeCBiXG4gKiBAcmV0dXJuIHttYXR9IGEgLSBiXG4gKi9cbm1hdC5zdWIgPSAoYSwgYikgPT4gYS5tID09PSBiLm0gJiYgYS5uID09PSBiLm4gJiYgbWF0Lm1hcChhLCAodiwgaSkgPT4gdiAtIGIuZW50cmllc1tpXSk7XG5cbi8qKlxuICogTXVsdGlwbHkgbWF0cmljZXNcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdH0gYiBNYXRyaXggYlxuICogQHJldHVybiB7bWF0fGJvb2xlYW59IGFiIG9yIGZhbHNlIGlmIHRoZSBtYXRyaWNlcyBjYW5ub3QgYmUgbXVsdGlwbGllZFxuICovXG5tYXQubXVsID0gKGEsIGIpID0+IHtcbiAgaWYgKGEubiAhPT0gYi5tKSB7IHJldHVybiBmYWxzZTsgfVxuICBjb25zdCByZXN1bHQgPSBtYXQoYS5tLCBiLm4pO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBhLm07IGkrKykge1xuICAgIGZvciAobGV0IGogPSAxOyBqIDw9IGIubjsgaisrKSB7XG4gICAgICBtYXQuc2V0KHJlc3VsdCwgaSwgaiwgTWF0aC5kb3QobWF0LnJvdyhhLCBpKSwgbWF0LmNvbChiLCBqKSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBTY2FsZSBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFNjYWxhciBiXG4gKiBAcmV0dXJuIHttYXR9IGEgKiBiXG4gKi9cbm1hdC5zY2FsZSA9IChhLCBiKSA9PiBtYXQubWFwKGEsIHYgPT4gdiAqIGIpO1xuXG4vKipcbiAqIFRyYW5zcG9zZSBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCB0byB0cmFuc3Bvc2VcbiAqIEByZXR1cm4ge21hdH0gQSB0cmFuc3Bvc2VkIG1hdHJpeFxuICovXG5tYXQudHJhbnMgPSBhID0+IG1hdChhLm4sIGEubSwgQXJyYXkudGltZXMoaSA9PiBtYXQuY29sKGEsIChpICsgMSkpLCBhLm4pLmZsYXQoKSk7XG5cbi8qKlxuICogR2V0IHRoZSBtaW5vciBvZiBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSByb3cgb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gaiBUaGUgY29sdW1uIG9mZnNldFxuICogQHJldHVybiB7bWF0fGJvb2xlYW59IFRoZSAoaSwgaikgbWlub3Igb2YgbWF0cml4IGEgb3IgZmFsc2UgaWYgdGhlIG1hdHJpeCBpcyBub3Qgc3F1YXJlXG4gKi9cbm1hdC5taW5vciA9IChhLCBpLCBqKSA9PiB7XG4gIGlmIChhLm0gIT09IGEubikgeyByZXR1cm4gZmFsc2U7IH1cbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDE7IGlpIDw9IGEubTsgaWkrKykge1xuICAgIGlmIChpaSA9PT0gaSkgeyBjb250aW51ZTsgfVxuICAgIGZvciAobGV0IGpqID0gMTsgamogPD0gYS5uOyBqaisrKSB7XG4gICAgICBpZiAoamogPT09IGopIHsgY29udGludWU7IH1cbiAgICAgIGVudHJpZXMucHVzaChtYXQuZ2V0KGEsIGlpLCBqaikpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0KGEubSAtIDEsIGEubiAtIDEsIGVudHJpZXMpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGRldGVybWluYW50IG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHJldHVybiB7bnVtYmVyfGJvb2xlYW59IHxhfCBvciBmYWxzZSBpZiB0aGUgbWF0cml4IGlzIG5vdCBzcXVhcmVcbiAqL1xubWF0LmRldCA9IGEgPT4ge1xuICBpZiAoYS5tICE9PSBhLm4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGlmIChhLm0gPT09IDEpIHtcbiAgICByZXR1cm4gYS5lbnRyaWVzWzBdO1xuICB9XG4gIGlmIChhLm0gPT09IDIpIHtcbiAgICByZXR1cm4gYS5lbnRyaWVzWzBdICogYS5lbnRyaWVzWzNdIC0gYS5lbnRyaWVzWzFdICogYS5lbnRyaWVzWzJdO1xuICB9XG4gIGxldCB0b3RhbCA9IDAsIHNpZ24gPSAxO1xuICBmb3IgKGxldCBqID0gMTsgaiA8PSBhLm47IGorKykge1xuICAgIHRvdGFsICs9IHNpZ24gKiBhLmVudHJpZXNbaiAtIDFdICogbWF0LmRldChtYXQubWlub3IoYSwgMSwgaikpO1xuICAgIHNpZ24gKj0gLTE7XG4gIH1cbiAgcmV0dXJuIHRvdGFsO1xufTtcblxuLyoqXG4gKiBOb3JtYWxpc2UgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gbm9ybWFsaXNlXG4gKiBAcmV0dXJuIHttYXR8Ym9vbGVhbn0gXmEgb3IgZmFsc2UgaWYgdGhlIG1hdHJpeCBpcyBub3Qgc3F1YXJlXG4gKi9cbm1hdC5ub3IgPSBhID0+IHtcbiAgaWYgKGEubSAhPT0gYS5uKSB7IHJldHVybiBmYWxzZTsgfVxuICBjb25zdCBkID0gbWF0LmRldChhKTtcbiAgcmV0dXJuIG1hdC5tYXAoYSwgaSA9PiBpICogZCk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgYWRqdWdhdGUgb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggZnJvbSB3aGljaCB0byBnZXQgdGhlIGFkanVnYXRlXG4gKiBAcmV0dXJuIHttYXR9IFRoZSBhZGp1Z2F0ZSBvZiBhXG4gKi9cbm1hdC5hZGogPSBhID0+IHtcbiAgY29uc3QgbWlub3JzID0gbWF0KGEubSwgYS5uKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gYS5tOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBhLm47IGorKykge1xuICAgICAgbWF0LnNldChtaW5vcnMsIGksIGosIG1hdC5kZXQobWF0Lm1pbm9yKGEsIGksIGopKSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGNvZmFjdG9ycyA9IG1hdC5tYXAobWlub3JzLCAodiwgaSkgPT4gdiAqIChpICUgMiA/IC0xIDogMSkpO1xuICByZXR1cm4gbWF0LnRyYW5zKGNvZmFjdG9ycyk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaW52ZXJzZSBvZiBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCB0byBpbnZlcnRcbiAqIEByZXR1cm4ge21hdHxib29sZWFufSBhXi0xIG9yIGZhbHNlIGlmIHRoZSBtYXRyaXggaGFzIG5vIGludmVyc2VcbiAqL1xubWF0LmludiA9IGEgPT4ge1xuICBpZiAoYS5tICE9PSBhLm4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGNvbnN0IGQgPSBtYXQuZGV0KGEpO1xuICBpZiAoZCA9PT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgcmV0dXJuIG1hdC5zY2FsZShtYXQuYWRqKGEpLCAxIC8gZCk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHR3byBtYXRyaWNlcyBhcmUgZXF1YWxcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdH0gYiBNYXRyaXggYlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBtYXRyaWNlcyBhIGFuZCBiIGFyZSBpZGVudGljYWwsIGZhbHNlIG90aGVyd2lzZVxuICovXG5tYXQuZXEgPSAoYSwgYikgPT4gYS5tID09PSBiLm0gJiYgYS5uID09PSBiLm4gJiYgbWF0LnN0cihhKSA9PT0gbWF0LnN0cihiKTtcblxuLyoqXG4gKiBDb3B5IGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIGNvcHlcbiAqIEByZXR1cm4ge21hdH0gQSBjb3B5IG9mIG1hdHJpeCBhXG4gKi9cbm1hdC5jcHkgPSBhID0+IG1hdChhLm0sIGEubiwgWy4uLmEuZW50cmllc10pO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIGVudHJ5IG9mIGEgbWF0cml4XG4gKiBAY2FsbGJhY2sgbWF0cml4TWFwQ2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgZW50cnkgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgZW50cnkgaW5kZXhcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW50cmllcyBUaGUgYXJyYXkgb2YgbWF0cml4IGVudHJpZXNcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1hcHBlZCBlbnRyeVxuICovXG5cbi8qKlxuICogQ2FsbCBhIGZ1bmN0aW9uIG9uIGVhY2ggZW50cnkgb2YgYSBtYXRyaXggYW5kIGJ1aWxkIGEgbmV3IG1hdHJpeCBmcm9tIHRoZSByZXN1bHRzXG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHttYXRyaXhNYXBDYWxsYmFja30gZiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIGVudHJ5IG9mIHRoZSBtYXRyaXhcbiAqIEByZXR1cm4ge21hdH0gTWF0cml4IGEgbWFwcGVkIHRocm91Z2ggZlxuICovXG5tYXQubWFwID0gKGEsIGYpID0+IG1hdChhLm0sIGEubiwgYS5lbnRyaWVzLm1hcChmKSk7XG5cbi8qKlxuICogQ29udmVydCBhIG1hdHJpeCBpbnRvIGEgc3RyaW5nXG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbXM9JywgJ10gVGhlIHNlcGFyYXRvciBzdHJpbmcgZm9yIGNvbHVtbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbnM9J1xcbiddIFRoZSBzZXBhcmF0b3Igc3RyaW5nIGZvciByb3dzXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xubWF0LnN0ciA9IChhLCBtcyA9ICcsICcsIG5zID0gJ1xcbicpID0+IGEuZW50cmllcy5jaHVuayhhLm4pLm1hcChyID0+IHIuam9pbihtcykpLmpvaW4obnMpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IHZlYywgbWF0IH07XG59XG4iLCJpbXBvcnQgeyB2ZWMgfSBmcm9tIFwiQGJhc2VtZW50dW5pdmVyc2UvY29tbW9uanNcIjtcbmltcG9ydCAqIGFzIGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qc29uJztcblxudHlwZSBEZWJ1Z09wdGlvbnMgPSB7XG4gIG1hcmdpbjogbnVtYmVyLFxuICBwYWRkaW5nOiBudW1iZXIsXG4gIGZvbnQ6IHN0cmluZyxcbiAgbGluZUhlaWdodDogbnVtYmVyLFxuICBmb3JlZ3JvdW5kQ29sb3VyOiBDb2xvdXIsXG4gIGJhY2tncm91bmRDb2xvdXI6IENvbG91cixcbiAgZGVmYXVsdFZhbHVlOiBEZWJ1Z1ZhbHVlLFxuICBkZWZhdWx0TWFya2VyOiBEZWJ1Z01hcmtlclxufTtcblxudHlwZSBEZWJ1Z1ZhbHVlID0ge1xuICBsYWJlbD86IHN0cmluZyxcbiAgdmFsdWU/OiBudW1iZXIgfCBzdHJpbmcsXG4gIGFsaWduOiAnbGVmdCcgfCAncmlnaHQnLFxuICBzaG93TGFiZWw6IGJvb2xlYW4sXG4gIHBhZGRpbmc/OiBudW1iZXIsXG4gIGZvbnQ/OiBzdHJpbmcsXG4gIGZvcmVncm91bmRDb2xvdXI/OiBDb2xvdXIsXG4gIGJhY2tncm91bmRDb2xvdXI/OiBDb2xvdXJcbn07XG5cbnR5cGUgRGVidWdNYXJrZXIgPSB7XG4gIGxhYmVsPzogc3RyaW5nLFxuICB2YWx1ZT86IG51bWJlciB8IHN0cmluZyxcbiAgcG9zaXRpb24/OiB2ZWMsXG4gIHNob3dMYWJlbDogYm9vbGVhbixcbiAgc2hvd1ZhbHVlOiBib29sZWFuLFxuICBzaG93TWFya2VyOiBib29sZWFuLFxuICBtYXJrZXJTaXplOiBudW1iZXIsXG4gIG1hcmtlclN0eWxlOiAneCcgfCAnKycgfCAnLicsXG4gIG1hcmtlckNvbG91cjogQ29sb3VyLFxuICBzcGFjZTogJ3dvcmxkJyB8ICdzY3JlZW4nLFxuICBwYWRkaW5nPzogbnVtYmVyLFxuICBmb250Pzogc3RyaW5nLFxuICBsYWJlbE9mZnNldDogdmVjLFxuICBmb3JlZ3JvdW5kQ29sb3VyPzogQ29sb3VyLFxuICBiYWNrZ3JvdW5kQ29sb3VyPzogQ29sb3VyXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWJ1ZyB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBEZWJ1ZztcbiAgcHJpdmF0ZSB2YWx1ZXM6IE1hcDxzdHJpbmcsIERlYnVnVmFsdWU+O1xuICBwcml2YXRlIG1hcmtlcnM6IE1hcDxzdHJpbmcsIERlYnVnTWFya2VyPjtcbiAgcHJpdmF0ZSBvcHRpb25zOiBEZWJ1Z09wdGlvbnNcbiAgcHJpdmF0ZSByZWFkb25seSBkZWZhdWx0T3B0aW9uczogRGVidWdPcHRpb25zID0ge1xuICAgIG1hcmdpbjogMTAsXG4gICAgcGFkZGluZzogNCxcbiAgICBmb250OiAnMTBwdCBMdWNpZGEgQ29uc29sZSwgbW9ub3NwYWNlJyxcbiAgICBsaW5lSGVpZ2h0OiAxMixcbiAgICBmb3JlZ3JvdW5kQ29sb3VyOiAnI2ZmZicsXG4gICAgYmFja2dyb3VuZENvbG91cjogJyMzMzM4JyxcbiAgICBkZWZhdWx0VmFsdWU6IHtcbiAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICBzaG93TGFiZWw6IHRydWVcbiAgICB9LFxuICAgIGRlZmF1bHRNYXJrZXI6IHtcbiAgICAgIHNob3dMYWJlbDogdHJ1ZSxcbiAgICAgIHNob3dWYWx1ZTogdHJ1ZSxcbiAgICAgIHNob3dNYXJrZXI6IHRydWUsXG4gICAgICBtYXJrZXJTaXplOiA2LFxuICAgICAgbWFya2VyU3R5bGU6ICd4JyxcbiAgICAgIG1hcmtlckNvbG91cjogJyNjY2MnLFxuICAgICAgc3BhY2U6ICd3b3JsZCcsXG4gICAgICBsYWJlbE9mZnNldDogdmVjKDEwKVxuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhcnRpYWw8RGVidWdPcHRpb25zPiA9IHt9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgdGhpcy52YWx1ZXMgPSBuZXcgTWFwPHN0cmluZywgRGVidWdWYWx1ZT4oKTtcbiAgICB0aGlzLm1hcmtlcnMgPSBuZXcgTWFwPHN0cmluZywgRGVidWdNYXJrZXI+KCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGlzZSB0aGUgZGVidWcgcmVuZGVyZXIgZm9yIGRpc3BsYXlpbmcgdmFsdWVzIGFuZCBtYXJrZXJzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGluaXRpYWxpc2Uob3B0aW9uczogUGFydGlhbDxEZWJ1Z09wdGlvbnM+ID0ge30pOiB2b2lkIHtcbiAgICBEZWJ1Zy5pbnN0YW5jZSA9IG5ldyBEZWJ1ZyhvcHRpb25zKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldEluc3RhbmNlKCk6IERlYnVnIHtcbiAgICBpZiAoRGVidWcuaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgRGVidWcuaW5pdGlhbGlzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gRGVidWcuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBhIGRlYnVnIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHZhbHVlKGxhYmVsOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsIG9wdGlvbnM6IFBhcnRpYWw8RGVidWdWYWx1ZT4gPSB7fSk6IHZvaWQge1xuICAgIGNvbnN0IGRlYnVnID0gRGVidWcuZ2V0SW5zdGFuY2UoKTtcbiAgICBkZWJ1Zy52YWx1ZXMuc2V0KGxhYmVsLCBPYmplY3QuYXNzaWduKFxuICAgICAgeyBsYWJlbCwgdmFsdWUgfSxcbiAgICAgIGRlYnVnLmRlZmF1bHRPcHRpb25zLmRlZmF1bHRWYWx1ZSxcbiAgICAgIG9wdGlvbnNcbiAgICApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgbWFya2VyIGluIHdvcmxkIG9yIHNjcmVlbiBzcGFjZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtYXJrZXIobGFiZWw6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bWJlciwgcG9zaXRpb246IHZlYywgb3B0aW9uczogUGFydGlhbDxEZWJ1Z01hcmtlcj4gPSB7fSk6IHZvaWQge1xuICAgIGNvbnN0IGRlYnVnID0gRGVidWcuZ2V0SW5zdGFuY2UoKTtcbiAgICBkZWJ1Zy5tYXJrZXJzLnNldChsYWJlbCwgT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbGFiZWwsIHZhbHVlLCBwb3NpdGlvbiB9LFxuICAgICAgZGVidWcuZGVmYXVsdE9wdGlvbnMuZGVmYXVsdE1hcmtlcixcbiAgICAgIG9wdGlvbnNcbiAgICApKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBkZWJ1ZyA9IERlYnVnLmdldEluc3RhbmNlKCk7XG5cbiAgICAvLyBEcmF3IHdvcmxkLXNwYWNlIG1hcmtlcnNcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LnNjYWxlKDEgLyBjb25maWcuc2NhbGVGYWN0b3IsIDEgLyBjb25maWcuc2NhbGVGYWN0b3IpO1xuICAgIGRlYnVnLm1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4ge1xuICAgICAgaWYgKG1hcmtlci5zcGFjZSA9PT0gJ3dvcmxkJykge1xuICAgICAgICBkZWJ1Zy5kcmF3TWFya2VyKGNvbnRleHQsIG1hcmtlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAvLyBEcmF3IHZhbHVlcyBhbmQgc2NyZWVuLXNwYWNlIG1hcmtlcnNcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICBsZXQgcG9zaXRpb246IHZlYztcbiAgICBsZXQgbGVmdFkgPSBkZWJ1Zy5vcHRpb25zLm1hcmdpbjtcbiAgICBsZXQgcmlnaHRZID0gZGVidWcub3B0aW9ucy5tYXJnaW47XG4gICAgY29uc3QgbGluZUhlaWdodCA9IChkZWJ1Zy5vcHRpb25zLmxpbmVIZWlnaHQgKyBkZWJ1Zy5vcHRpb25zLnBhZGRpbmcgKiAyKTtcbiAgICBkZWJ1Zy52YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBzd2l0Y2ggKHZhbHVlLmFsaWduKSB7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHBvc2l0aW9uID0gdmVjKGRlYnVnLm9wdGlvbnMubWFyZ2luLCBsZWZ0WSk7XG4gICAgICAgICAgbGVmdFkgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIHBvc2l0aW9uID0gdmVjKGNvbnRleHQuY2FudmFzLmNsaWVudFdpZHRoIC0gZGVidWcub3B0aW9ucy5tYXJnaW4sIHJpZ2h0WSk7XG4gICAgICAgICAgcmlnaHRZICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWJ1Zy5kcmF3TGFiZWwoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgICh2YWx1ZS5zaG93TGFiZWwgPyBgJHt2YWx1ZS5sYWJlbH06IGAgOiAnJykgKyBgJHt2YWx1ZS52YWx1ZX1gLFxuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgdmFsdWUuYWxpZ24sXG4gICAgICAgIHZhbHVlLnBhZGRpbmcgPz8gZGVidWcub3B0aW9ucy5wYWRkaW5nLFxuICAgICAgICB2YWx1ZS5mb250ID8/IGRlYnVnLm9wdGlvbnMuZm9udCxcbiAgICAgICAgdmFsdWUuZm9yZWdyb3VuZENvbG91ciA/PyBkZWJ1Zy5vcHRpb25zLmZvcmVncm91bmRDb2xvdXIsXG4gICAgICAgIHZhbHVlLmJhY2tncm91bmRDb2xvdXIgPz8gZGVidWcub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3VyXG4gICAgICApO1xuICAgIH0pO1xuICAgIGRlYnVnLm1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4ge1xuICAgICAgaWYgKG1hcmtlci5zcGFjZSA9PT0gJ3NjcmVlbicpIHtcbiAgICAgICAgZGVidWcuZHJhd01hcmtlcihjb250ZXh0LCBtYXJrZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgLy8gQ2xlYXIgdmFsdWVzIGFuZCBtYXJrZXJzIHJlYWR5IGZvciBuZXh0IGZyYW1lXG4gICAgZGVidWcudmFsdWVzLmNsZWFyKCk7XG4gICAgZGVidWcubWFya2Vycy5jbGVhcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3TWFya2VyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgbWFya2VyOiBEZWJ1Z01hcmtlcik6IHZvaWQge1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdmVjLm11bChtYXJrZXIucG9zaXRpb24gPz8gdmVjKCksIGNvbmZpZy5zY2FsZUZhY3Rvcik7XG4gICAgaWYgKG1hcmtlci5zaG93TGFiZWwgfHwgbWFya2VyLnNob3dWYWx1ZSkge1xuICAgICAgdGhpcy5kcmF3TGFiZWwoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIChtYXJrZXIuc2hvd0xhYmVsID8gYCR7bWFya2VyLmxhYmVsfTogYCA6ICcnKSArIChtYXJrZXIuc2hvd1ZhbHVlID8gYCR7bWFya2VyLnZhbHVlfWAgOiAnJyksXG4gICAgICAgIHZlYy5hZGQocG9zaXRpb24gPz8gdmVjKCksIG1hcmtlci5sYWJlbE9mZnNldCksXG4gICAgICAgICdsZWZ0JyxcbiAgICAgICAgbWFya2VyLnBhZGRpbmcgPz8gdGhpcy5vcHRpb25zLnBhZGRpbmcsXG4gICAgICAgIG1hcmtlci5mb250ID8/IHRoaXMub3B0aW9ucy5mb250LFxuICAgICAgICBtYXJrZXIuZm9yZWdyb3VuZENvbG91ciA/PyB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENvbG91cixcbiAgICAgICAgbWFya2VyLmJhY2tncm91bmRDb2xvdXIgPz8gdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvdXJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtYXJrZXIuc2hvd01hcmtlcikge1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyO1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbnRleHQuZmlsbFN0eWxlID0gbWFya2VyLm1hcmtlckNvbG91ciBhcyBzdHJpbmc7XG4gICAgICBzd2l0Y2ggKG1hcmtlci5tYXJrZXJTdHlsZSkge1xuICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICB0aGlzLmRyYXdDcm9zcyhjb250ZXh0LCBwb3NpdGlvbiwgbWFya2VyLm1hcmtlclNpemUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICB0aGlzLmRyYXdQbHVzKGNvbnRleHQsIHBvc2l0aW9uLCBtYXJrZXIubWFya2VyU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgIHRoaXMuZHJhd0RvdChjb250ZXh0LCBwb3NpdGlvbiwgbWFya2VyLm1hcmtlclNpemUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0xhYmVsKFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgcG9zaXRpb246IHZlYyxcbiAgICBhbGlnbjogJ2xlZnQnIHwgJ3JpZ2h0JyxcbiAgICBwYWRkaW5nOiBudW1iZXIsXG4gICAgZm9udDogc3RyaW5nLFxuICAgIGZvcmVncm91bmRDb2xvdXI6IENvbG91cixcbiAgICBiYWNrZ3JvdW5kQ29sb3VyOiBDb2xvdXJcbiAgKTogdm9pZCB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgIGNvbnN0IGJhY2tncm91bmRTaXplID0ge1xuICAgICAgd2lkdGg6IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGggKyBwYWRkaW5nICogMixcbiAgICAgIGhlaWdodDogdGhpcy5vcHRpb25zLmxpbmVIZWlnaHQgKyBwYWRkaW5nICogMlxuICAgIH07XG4gICAgY29uc3QgeCA9IGFsaWduID09PSAncmlnaHQnID8gKHBvc2l0aW9uLnggLSBiYWNrZ3JvdW5kU2l6ZS53aWR0aCkgOiBwb3NpdGlvbi54O1xuXG4gICAgLy8gRHJhdyBiYWNrZ3JvdW5kXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3VyIGFzIHN0cmluZztcbiAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgeCAtIHBhZGRpbmcsXG4gICAgICBwb3NpdGlvbi55IC0gcGFkZGluZyxcbiAgICAgIGJhY2tncm91bmRTaXplLndpZHRoLFxuICAgICAgYmFja2dyb3VuZFNpemUuaGVpZ2h0XG4gICAgKTtcblxuICAgIC8vIERyYXcgdGV4dFxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZm9yZWdyb3VuZENvbG91ciBhcyBzdHJpbmc7XG4gICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCBwb3NpdGlvbi55KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0Nyb3NzKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zaXRpb246IHZlYywgc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgIGNvbnRleHQubW92ZVRvKHBvc2l0aW9uLnggLSBoYWxmU2l6ZSwgcG9zaXRpb24ueSAtIGhhbGZTaXplKTtcbiAgICBjb250ZXh0LmxpbmVUbyhwb3NpdGlvbi54ICsgaGFsZlNpemUsIHBvc2l0aW9uLnkgKyBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCAtIGhhbGZTaXplLCBwb3NpdGlvbi55ICsgaGFsZlNpemUpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLnggKyBoYWxmU2l6ZSwgcG9zaXRpb24ueSAtIGhhbGZTaXplKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UGx1cyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiB2ZWMsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29uc3QgaGFsZlNpemUgPSBzaXplIC8gMjtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54LCBwb3NpdGlvbi55IC0gaGFsZlNpemUpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgKyBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCAtIGhhbGZTaXplLCBwb3NpdGlvbi55KTtcbiAgICBjb250ZXh0LmxpbmVUbyhwb3NpdGlvbi54ICsgaGFsZlNpemUsIHBvc2l0aW9uLnkpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdEb3QoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3NpdGlvbjogdmVjLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuYXJjKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHNpemUgLyAyLCAwLCBNYXRoLlBJICogMik7XG4gICAgY29udGV4dC5maWxsKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qc29uJztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5pbXBvcnQge1xuICBDb250ZW50TWFuYWdlcixcbiAgSW5wdXRNYW5hZ2VyLFxuICBTdGF0ZU1hbmFnZXIsXG59IGZyb20gJy4vbWFuYWdlcnMnO1xuaW1wb3J0IHsgSW50cm9TdGF0ZSB9IGZyb20gJy4vc3RhdGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xuICBwcml2YXRlIGxhc3RGcmFtZUNvdW50VGltZTogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lUmF0ZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBmcmFtZUNvdW50OiBudW1iZXIgPSAwO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCkge1xuICAgIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSB2YWxpZCBjb250YWluZXIgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZC4nKTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdjYW52YXMnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciBlbGVtZW50IG11c3QgYmUgYSBjYW52YXMuJyk7XG4gICAgfVxuICAgIHRoaXMuY2FudmFzID0gY29udGFpbmVyIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXG4gICAgLy8gR2V0IGEgMmQgY29udGV4dFxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBnZXQgYSAyZCBjb250ZXh0LlwiKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcmVzaXplXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNpemUoKTogdm9pZCB7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAvLyBEaXNhYmxlIGltYWdlIHNtb290aGluZyBmb3IgcGl4ZWxhdGVkIGdyYXBoaWNzXG4gICAgdGhpcy5jb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2UgdGhlIGdhbWUgYW5kIHN0YXJ0IHBsYXlpbmdcbiAgICovXG4gIHB1YmxpYyBpbml0aWFsaXNlKCk6IHZvaWQge1xuXG4gICAgLy8gSW5pdGlhbGlzZSBzdWJzeXN0ZW1zXG4gICAgRGVidWcuaW5pdGlhbGlzZSgpO1xuICAgIENvbnRlbnRNYW5hZ2VyLmluaXRpYWxpc2UoKTtcbiAgICBJbnB1dE1hbmFnZXIuaW5pdGlhbGlzZSh0aGlzLmNhbnZhcyk7XG4gICAgU3RhdGVNYW5hZ2VyLmluaXRpYWxpc2UoKTtcblxuICAgIC8vIFN0YXJ0IGdhbWUgbG9vcFxuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5sb29wKCk7XG5cbiAgICAvLyBQdXNoIHRoZSBpbnRybyBzdGF0ZVxuICAgIFN0YXRlTWFuYWdlci5wdXNoKG5ldyBJbnRyb1N0YXRlKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb29wKCk6IHZvaWQge1xuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gTWF0aC5taW4obm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lLCBjb25zdGFudHMuRlBTX01JTik7XG5cbiAgICAvLyBDYWxjdWxhdGUgZnJhbWVyYXRlXG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID49IDEwMDApIHtcbiAgICAgIHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID0gbm93O1xuICAgICAgdGhpcy5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICB0aGlzLmZyYW1lQ291bnQgPSAwO1xuICAgIH1cbiAgICB0aGlzLmZyYW1lQ291bnQrKztcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XG4gICAgaWYgKGNvbmZpZy5zaG93RlBTKSB7XG4gICAgICBEZWJ1Zy52YWx1ZSgnRlBTJywgdGhpcy5mcmFtZVJhdGUsIHsgYWxpZ246ICdyaWdodCcgfSk7XG4gICAgfVxuXG4gICAgLy8gRG8gZ2FtZSBsb29wXG4gICAgdGhpcy51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgIHRoaXMuZHJhdygpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgIFN0YXRlTWFuYWdlci51cGRhdGUoZHQpO1xuICAgIElucHV0TWFuYWdlci51cGRhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhdygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oY29uZmlnLnNjYWxlRmFjdG9yLCAwLCAwLCBjb25maWcuc2NhbGVGYWN0b3IsIDAsIDApO1xuICAgIFN0YXRlTWFuYWdlci5kcmF3KHRoaXMuY29udGV4dCk7XG4gICAgRGVidWcuZHJhdyh0aGlzLmNvbnRleHQpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgREVCVUcgPSB0cnVlO1xuZXhwb3J0IGNvbnN0IFNJTVVMQVRFX1NMT1dfTE9BRElORyA9IHRydWU7XG5leHBvcnQgY29uc3QgRlBTX01JTiA9IDEgLyAzMDtcbiIsImV4cG9ydCBlbnVtIFN0YXRlVHJhbnNpdGlvblR5cGUge1xuICBJbixcbiAgT3V0LFxuICBOb25lXG59XG5cbmV4cG9ydCBlbnVtIEtleSB7XG4gIFVwID0gJ0Fycm93VXAnLFxuICBEb3duID0gJ0Fycm93RG93bicsXG4gIExlZnQgPSAnQXJyb3dMZWZ0JyxcbiAgUmlnaHQgPSAnQXJyb3dSaWdodCdcbn1cbiIsImltcG9ydCBHYW1lIGZyb20gJy4vR2FtZSc7XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIGNvbnN0IGdhbWUgPSBuZXcgR2FtZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZScpKTtcbiAgZ2FtZS5pbml0aWFsaXNlKCk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IEZvbnRMb2FkZXI6IENvbnRlbnRJdGVtTG9hZGVyID0gYXN5bmMgPEZvbnRGYWNlPihcbiAgdXJsOiBzdHJpbmcsXG4gIGZhbWlseTogc3RyaW5nXG4pOiBQcm9taXNlPEZvbnRGYWNlPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxGb250RmFjZT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoZmFtaWx5LCBgdXJsKCR7dXJsfSlgKTtcbiAgICBmb250LmxvYWQoKVxuICAgICAgLnRoZW4oZm9udCA9PiB7XG4gICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChmb250KTtcbiAgICAgICAgcmVzb2x2ZShmb250IGFzIGFueSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgcmVqZWN0KGBFcnJvciBsb2FkaW5nIGZvbnQgXCIke3VybH1cImApO1xuICAgICAgfSk7XG4gIH0pO1xufTtcbiIsImV4cG9ydCBjb25zdCBJbWFnZUxvYWRlcjogQ29udGVudEl0ZW1Mb2FkZXIgPSBhc3luYyA8SFRNTEltYWdlRWxlbWVudD4oXG4gIHVybDogc3RyaW5nXG4pOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgcmVzb2x2ZShpbWFnZSBhcyBhbnkpO1xuICAgIH0pO1xuICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgcmVqZWN0KGBFcnJvciBsb2FkaW5nIGltYWdlIFwiJHt1cmx9XCJgKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvKiBlc2xpbnQgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm46IDAgKi9cbmV4cG9ydCBjb25zdCBKU09OTG9hZGVyOiBDb250ZW50SXRlbUxvYWRlciA9IGFzeW5jIChcbiAgdXJsOiBzdHJpbmdcbik6IFByb21pc2U8YW55PiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB3aW5kb3cuZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIHJlc29sdmUoanNvbik7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgcmVqZWN0KGBFcnJvciBsb2FkaW5nIGpzb24gXCIke3VybH1cImApO1xuICAgICAgfSk7XG4gIH0pO1xufTtcbiIsImV4cG9ydCBjb25zdCBTb3VuZExvYWRlcjogQ29udGVudEl0ZW1Mb2FkZXIgPSBhc3luYyA8SFRNTEF1ZGlvRWxlbWVudD4oXG4gIHVybDogc3RyaW5nXG4pOiBQcm9taXNlPEhUTUxBdWRpb0VsZW1lbnQ+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPEhUTUxBdWRpb0VsZW1lbnQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBzb3VuZCA9IG5ldyBBdWRpbyh1cmwpO1xuICAgIHNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCAoKSA9PiB7XG4gICAgICByZXNvbHZlKHNvdW5kIGFzIGFueSk7XG4gICAgfSk7XG4gICAgc291bmQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICByZWplY3QoYEVycm9yIGxvYWRpbmcgc291bmQgXCIke3VybH1cImApO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsImV4cG9ydCB7IEZvbnRMb2FkZXIgfSBmcm9tICcuL0ZvbnRMb2FkZXInO1xuZXhwb3J0IHsgSW1hZ2VMb2FkZXIgfSBmcm9tICcuL0ltYWdlTG9hZGVyJztcbmV4cG9ydCB7IEpTT05Mb2FkZXIgfSBmcm9tICcuL0pTT05Mb2FkZXInO1xuZXhwb3J0IHsgU291bmRMb2FkZXIgfSBmcm9tICcuL1NvdW5kTG9hZGVyJztcbiIsImltcG9ydCAqIGFzIGNvbnRlbnQgZnJvbSAnLi4vLi4vY29udGVudC9jb250ZW50Lmpzb24nO1xuaW1wb3J0ICogYXMgdXRpbGl0aWVzIGZyb20gJy4uL3V0aWxpdGllcyc7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IEZvbnRMb2FkZXIsIEltYWdlTG9hZGVyLCBKU09OTG9hZGVyLCBTb3VuZExvYWRlciB9IGZyb20gJy4uL2xvYWRlcnMnO1xuXG5jb25zdCBjb250ZW50SXRlbUxvYWRlcnM6IHtcbiAgW2tleSBpbiBDb250ZW50SXRlbVR5cGVdOiBDb250ZW50SXRlbUxvYWRlcjtcbn0gPSB7XG4gIGltYWdlOiBJbWFnZUxvYWRlcixcbiAgc291bmQ6IFNvdW5kTG9hZGVyLFxuICBmb250OiBGb250TG9hZGVyLFxuICBqc29uOiBKU09OTG9hZGVyLFxufTtcblxuZXhwb3J0IGNsYXNzIENvbnRlbnRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENvbnRlbnRNYW5hZ2VyO1xuICBwcml2YXRlIGNvbnRlbnQ6IENvbnRlbnRJdGVtW107XG4gIHByaXZhdGUgaXRlbXM6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIHB1YmxpYyBzdGF0aWMgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBzdGF0aWMgbG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihjb250ZW50OiBDb250ZW50SXRlbVtdKSB7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBjb250ZW50IG1hbmFnZXIgZm9yIGxvYWRpbmcgY29udGVudCBhc3NldHNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZSgpOiB2b2lkIHtcbiAgICBDb250ZW50TWFuYWdlci5pbnN0YW5jZSA9IG5ldyBDb250ZW50TWFuYWdlcihjb250ZW50Lml0ZW1zIGFzIENvbnRlbnRJdGVtW10pO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29udGVudE1hbmFnZXIge1xuICAgIGlmIChDb250ZW50TWFuYWdlci5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbWFuYWdlciBub3QgcHJvcGVybHkgaW5pdGlhbGlzZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIENvbnRlbnRNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChDb250ZW50TWFuYWdlci5sb2FkZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudCBhbHJlYWR5IGxvYWRlZCcpO1xuICAgIH1cbiAgICBjb25zdCBpbnN0YW5jZSA9IENvbnRlbnRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGluc3RhbmNlLmNvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbnRlbnQgaXRlbXMgdG8gbG9hZCcpO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmVzc0RlbHRhID0gMSAvIGluc3RhbmNlLmNvbnRlbnQubGVuZ3RoO1xuICAgIGNvbnN0IGl0ZW1zOiBhbnlbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgYyBvZiBpbnN0YW5jZS5jb250ZW50KSB7XG4gICAgICBpZiAoY29uc3RhbnRzLkRFQlVHICYmIGNvbnN0YW50cy5TSU1VTEFURV9TTE9XX0xPQURJTkcpIHtcbiAgICAgICAgYXdhaXQgdXRpbGl0aWVzLnNsZWVwKE1hdGgucmFuZG9tQmV0d2VlbigxMDAsIDEwMDApKTtcbiAgICAgIH1cbiAgICAgIGl0ZW1zLnB1c2goYXdhaXQgY29udGVudEl0ZW1Mb2FkZXJzW2MudHlwZV0oLi4uYy5hcmdzKSk7XG4gICAgICBDb250ZW50TWFuYWdlci5wcm9ncmVzcyA9IE1hdGguY2xhbXAoQ29udGVudE1hbmFnZXIucHJvZ3Jlc3MgKyBwcm9ncmVzc0RlbHRhLCAwLCAxKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuaXRlbXMgPSBpdGVtcztcbiAgICBDb250ZW50TWFuYWdlci5sb2FkZWQgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXQ8VD4obmFtZTogc3RyaW5nKTogVCB7XG4gICAgaWYgKCFDb250ZW50TWFuYWdlci5sb2FkZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudCBub3QgbG9hZGVkJyk7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gQ29udGVudE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoIShuYW1lIGluIGluc3RhbmNlLml0ZW1zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250ZW50IGl0ZW0gXCIke25hbWV9XCIgbm90IGZvdW5kYCk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5pdGVtc1tuYW1lXSBhcyBUO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRW50aXR5TWFuYWdlciB7XG4gIC8vXG59XG4iLCJpbXBvcnQgeyBLZXkgfSBmcm9tICcuLi9lbnVtcyc7XG5pbXBvcnQgeyB2ZWMgfSBmcm9tICdAYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qcyc7XG5cbnR5cGUgTW91c2VTdGF0ZSA9IHtcbiAgYnV0dG9uOiBib29sZWFuLFxuICBwb3NpdGlvbjogdmVjLFxuICB3aGVlbDogbnVtYmVyXG59O1xuXG50eXBlIEtleWJvYXJkU3RhdGUgPSB7XG4gIFtrZXkgaW4gS2V5XT86IGJvb2xlYW5cbn07XG5cbmV4cG9ydCBjbGFzcyBJbnB1dE1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogSW5wdXRNYW5hZ2VyO1xuICBwcml2YXRlIGtleWJvYXJkU3RhdGU6IEtleWJvYXJkU3RhdGUgPSB7fTtcbiAgcHJpdmF0ZSBwcmV2aW91c0tleWJvYXJkU3RhdGU6IEtleWJvYXJkU3RhdGUgPSB7fTtcbiAgcHJpdmF0ZSBtb3VzZVN0YXRlOiBNb3VzZVN0YXRlID0geyBidXR0b246IGZhbHNlLCBwb3NpdGlvbjogdmVjKCksIHdoZWVsOiAwIH07XG4gIHByaXZhdGUgcHJldmlvdXNNb3VzZVN0YXRlOiBNb3VzZVN0YXRlID0geyBidXR0b246IGZhbHNlLCBwb3NpdGlvbjogdmVjKCksIHdoZWVsOiAwIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS5idXR0b24gPSB0cnVlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS5wb3NpdGlvbi54ID0gZS5vZmZzZXRYO1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLnBvc2l0aW9uLnkgPSBlLm9mZnNldFk7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcbiAgICAgIHRoaXMua2V5Ym9hcmRTdGF0ZVtlLmNvZGUgYXMgS2V5XSA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG4gICAgICB0aGlzLmtleWJvYXJkU3RhdGVbZS5jb2RlIGFzIEtleV0gPSBmYWxzZTtcbiAgICB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBlID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS53aGVlbCA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBpbnB1dCBtYW5hZ2VyIGZvciBtYW5hZ2luZyBtb3VzZSBhbmQga2V5Ym9hcmQgaW5wdXRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogdm9pZCB7XG4gICAgSW5wdXRNYW5hZ2VyLmluc3RhbmNlID0gbmV3IElucHV0TWFuYWdlcihjYW52YXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogSW5wdXRNYW5hZ2VyIHtcbiAgICBpZiAoSW5wdXRNYW5hZ2VyLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5wdXQgbWFuYWdlciBub3QgcHJvcGVybHkgaW5pdGlhbGlzZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIElucHV0TWFuYWdlci5pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHN0YXRlIG9mIHRoZSBpbnB1dCBkZXZpY2VzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGluc3RhbmNlLnByZXZpb3VzS2V5Ym9hcmRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGluc3RhbmNlLmtleWJvYXJkU3RhdGUpO1xuICAgIGluc3RhbmNlLnByZXZpb3VzTW91c2VTdGF0ZSA9IHtcbiAgICAgIGJ1dHRvbjogaW5zdGFuY2UubW91c2VTdGF0ZS5idXR0b24sXG4gICAgICBwb3NpdGlvbjogdmVjLmNweShpbnN0YW5jZS5tb3VzZVN0YXRlLnBvc2l0aW9uKSxcbiAgICAgIHdoZWVsOiAwLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBrZXkgaXMgY3VycmVudGx5IHByZXNzZWQgZG93blxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBrZXlEb3duKGtleT86IEtleSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICAvLyBDaGVjayBpZiBhbnkga2V5IGlzIGRvd25cbiAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgayBpbiBpbnN0YW5jZS5rZXlib2FyZFN0YXRlKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5rZXlib2FyZFN0YXRlW2sgYXMgS2V5XSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIWluc3RhbmNlLmtleWJvYXJkU3RhdGVba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBoYXMgYmVlbiBwcmVzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGtleVByZXNzZWQoa2V5PzogS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBrZXkgd2FzIHByZXNzZWRcbiAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgayBpbiBpbnN0YW5jZS5rZXlib2FyZFN0YXRlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbnN0YW5jZS5rZXlib2FyZFN0YXRlW2sgYXMgS2V5XSAmJlxuICAgICAgICAgIChcbiAgICAgICAgICAgICEoayBpbiBpbnN0YW5jZS5wcmV2aW91c0tleWJvYXJkU3RhdGUpIHx8XG4gICAgICAgICAgICAhaW5zdGFuY2UucHJldmlvdXNLZXlib2FyZFN0YXRlW2sgYXMgS2V5XVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICEhaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZVtrZXldICYmICFpbnN0YW5jZS5wcmV2aW91c0tleWJvYXJkU3RhdGVba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBoYXMgYmVlbiByZWxlYXNlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBrZXlSZWxlYXNlZChrZXk/OiBLZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgLy8gQ2hlY2sgaWYgYW55IGtleSB3YXMgcmVsZWFzZWRcbiAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgayBpbiBpbnN0YW5jZS5rZXlib2FyZFN0YXRlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaW5zdGFuY2Uua2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV0gJiZcbiAgICAgICAgICAhIWluc3RhbmNlLnByZXZpb3VzS2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV1cbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFpbnN0YW5jZS5rZXlib2FyZFN0YXRlW2tleV0gJiYgISFpbnN0YW5jZS5wcmV2aW91c0tleWJvYXJkU3RhdGVba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG1vdXNlIGJ1dHRvbiBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlRG93bigpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiAhIWluc3RhbmNlLm1vdXNlU3RhdGUuYnV0dG9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbW91c2UgYnV0dG9uIGhhcyBiZWVuIHByZXNzZWQgc2luY2UgdGhlIGxhc3QgZnJhbWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VQcmVzc2VkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuICEhaW5zdGFuY2UubW91c2VTdGF0ZS5idXR0b24gJiYgIWluc3RhbmNlLnByZXZpb3VzTW91c2VTdGF0ZS5idXR0b247XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBtb3VzZSBidXR0b24gaGFzIGJlZW4gcmVsZWFzZWQgc2luY2UgdGhlIGxhc3QgZnJhbWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VSZWxlYXNlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiAhaW5zdGFuY2UubW91c2VTdGF0ZS5idXR0b24gJiYgISFpbnN0YW5jZS5wcmV2aW91c01vdXNlU3RhdGUuYnV0dG9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBtb3VzZXdoZWVsIGlzIHNjcm9sbGluZyB1cFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZVdoZWVsVXAoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gaW5zdGFuY2UubW91c2VTdGF0ZS53aGVlbCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG1vdXNld2hlZWwgaXMgc2Nyb2xsaW5nIGRvd25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VXaGVlbERvd24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gaW5zdGFuY2UubW91c2VTdGF0ZS53aGVlbCA8IDA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IG1vdXNlIHBvc2l0aW9uIGluIHNjcmVlbi1zcGFjZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZVBvc2l0aW9uKCk6IHZlYyB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gaW5zdGFuY2UubW91c2VTdGF0ZS5wb3NpdGlvbjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9zdGF0ZXMvU3RhdGUnO1xuaW1wb3J0IHsgU3RhdGVUcmFuc2l0aW9uVHlwZSB9IGZyb20gJy4uL2VudW1zJztcblxuZXhwb3J0IGNsYXNzIFN0YXRlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBTdGF0ZU1hbmFnZXI7XG4gIHByaXZhdGUgc3RhdGVzOiBTdGF0ZVtdID0gW107XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHVibGljIHN0YXRpYyBpbml0aWFsaXNlKCk6IHZvaWQge1xuICAgIFN0YXRlTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBTdGF0ZU1hbmFnZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldEluc3RhbmNlKCk6IFN0YXRlTWFuYWdlciB7XG4gICAgaWYgKFN0YXRlTWFuYWdlci5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXRlIG1hbmFnZXIgbm90IHByb3Blcmx5IGluaXRpYWxpc2VkJyk7XG4gICAgfVxuICAgIHJldHVybiBTdGF0ZU1hbmFnZXIuaW5zdGFuY2U7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHB1c2goc3RhdGU6IFN0YXRlKTogU3RhdGUge1xuICAgIGNvbnN0IGluc3RhbmNlID0gU3RhdGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaW5zdGFuY2Uuc3RhdGVzLnB1c2goc3RhdGUpO1xuXG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgc3RhdGUgYW5kIHN0YXJ0IHRyYW5zaXRpb25pbmcgaW5cbiAgICBzdGF0ZS5pbml0aWFsaXNlKCk7XG4gICAgc3RhdGUudHJhbnNpdGlvbkluKCk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBwb3AoKTogU3RhdGUgfCBudWxsIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IFN0YXRlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGxhc3Q6IG51bWJlciA9IGluc3RhbmNlLnN0YXRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHRvcC1tb3N0IHN0YXRlIHRoYXQgaXNuJ3QgY3VycmVudGx5IHRyYW5zaXRpb25pbmcgb3V0XG4gICAgICB3aGlsZSAobGFzdCA+IDAgJiYgaW5zdGFuY2Uuc3RhdGVzW2xhc3RdLnRyYW5zaXRpb25UeXBlID09PSBTdGF0ZVRyYW5zaXRpb25UeXBlLk91dCkge1xuICAgICAgICBsYXN0LS07XG4gICAgICB9XG4gICAgICBpZiAobGFzdCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaW5zdGFuY2Uuc3RhdGVzW2xhc3RdO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRyYW5zaXRpb25pbmcgb3V0XG4gICAgICAgIHN0YXRlLnRyYW5zaXRpb25PdXQoKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY2xlYXIoKTogdm9pZCB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBTdGF0ZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpbnN0YW5jZS5zdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiB7XG4gICAgICBpZiAoc3RhdGUudHJhbnNpdGlvblR5cGUgIT09IFN0YXRlVHJhbnNpdGlvblR5cGUuT3V0KSB7XG4gICAgICAgIHN0YXRlLnRyYW5zaXRpb25PdXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IFN0YXRlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAvLyBPbmx5IHVwZGF0ZSB0aGUgdG9wLW1vc3Qgc3RhdGUgdGhhdCBpc24ndCBjdXJyZW50bHkgdHJhbnNpdGlvbmluZyBvdXRcbiAgICAgIGZvciAobGV0IGkgPSBpbnN0YW5jZS5zdGF0ZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5zdGF0ZXNbaV0udHJhbnNpdGlvblR5cGUgIT09IFN0YXRlVHJhbnNpdGlvblR5cGUuT3V0KSB7XG4gICAgICAgICAgaW5zdGFuY2Uuc3RhdGVzW2ldLnVwZGF0ZShkdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGFsbCBzdGF0ZSB0cmFuc2l0aW9uc1xuICAgICAgaW5zdGFuY2Uuc3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS51cGRhdGVUcmFuc2l0aW9uKGR0KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgYW55IGRpc3Bvc2VkIHN0YXRlc1xuICAgICAgaW5zdGFuY2Uuc3RhdGVzID0gaW5zdGFuY2Uuc3RhdGVzLmZpbHRlcihzdGF0ZSA9PiAhc3RhdGUuZGlzcG9zZWQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IFN0YXRlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZHJhd1N0YXRlcyA9IFtpbnN0YW5jZS5zdGF0ZXNbaW5zdGFuY2Uuc3RhdGVzLmxlbmd0aCAtIDFdXTtcbiAgICAgIGxldCB0cmFuc3BhcmVudFN0YXRlSW5kZXggPSBpbnN0YW5jZS5zdGF0ZXMubGVuZ3RoIC0gMTtcblxuICAgICAgLy8gQ3JlYXRlIGEgbGlzdCBvZiBzdGF0ZXMgdGhhdCBuZWVkIHRvIGJlIGRyYXduICh0cmFuc3BhcmVudCBzdGF0ZXMgYWxzbyBkaXNwbGF5XG4gICAgICAvLyB0aGUgc3RhdGUgdW5kZXJuZWF0aCB0aGVtIGluIHRoZSBzdGFjaylcbiAgICAgIHdoaWxlIChcbiAgICAgICAgdHJhbnNwYXJlbnRTdGF0ZUluZGV4ID4gMCAmJlxuICAgICAgICBpbnN0YW5jZS5zdGF0ZXNbdHJhbnNwYXJlbnRTdGF0ZUluZGV4XS50cmFuc3BhcmVudFxuICAgICAgKSB7XG4gICAgICAgIGRyYXdTdGF0ZXMucHVzaChpbnN0YW5jZS5zdGF0ZXNbLS10cmFuc3BhcmVudFN0YXRlSW5kZXhdKTtcbiAgICAgIH1cblxuICAgICAgLy8gRHJhdyBzdGF0ZXMgaW4gcmV2ZXJzZSBvcmRlciBpLmUuIGJvdHRvbSB0byB0b3BcbiAgICAgIGZvciAobGV0IGkgPSBkcmF3U3RhdGVzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICBkcmF3U3RhdGVzW2ldLmRyYXcoY29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgeyBDb250ZW50TWFuYWdlciB9IGZyb20gJy4vQ29udGVudE1hbmFnZXInO1xuZXhwb3J0IHsgSW5wdXRNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1hbmFnZXInO1xuZXhwb3J0IHsgU3RhdGVNYW5hZ2VyIH0gZnJvbSAnLi9TdGF0ZU1hbmFnZXInO1xuZXhwb3J0IHsgRW50aXR5TWFuYWdlciB9IGZyb20gJy4vRW50aXR5TWFuYWdlcic7XG4iLCJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUnO1xuaW1wb3J0IHsgQ29udGVudE1hbmFnZXIgfSBmcm9tICcuLi9tYW5hZ2Vycyc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi4vRGVidWcnO1xuXG5leHBvcnQgY2xhc3MgSW50cm9TdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgcHJpdmF0ZSBmaW5pc2hlZExvYWRpbmdDb250ZW50OiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHRyYW5zaXRpb25UaW1lOiAyLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGluaXRpYWxpc2UoKTogdm9pZCB7XG4gICAgQ29udGVudE1hbmFnZXIubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmdDb250ZW50ID0gdHJ1ZTtcbiAgICB9KS5jYXRjaCgoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgY29uc29sZS5sb2coYFVuYWJsZSB0byBsb2FkIGNvbnRlbnQ6ICR7ZXJyb3J9YCk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgIERlYnVnLnZhbHVlKCdwcm9ncmVzcycsIENvbnRlbnRNYW5hZ2VyLnByb2dyZXNzKTtcbiAgICBpZiAodGhpcy5maW5pc2hlZExvYWRpbmdDb250ZW50KSB7XG4gICAgICBEZWJ1Zy52YWx1ZSgnZmluaXNoZWQnLCAneWVzJyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRyYXcoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgLy9cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3RhdGVUcmFuc2l0aW9uVHlwZSB9IGZyb20gJy4uL2VudW1zJztcblxuZXhwb3J0IHR5cGUgU3RhdGVPcHRpb25zID0ge1xuICB0cmFuc2l0aW9uVGltZTogbnVtYmVyLFxuICB0cmFuc3BhcmVudDogYm9vbGVhblxufTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFN0YXRlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBkZWZhdWx0T3B0aW9uczogU3RhdGVPcHRpb25zID0ge1xuICAgIHRyYW5zaXRpb25UaW1lOiAxLFxuICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgfTtcblxuICBwdWJsaWMgdHJhbnNpdGlvblR5cGU6IFN0YXRlVHJhbnNpdGlvblR5cGUgPSBTdGF0ZVRyYW5zaXRpb25UeXBlLk5vbmU7XG4gIHB1YmxpYyB0cmFuc2l0aW9uQW1vdW50OiBudW1iZXIgPSAwO1xuICBwdWJsaWMgdHJhbnNpdGlvblRpbWU6IG51bWJlcjtcbiAgcHVibGljIHRyYW5zcGFyZW50OiBib29sZWFuO1xuICBwdWJsaWMgZGlzcG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwdWJsaWMgdGVzdE5hbWU6IHN0cmluZyA9ICcnO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zOiBQYXJ0aWFsPFN0YXRlT3B0aW9ucz4gPSB7fSkge1xuICAgIGNvbnN0IGFjdHVhbE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lID0gYWN0dWFsT3B0aW9ucy50cmFuc2l0aW9uVGltZTtcbiAgICB0aGlzLnRyYW5zcGFyZW50ID0gYWN0dWFsT3B0aW9ucy50cmFuc3BhcmVudDtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIHRyYW5zaXRpb25JbigpOiB2b2lkIHtcbiAgICB0aGlzLnRyYW5zaXRpb25UeXBlID0gU3RhdGVUcmFuc2l0aW9uVHlwZS5JbjtcbiAgICB0aGlzLnRyYW5zaXRpb25BbW91bnQgPSAwO1xuICB9XG5cbiAgcHVibGljIHRyYW5zaXRpb25PdXQoKTogdm9pZCB7XG4gICAgdGhpcy50cmFuc2l0aW9uVHlwZSA9IFN0YXRlVHJhbnNpdGlvblR5cGUuT3V0O1xuICAgIHRoaXMudHJhbnNpdGlvbkFtb3VudCA9IDA7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlVHJhbnNpdGlvbihkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgYW1vdW50OiBudW1iZXIgPSBkdCAvIHRoaXMudHJhbnNpdGlvblRpbWU7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbkFtb3VudCA8IDEpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbkFtb3VudCA9IE1hdGguY2xhbXAodGhpcy50cmFuc2l0aW9uQW1vdW50ICsgYW1vdW50KTtcblxuICAgIC8vIERpc3Bvc2UgdGhpcyBzdGF0ZSBpZiBpdCBoYXMgZmluaXNoZWQgdHJhbnNpdGlvbmluZyBvdXRcbiAgICB9IGVsc2UgaWYgKHRoaXMudHJhbnNpdGlvblR5cGUgPT09IFN0YXRlVHJhbnNpdGlvblR5cGUuT3V0KSB7XG4gICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgIC8vIE90aGVyd2lzZSwgdGhlIHN0YXRlIGhhcyBmaW5pc2hlZCB0cmFuc2l0aW9uaW5nIGluXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblR5cGUgPSBTdGF0ZVRyYW5zaXRpb25UeXBlLk5vbmU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFic3RyYWN0IGluaXRpYWxpc2UoKTogdm9pZDtcblxuICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkO1xuXG4gIHB1YmxpYyBhYnN0cmFjdCBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQ7XG59XG4iLCJleHBvcnQgeyBJbnRyb1N0YXRlIH0gZnJvbSAnLi9JbnRyb1N0YXRlJztcbiIsIi8qKlxuICogUGF1c2UgZXhlY3V0aW9uIGZvciBzb21lIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnZXhwb3J0cycgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuIl0sInNvdXJjZVJvb3QiOiIifQ==