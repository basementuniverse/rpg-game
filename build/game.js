(()=>{var t={44:t=>{Math.floatEquals=(t,e,a=Number.EPSILON)=>Math.abs(t-e)<a,Math.clamp=(t,e=0,a=1)=>t<e?e:t>a?a:t,Math.frac=t=>t>=0?t-Math.floor(t):t-Math.ceil(t),Math.lerp=(t,e,a)=>t+(e-t)*a,Math.unlerp=(t,e,a)=>(a-t)/(e-t),Math.blerp=(t,e,a,s,r,n)=>Math.lerp(Math.lerp(t,e,r),Math.lerp(a,s,r),n),Math.remap=(t,e,a,s,r)=>s+(t-e)*(r-s)/(a-e),Math.smoothstep=(t,e,a)=>Math.lerp(t,e,3*Math.pow(a,2)-2*Math.pow(a,3)),Math.radians=t=>Math.PI/180*t,Math.degrees=t=>180/Math.PI*t,Math.randomBetween=(t,e)=>Math.random()*(e-t)+t,Math.randomIntBetween=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,Math.cltRandom=(t=.5,e=.5,a=2)=>{let s=0;for(let t=a;t--;)s+=Math.random();return t+(s-a/2)/(a/2)*e},Math.cltRandomInt=(t,e)=>Math.floor(t+Math.cltRandom(.5,.5,2)*(e+1-t)),Math.weightedRandom=t=>{let e=t.reduce(((t,e)=>t+e),0),a=0;const s=Math.random()*e;for(;e>s;)e-=t[a++];return a-1},Math.lerpArray=(t,e,a=Math.lerp)=>{const s=e*(t.length-1),r=Math.clamp(Math.trunc(s),0,t.length-1);return a(t[r]||0,t[r+1]||0,Math.frac(s))},Math.dot=(t,e)=>t.reduce(((t,a,s)=>t+a*e[s]),0),Math.factorial=t=>{let e=1;for(let a=2;a<=t;a++)e*=a;return e},Math.permutation=(t,e)=>Math.factorial(t)/Math.factorial(t-e),Math.combination=(t,e)=>Math.factorial(t)/(Math.factorial(e)*Math.factorial(t-e)),Array.times=(t,e)=>Array(e).fill(0).map(((e,a)=>t(a))),Array.range=t=>Array.times((t=>t),t),Object.defineProperty(Array.prototype,"at",{value:function(t){const e=this.length;return this[t<0?e-Math.abs(t+1)%e-1:t%e]}}),Object.defineProperty(Array.prototype,"chunk",{value:function(t){return Array.times((e=>this.slice(e*t,e*t+t)),Math.ceil(this.length/t))}}),Object.defineProperty(Array.prototype,"shuffle",{value:function(){return this.map((t=>[Math.random(),t])).sort(((t,e)=>t[0]-e[0])).map((t=>t[1]))}});const e=(t,e)=>t||e?"object"==typeof t?{x:t.x||0,y:t.y||0}:null==e?{x:t,y:t}:{x:t,y:e}:{x:0,y:0};e.components=t=>[t.x,t.y],e.ux=()=>e(1,0),e.uy=()=>e(0,1),e.add=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),e.mul=(t,e)=>({x:t.x*e,y:t.y*e}),e.sub=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),e.len=t=>Math.sqrt(t.x*t.x+t.y*t.y),e.manhattan=t=>Math.abs(t.x)+Math.abs(t.y),e.nor=t=>{let a=e.len(t);return a?{x:t.x/a,y:t.y/a}:e()},e.dot=(t,e)=>t.x*e.x+t.y*e.y,e.rot=(t,e)=>{let a=Math.sin(e),s=Math.cos(e);return{x:s*t.x-a*t.y,y:a*t.x+s*t.y}},e.eq=(t,e)=>t.x===e.x&&t.y===e.y,e.rad=t=>Math.atan2(t.y,t.x),e.cpy=t=>e(t),e.map=(t,e)=>({x:e(t.x,"x"),y:e(t.y,"y")}),e.str=(t,e=", ")=>`${t.x}${e}${t.y}`;const a=(t=4,e=4,a=[])=>({m:t,n:e,entries:a.concat(Array(t*e).fill(0)).slice(0,t*e)});a.identity=t=>a(t,t,Array(t*t).fill(0).map(((e,a)=>+(Math.floor(a/t)===a%t)))),a.get=(t,e,a)=>t.entries[a-1+(e-1)*t.n],a.set=(t,e,a,s)=>{t.entries[a-1+(e-1)*t.n]=s},a.row=(t,e)=>{const a=(e-1)*t.n;return t.entries.slice(a,a+t.n)},a.col=(t,e)=>Array.times((s=>a.get(t,s+1,e)),t.m),a.add=(t,e)=>t.m===e.m&&t.n===e.n&&a.map(t,((t,a)=>t+e.entries[a])),a.sub=(t,e)=>t.m===e.m&&t.n===e.n&&a.map(t,((t,a)=>t-e.entries[a])),a.mul=(t,e)=>{if(t.n!==e.m)return!1;const s=a(t.m,e.n);for(let r=1;r<=t.m;r++)for(let n=1;n<=e.n;n++)a.set(s,r,n,Math.dot(a.row(t,r),a.col(e,n)));return s},a.scale=(t,e)=>a.map(t,(t=>t*e)),a.trans=t=>a(t.n,t.m,Array.times((e=>a.col(t,e+1)),t.n).flat()),a.minor=(t,e,s)=>{if(t.m!==t.n)return!1;const r=[];for(let n=1;n<=t.m;n++)if(n!==e)for(let e=1;e<=t.n;e++)e!==s&&r.push(a.get(t,n,e));return a(t.m-1,t.n-1,r)},a.det=t=>{if(t.m!==t.n)return!1;if(1===t.m)return t.entries[0];if(2===t.m)return t.entries[0]*t.entries[3]-t.entries[1]*t.entries[2];let e=0,s=1;for(let r=1;r<=t.n;r++)e+=s*t.entries[r-1]*a.det(a.minor(t,1,r)),s*=-1;return e},a.nor=t=>{if(t.m!==t.n)return!1;const e=a.det(t);return a.map(t,(t=>t*e))},a.adj=t=>{const e=a(t.m,t.n);for(let s=1;s<=t.m;s++)for(let r=1;r<=t.n;r++)a.set(e,s,r,a.det(a.minor(t,s,r)));const s=a.map(e,((t,e)=>t*(e%2?-1:1)));return a.trans(s)},a.inv=t=>{if(t.m!==t.n)return!1;const e=a.det(t);return 0!==e&&a.scale(a.adj(t),1/e)},a.eq=(t,e)=>t.m===e.m&&t.n===e.n&&a.str(t)===a.str(e),a.cpy=t=>a(t.m,t.n,[...t.entries]),a.map=(t,e)=>a(t.m,t.n,t.entries.map(e)),a.str=(t,e=", ",a="\n")=>t.entries.chunk(t.n).map((t=>t.join(e))).join(a),t.exports={vec:e,mat:a}},76:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(44),r=a(269);class n{constructor(t={}){this.defaultOptions={margin:10,padding:4,font:"10pt Lucida Console, monospace",lineHeight:12,foregroundColour:"#fff",backgroundColour:"#3338",defaultValue:{align:"left",showLabel:!0},defaultMarker:{showLabel:!0,showValue:!0,showMarker:!0,markerSize:6,markerStyle:"x",markerColour:"#ccc",space:"world",labelOffset:s.vec(10)}},this.options=Object.assign({},this.defaultOptions,t),this.values=new Map,this.markers=new Map}static initialise(t={}){n.instance=new n(t)}static getInstance(){return null==n.instance&&n.initialise(),n.instance}static value(t,e,a={}){const s=n.getInstance();s.values.set(t,Object.assign({label:t,value:e},s.defaultOptions.defaultValue,a))}static marker(t,e,a,s={}){const r=n.getInstance();r.markers.set(t,Object.assign({label:t,value:e,position:a},r.defaultOptions.defaultMarker,s))}static draw(t){const e=n.getInstance();let a;t.save(),t.scale(1/r.scaleFactor,1/r.scaleFactor),e.markers.forEach((a=>{"world"===a.space&&e.drawMarker(t,a)})),t.restore(),t.save(),t.setTransform(1,0,0,1,0,0);let o=e.options.margin,i=e.options.margin;const l=e.options.lineHeight+2*e.options.padding;e.values.forEach((r=>{var n,u,h,c;switch(r.align){case"left":a=s.vec(e.options.margin,o),o+=l;break;case"right":a=s.vec(t.canvas.clientWidth-e.options.margin,i),i+=l}e.drawLabel(t,(r.showLabel?r.label+": ":"")+r.value,a,r.align,null!==(n=r.padding)&&void 0!==n?n:e.options.padding,null!==(u=r.font)&&void 0!==u?u:e.options.font,null!==(h=r.foregroundColour)&&void 0!==h?h:e.options.foregroundColour,null!==(c=r.backgroundColour)&&void 0!==c?c:e.options.backgroundColour)})),e.markers.forEach((a=>{"screen"===a.space&&e.drawMarker(t,a)})),t.restore(),e.values.clear(),e.markers.clear()}drawMarker(t,e){var a,n,o,i,l;t.save();const u=s.vec.mul(null!==(a=e.position)&&void 0!==a?a:s.vec(),r.scaleFactor);if((e.showLabel||e.showValue)&&this.drawLabel(t,(e.showLabel?e.label+": ":"")+(e.showValue?""+e.value:""),s.vec.add(null!=u?u:s.vec(),e.labelOffset),"left",null!==(n=e.padding)&&void 0!==n?n:this.options.padding,null!==(o=e.font)&&void 0!==o?o:this.options.font,null!==(i=e.foregroundColour)&&void 0!==i?i:this.options.foregroundColour,null!==(l=e.backgroundColour)&&void 0!==l?l:this.options.backgroundColour),e.showMarker)switch(t.lineWidth=2,t.strokeStyle=t.fillStyle=e.markerColour,e.markerStyle){case"x":this.drawCross(t,u,e.markerSize);break;case"+":this.drawPlus(t,u,e.markerSize);break;case".":this.drawDot(t,u,e.markerSize)}t.restore()}drawLabel(t,e,a,s,r,n,o,i){t.save(),t.font=n,t.textBaseline="top";const l={width:t.measureText(e).width+2*r,height:this.options.lineHeight+2*r},u="right"===s?a.x-l.width:a.x;t.fillStyle=i,t.fillRect(u-r,a.y-r,l.width,l.height),t.fillStyle=o,t.fillText(e,u,a.y),t.restore()}drawCross(t,e,a){t.beginPath();const s=a/2;t.moveTo(e.x-s,e.y-s),t.lineTo(e.x+s,e.y+s),t.moveTo(e.x-s,e.y+s),t.lineTo(e.x+s,e.y-s),t.stroke()}drawPlus(t,e,a){t.beginPath();const s=a/2;t.moveTo(e.x,e.y-s),t.lineTo(e.x,e.y+s),t.moveTo(e.x-s,e.y),t.lineTo(e.x+s,e.y),t.stroke()}drawDot(t,e,a){t.beginPath(),t.arc(e.x,e.y,a/2,0,2*Math.PI),t.fill()}}e.default=n},221:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(269),r=a(601),n=a(76),o=a(670),i=a(663);e.default=class{constructor(t){if(this.frameRate=0,this.frameCount=0,null===t)throw new Error("A valid container element must be specified.");if("canvas"!==t.tagName.toLowerCase())throw new Error("Container element must be a canvas.");this.canvas=t;const e=this.canvas.getContext("2d");if(null===e)throw new Error("Couldn't get a 2d context.");this.context=e,window.addEventListener("resize",this.resize.bind(this),!1),this.resize(),n.default.initialise(),o.default.initialise(this.canvas),this.stateManager=new i.default}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context.imageSmoothingEnabled=!1}initialise(){this.lastFrameTime=this.lastFrameCountTime=performance.now(),this.loop()}loop(){const t=performance.now(),e=Math.min(t-this.lastFrameTime,r.FPS_MIN);t-this.lastFrameCountTime>=1e3&&(this.lastFrameCountTime=t,this.frameRate=this.frameCount,this.frameCount=0),this.frameCount++,this.lastFrameTime=t,s.showFPS&&n.default.value("FPS",this.frameRate,{align:"right"}),this.update(e),this.draw(),window.requestAnimationFrame(this.loop.bind(this))}update(t){this.stateManager.update(t),o.default.update()}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.setTransform(s.scaleFactor,0,0,s.scaleFactor,0,0),this.stateManager.draw(this.context),n.default.draw(this.context)}}},670:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(44);class r{constructor(t){this.keyboardState={},this.previousKeyboardState={},this.mouseState={button:!1,position:s.vec(),wheel:0},this.previousMouseState={button:!1,position:s.vec(),wheel:0},t.addEventListener("mousedown",(()=>{this.mouseState.button=!0})),t.addEventListener("mouseup",(()=>{this.mouseState.button=!1})),t.addEventListener("touchstart",(()=>{this.mouseState.button=!0})),t.addEventListener("touchend",(()=>{this.mouseState.button=!1})),t.addEventListener("mousemove",(t=>{this.mouseState.position.x=t.offsetX,this.mouseState.position.y=t.offsetY})),t.addEventListener("keydown",(t=>{this.keyboardState[t.code]=!0})),t.addEventListener("keyup",(t=>{this.keyboardState[t.code]=!1})),t.addEventListener("wheel",(t=>{this.mouseState.wheel=t.deltaY>0?1:-1}))}static initialise(t){r.instance=new r(t)}static getInstance(){if(null==r.instance)throw new Error("Input manager not properly initialised");return r.instance}static update(){const t=r.getInstance();t.previousKeyboardState=Object.assign({},t.keyboardState),t.previousMouseState={button:t.mouseState.button,position:s.vec.cpy(t.mouseState.position),wheel:0}}static keyDown(t){const e=r.getInstance();if(null==t){for(const t in e.keyboardState)if(e.keyboardState[t])return!0;return!1}return!!e.keyboardState[t]}static keyPressed(t){const e=r.getInstance();if(null==t){for(const t in e.keyboardState)if(e.keyboardState[t]&&(!(t in e.previousKeyboardState)||!e.previousKeyboardState[t]))return!0;return!1}return!!e.keyboardState[t]&&!e.previousKeyboardState[t]}static keyReleased(t){const e=r.getInstance();if(null==t){for(const t in e.keyboardState)if(!e.keyboardState[t]&&e.previousKeyboardState[t])return!0;return!1}return!e.keyboardState[t]&&!!e.previousKeyboardState[t]}static mouseDown(){return!!r.getInstance().mouseState.button}static mousePressed(){const t=r.getInstance();return!!t.mouseState.button&&!t.previousMouseState.button}static mouseReleased(){const t=r.getInstance();return!t.mouseState.button&&!!t.previousMouseState.button}static mouseWheelUp(){return r.getInstance().mouseState.wheel>0}static mouseWheelDown(){return r.getInstance().mouseState.wheel<0}static mousePosition(){return r.getInstance().mouseState.position}}e.default=r},601:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FPS_MIN=void 0,e.FPS_MIN=1/30},900:(t,e)=>{"use strict";var a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Key=e.StateTransitionType=void 0,(s=e.StateTransitionType||(e.StateTransitionType={}))[s.In=0]="In",s[s.Out=1]="Out",s[s.None=2]="None",(a=e.Key||(e.Key={})).Up="ArrowUp",a.Down="ArrowDown",a.Left="ArrowLeft",a.Right="ArrowRight"},607:(t,e,a)=>{"use strict";const s=a(221);window.onload=()=>{new s.default(document.querySelector("#game")).initialise()}},663:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(900);e.default=class{constructor(){this.states=[]}push(t){return this.states.push(t),t.stateManager=this,t.initialise(),t.transitionIn(),t}pop(){if(this.states.length>0){let t=this.states.length-1;for(;t>0&&this.states[t].transitionType===s.StateTransitionType.Out;)t--;if(t>=0){const e=this.states[t];return e.transitionOut(),e}}return null}clear(){this.states.forEach((t=>{t.transitionType!==s.StateTransitionType.Out&&t.transitionOut()}))}update(t){if(this.states.length>0){for(let e=this.states.length;e--;)if(this.states[e].transitionType!==s.StateTransitionType.Out){this.states[e].update(t);break}this.states.forEach((e=>{e.updateTransition(t)})),this.states=this.states.filter((t=>!t.disposed))}}draw(t){if(this.states.length>0){const e=[this.states[this.states.length-1]];let a=this.states.length-1;for(;a>0&&this.states[a].transparent;)e.push(this.states[--a]);for(let a=e.length;a--;)e[a].draw(t)}}}},269:t=>{"use strict";t.exports=JSON.parse('{"title":"RPG Game","scaleFactor":2,"showFPS":true}')}},e={};!function a(s){if(e[s])return e[s].exports;var r=e[s]={exports:{}};return t[s](r,r.exports,a),r.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycGctZ2FtZS8uL25vZGVfbW9kdWxlcy9AYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qcy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvRGVidWcudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9JbnB1dC50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvZW51bXMudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvc3RhdGVzL1N0YXRlTWFuYWdlci50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ycGctZ2FtZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiTWF0aCIsImZsb2F0RXF1YWxzIiwiYSIsImIiLCJwIiwiTnVtYmVyIiwiRVBTSUxPTiIsImFicyIsImNsYW1wIiwibWluIiwibWF4IiwiZnJhYyIsImZsb29yIiwiY2VpbCIsImxlcnAiLCJpIiwidW5sZXJwIiwiYmxlcnAiLCJjMDAiLCJjMTAiLCJjMDEiLCJjMTEiLCJpeCIsIml5IiwicmVtYXAiLCJhMSIsImEyIiwiYjEiLCJiMiIsInNtb290aHN0ZXAiLCJwb3ciLCJyYWRpYW5zIiwiZGVncmVlcyIsIlBJIiwicmFuZG9tQmV0d2VlbiIsInJhbmRvbSIsInJhbmRvbUludEJldHdlZW4iLCJjbHRSYW5kb20iLCJtdSIsInNpZ21hIiwic2FtcGxlcyIsInRvdGFsIiwiY2x0UmFuZG9tSW50Iiwid2VpZ2h0ZWRSYW5kb20iLCJ3IiwicmVkdWNlIiwibiIsInIiLCJsZXJwQXJyYXkiLCJmIiwicyIsImxlbmd0aCIsInRydW5jIiwiZG90IiwidiIsImZhY3RvcmlhbCIsInJlc3VsdCIsInBlcm11dGF0aW9uIiwiY29tYmluYXRpb24iLCJBcnJheSIsInRpbWVzIiwiZmlsbCIsIm1hcCIsIl8iLCJyYW5nZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG90eXBlIiwidmFsdWUiLCJsIiwidGhpcyIsInNsaWNlIiwic29ydCIsInZlYyIsIngiLCJ5IiwiY29tcG9uZW50cyIsInV4IiwidXkiLCJhZGQiLCJtdWwiLCJzdWIiLCJsZW4iLCJzcXJ0IiwibWFuaGF0dGFuIiwibm9yIiwicm90Iiwic2luIiwiYyIsImNvcyIsImVxIiwicmFkIiwiYXRhbjIiLCJjcHkiLCJzdHIiLCJtYXQiLCJtIiwiZW50cmllcyIsImNvbmNhdCIsImlkZW50aXR5IiwiZ2V0IiwiaiIsInNldCIsInJvdyIsImNvbCIsInNjYWxlIiwidHJhbnMiLCJmbGF0IiwibWlub3IiLCJpaSIsImpqIiwicHVzaCIsImRldCIsInNpZ24iLCJkIiwiYWRqIiwibWlub3JzIiwiY29mYWN0b3JzIiwiaW52IiwibXMiLCJucyIsImNodW5rIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJEZWJ1ZyIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIm1hcmdpbiIsInBhZGRpbmciLCJmb250IiwibGluZUhlaWdodCIsImZvcmVncm91bmRDb2xvdXIiLCJiYWNrZ3JvdW5kQ29sb3VyIiwiZGVmYXVsdFZhbHVlIiwiYWxpZ24iLCJzaG93TGFiZWwiLCJkZWZhdWx0TWFya2VyIiwic2hvd1ZhbHVlIiwic2hvd01hcmtlciIsIm1hcmtlclNpemUiLCJtYXJrZXJTdHlsZSIsIm1hcmtlckNvbG91ciIsInNwYWNlIiwibGFiZWxPZmZzZXQiLCJhc3NpZ24iLCJ2YWx1ZXMiLCJNYXAiLCJtYXJrZXJzIiwiaW5zdGFuY2UiLCJpbml0aWFsaXNlIiwibGFiZWwiLCJkZWJ1ZyIsImdldEluc3RhbmNlIiwicG9zaXRpb24iLCJjb250ZXh0Iiwic2F2ZSIsImNvbmZpZyIsInNjYWxlRmFjdG9yIiwiZm9yRWFjaCIsIm1hcmtlciIsImRyYXdNYXJrZXIiLCJyZXN0b3JlIiwic2V0VHJhbnNmb3JtIiwibGVmdFkiLCJyaWdodFkiLCJjYW52YXMiLCJjbGllbnRXaWR0aCIsImRyYXdMYWJlbCIsImNsZWFyIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJmaWxsU3R5bGUiLCJkcmF3Q3Jvc3MiLCJkcmF3UGx1cyIsImRyYXdEb3QiLCJ0ZXh0IiwidGV4dEJhc2VsaW5lIiwiYmFja2dyb3VuZFNpemUiLCJ3aWR0aCIsIm1lYXN1cmVUZXh0IiwiaGVpZ2h0IiwiZmlsbFJlY3QiLCJmaWxsVGV4dCIsInNpemUiLCJiZWdpblBhdGgiLCJoYWxmU2l6ZSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFyYyIsImNvbnRhaW5lciIsImZyYW1lUmF0ZSIsImZyYW1lQ291bnQiLCJFcnJvciIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldENvbnRleHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwiYmluZCIsInN0YXRlTWFuYWdlciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImxhc3RGcmFtZVRpbWUiLCJsYXN0RnJhbWVDb3VudFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImxvb3AiLCJlbGFwc2VkVGltZSIsImNvbnN0YW50cyIsIkZQU19NSU4iLCJzaG93RlBTIiwidXBkYXRlIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImR0IiwiY2xlYXJSZWN0IiwiSW5wdXQiLCJrZXlib2FyZFN0YXRlIiwicHJldmlvdXNLZXlib2FyZFN0YXRlIiwibW91c2VTdGF0ZSIsImJ1dHRvbiIsIndoZWVsIiwicHJldmlvdXNNb3VzZVN0YXRlIiwiZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwiY29kZSIsImRlbHRhWSIsImlucHV0Iiwia2V5IiwiayIsIktleSIsIlN0YXRlVHJhbnNpdGlvblR5cGUiLCJvbmxvYWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdGF0ZXMiLCJzdGF0ZSIsInRyYW5zaXRpb25JbiIsImxhc3QiLCJ0cmFuc2l0aW9uVHlwZSIsIk91dCIsInRyYW5zaXRpb25PdXQiLCJ1cGRhdGVUcmFuc2l0aW9uIiwiZmlsdGVyIiwiZGlzcG9zZWQiLCJkcmF3U3RhdGVzIiwidHJhbnNwYXJlbnRTdGF0ZUluZGV4IiwidHJhbnNwYXJlbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sIm1hcHBpbmdzIjoib0JBZUFBLEtBQUtDLFlBQWMsQ0FBQ0MsRUFBR0MsRUFBR0MsRUFBSUMsT0FBT0MsVUFBWU4sS0FBS08sSUFBSUwsRUFBSUMsR0FBS0MsRUFTbkVKLEtBQUtRLE1BQVEsQ0FBQ04sRUFBR08sRUFBTSxFQUFHQyxFQUFNLElBQU1SLEVBQUlPLEVBQU1BLEVBQU9QLEVBQUlRLEVBQU1BLEVBQU1SLEVBT3ZFRixLQUFLVyxLQUFPVCxHQUFLQSxHQUFLLEVBQUlBLEVBQUlGLEtBQUtZLE1BQU1WLEdBQUtBLEVBQUlGLEtBQUthLEtBQUtYLEdBUzVERixLQUFLYyxLQUFPLENBQUNaLEVBQUdDLEVBQUdZLElBQU1iLEdBQUtDLEVBQUlELEdBQUthLEVBU3ZDZixLQUFLZ0IsT0FBUyxDQUFDZCxFQUFHQyxFQUFHWSxLQUFPQSxFQUFJYixJQUFNQyxFQUFJRCxHQVkxQ0YsS0FBS2lCLE1BQVEsQ0FBQ0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS0MsRUFBSUMsSUFBT3ZCLEtBQUtjLEtBQUtkLEtBQUtjLEtBQUtJLEVBQUtDLEVBQUtHLEdBQUt0QixLQUFLYyxLQUFLTSxFQUFLQyxFQUFLQyxHQUFLQyxHQVd6R3ZCLEtBQUt3QixNQUFRLENBQUNULEVBQUdVLEVBQUlDLEVBQUlDLEVBQUlDLElBQU9ELEdBQU1aLEVBQUlVLElBQU9HLEVBQUtELElBQU9ELEVBQUtELEdBU3RFekIsS0FBSzZCLFdBQWEsQ0FBQzNCLEVBQUdDLEVBQUdZLElBQU1mLEtB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b0IsTSIsImZpbGUiOiJnYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAb3ZlcnZpZXcgQSBsaWJyYXJ5IG9mIHVzZWZ1bCBmdW5jdGlvbnNcbiAqIEBhdXRob3IgR29yZG9uIExhcnJpZ2FuXG4gKiBAdmVyc2lvbiAxLjIuOFxuICovXG5cbi8qKiBAY2xhc3MgTWF0aCAqL1xuXG4vKipcbiAqIENoZWNrIGlmIHR3byBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKiBAcGFyYW0ge251bWJlcn0gYSBOdW1iZXIgYVxuICogQHBhcmFtIHtudW1iZXJ9IGIgTnVtYmVyIGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcD1OdW1iZXIuRVBTSUxPTl0gVGhlIHByZWNpc2lvbiB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBudW1iZXJzIGEgYW5kIGIgYXJlIGFwcHJveGltYXRlbHkgZXF1YWxcbiAqL1xuTWF0aC5mbG9hdEVxdWFscyA9IChhLCBiLCBwID0gTnVtYmVyLkVQU0lMT04pID0+IE1hdGguYWJzKGEgLSBiKSA8IHA7XG5cbi8qKlxuICogQ2xhbXAgYSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heFxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG51bWJlciB0byBjbGFtcFxuICogQHBhcmFtIHtudW1iZXJ9IFttaW49MF0gVGhlIG1pbmltdW0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4PTFdIFRoZSBtYXhpbXVtIHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgY2xhbXBlZCBudW1iZXJcbiAqL1xuTWF0aC5jbGFtcCA9IChhLCBtaW4gPSAwLCBtYXggPSAxKSA9PiBhIDwgbWluID8gbWluIDogKGEgPiBtYXggPyBtYXggOiBhKTtcblxuLyoqXG4gKiBHZXQgdGhlIGZyYWN0aW9uYWwgcGFydCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG51bWJlciBmcm9tIHdoaWNoIHRvIGdldCB0aGUgZnJhY3Rpb25hbCBwYXJ0XG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgdGhlIG51bWJlclxuICovXG5NYXRoLmZyYWMgPSBhID0+IGEgPj0gMCA/IGEgLSBNYXRoLmZsb29yKGEpIDogYSAtIE1hdGguY2VpbChhKTtcblxuLyoqXG4gKiBEbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gYSBhbmQgYlxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG1pbmltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgbWF4aW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlLCBzaG91bGQgYmUgaW4gdGhlIGludGVydmFsIFswLCAxXVxuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gdGhlIGludGVydmFsIFthLCBiXVxuICovXG5NYXRoLmxlcnAgPSAoYSwgYiwgaSkgPT4gYSArIChiIC0gYSkgKiBpO1xuXG4vKipcbiAqIEdldCB0aGUgcG9zaXRpb24gb2YgaSBiZXR3ZWVuIGEgYW5kIGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBtaW5pbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIG1heGltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW50ZXJwb2xhdGVkIHZhbHVlIGluIHRoZSBpbnRlcnZhbCBbYSwgYl1cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBvc2l0aW9uIG9mIGkgYmV0d2VlbiBhIGFuZCBiXG4gKi9cbk1hdGgudW5sZXJwID0gKGEsIGIsIGkpID0+IChpIC0gYSkgLyAoYiAtIGEpO1xuXG4vKipcbiAqIERvIGEgYmlsaW5lYXIgaW50ZXJwb2xhdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGMwMCBUb3AtbGVmdCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGMxMCBUb3AtcmlnaHQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjMDEgQm90dG9tLWxlZnQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjMTEgQm90dG9tLXJpZ2h0IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gaXggSW50ZXJwb2xhdGlvbiB2YWx1ZSBhbG9uZyB4XG4gKiBAcGFyYW0ge251bWJlcn0gaXkgSW50ZXJwb2xhdGlvbiB2YWx1ZSBhbG9uZyB5XG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgYmlsaW5lYXIgaW50ZXJwb2xhdGVkIHZhbHVlXG4gKi9cbk1hdGguYmxlcnAgPSAoYzAwLCBjMTAsIGMwMSwgYzExLCBpeCwgaXkpID0+IE1hdGgubGVycChNYXRoLmxlcnAoYzAwLCBjMTAsIGl4KSwgTWF0aC5sZXJwKGMwMSwgYzExLCBpeCksIGl5KTtcblxuLyoqXG4gKiBSZS1tYXAgYSBudW1iZXIgaSBmcm9tIHJhbmdlIGExLi4uYTIgdG8gYjEuLi5iMlxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIG51bWJlciB0byByZS1tYXBcbiAqIEBwYXJhbSB7bnVtYmVyfSBhMVxuICogQHBhcmFtIHtudW1iZXJ9IGEyXG4gKiBAcGFyYW0ge251bWJlcn0gYjFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiMlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5NYXRoLnJlbWFwID0gKGksIGExLCBhMiwgYjEsIGIyKSA9PiBiMSArIChpIC0gYTEpICogKGIyIC0gYjEpIC8gKGEyIC0gYTEpO1xuXG4vKipcbiAqIERvIGEgc21vb3RoIGludGVycG9sYXRpb24gYmV0d2VlbiBhIGFuZCBiXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbWluaW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBtYXhpbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGludGVycG9sYXRpb24gdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn0gQW4gaW50ZXJwb2xhdGVkIHZhbHVlIGluIHRoZSBpbnRlcnZhbCBbYSwgYl1cbiAqL1xuTWF0aC5zbW9vdGhzdGVwID0gKGEsIGIsIGkpID0+IE1hdGgubGVycChhLCBiLCAzICogTWF0aC5wb3coaSwgMikgLSAyICogTWF0aC5wb3coaSwgMykpO1xuXG4vKipcbiAqIEdldCBhbiBhbmdsZSBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBUaGUgYW5nbGUgaW4gZGVncmVlc1xuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICovXG5NYXRoLnJhZGlhbnMgPSBkZWdyZWVzID0+IChNYXRoLlBJIC8gMTgwKSAqIGRlZ3JlZXM7XG5cbi8qKlxuICogR2V0IGFuIGFuZ2xlIGluIGRlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhbmdsZSBpbiBkZWdyZWVzXG4gKi9cbk1hdGguZGVncmVlcyA9IHJhZGlhbnMgPT4gKDE4MCAvIE1hdGguUEkpICogcmFkaWFucztcblxuLyoqXG4gKiBHZXQgYSByYW5kb20gZmxvYXQgaW4gdGhlIGludGVydmFsIFttaW4sIG1heClcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gSW5jbHVzaXZlIG1pblxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBFeGNsdXNpdmUgbWF4XG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgcmFuZG9tIGZsb2F0IGluIHRoZSBpbnRlcnZhbCBbbWluLCBtYXgpXG4gKi9cbk1hdGgucmFuZG9tQmV0d2VlbiA9IChtaW4sIG1heCkgPT4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuXG4vKipcbiAqIEdldCBhIHJhbmRvbSBpbnRlZ2VyIGluIHRoZSBpbnRlcnZhbCBbbWluLCBtYXhdXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIEluY2x1c2l2ZSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggSW5jbHVzaXZlIG1heFxuICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBpbnRlZ2VyIGluIHRoZSBpbnRlcnZhbCBbbWluLCBtYXhdXG4gKi9cbk1hdGgucmFuZG9tSW50QmV0d2VlbiA9IChtaW4sIG1heCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcblxuLyoqXG4gKiBHZXQgYSBub3JtYWxseS1kaXN0cmlidXRlZCByYW5kb20gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gW211PTAuNV0gVGhlIG1lYW4gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2lnbWE9MC41XSBUaGUgc3RhbmRhcmQgZGV2aWF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW3NhbXBsZXM9Ml0gVGhlIG51bWJlciBvZiBzYW1wbGVzXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbm9ybWFsbHktZGlzdHJpYnV0ZWQgcmFuZG9tIG51bWJlclxuICovXG5NYXRoLmNsdFJhbmRvbSA9IChtdSA9IDAuNSwgc2lnbWEgPSAwLjUsIHNhbXBsZXMgPSAyKSA9PiB7XG4gIGxldCB0b3RhbCA9IDA7XG4gIGZvciAobGV0IGkgPSBzYW1wbGVzOyBpLS07KSB7XG4gICAgdG90YWwgKz0gTWF0aC5yYW5kb20oKTtcbiAgfVxuICByZXR1cm4gbXUgKyAodG90YWwgLSBzYW1wbGVzIC8gMikgLyAoc2FtcGxlcyAvIDIpICogc2lnbWE7XG59O1xuXG4vKipcbiAqIEdldCBhIG5vcm1hbGx5LWRpc3RyaWJ1dGVkIHJhbmRvbSBpbnRlZ2VyIGluIHRoZSBpbnRlcnZhbCBbbWluLCBtYXhdXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIEluY2x1c2l2ZSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggSW5jbHVzaXZlIG1heFxuICogQHJldHVybiB7bnVtYmVyfSBBIG5vcm1hbGx5LWRpc3RyaWJ1dGVkIHJhbmRvbSBpbnRlZ2VyXG4gKi9cbk1hdGguY2x0UmFuZG9tSW50ID0gKG1pbiwgbWF4KSA9PiBNYXRoLmZsb29yKG1pbiArIE1hdGguY2x0UmFuZG9tKDAuNSwgMC41LCAyKSAqIChtYXggKyAxIC0gbWluKSk7XG5cbi8qKlxuICogUmV0dXJuIGEgd2VpZ2h0ZWQgcmFuZG9tIGludGVnZXJcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdyBBbiBhcnJheSBvZiB3ZWlnaHRzXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGluZGV4IGZyb20gd1xuICovXG5NYXRoLndlaWdodGVkUmFuZG9tID0gdyA9PiB7XG4gIGxldCB0b3RhbCA9IHcucmVkdWNlKChhLCBpKSA9PiBhICsgaSwgMCksIG4gPSAwO1xuICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIHRvdGFsO1xuICB3aGlsZSAodG90YWwgPiByKSB7XG4gICAgdG90YWwgLT0gd1tuKytdO1xuICB9XG4gIHJldHVybiBuIC0gMTtcbn07XG5cbi8qKlxuICogQW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvblxuICogQGNhbGxiYWNrIGludGVycG9sYXRpb25DYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG1pbmltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgbWF4aW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlLCBzaG91bGQgYmUgaW4gdGhlIGludGVydmFsIFswLCAxXVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW50ZXJwb2xhdGVkIHZhbHVlIGluIHRoZSBpbnRlcnZhbCBbYSwgYl1cbiAqL1xuXG4vKipcbiAqIFJldHVybiBhbiBpbnRlcnBvbGF0ZWQgdmFsdWUgZnJvbSBhbiBhcnJheVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhIEFuIGFycmF5IG9mIHZhbHVlcyBpbnRlcnBvbGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGkgQSBudW1iZXIgaW4gdGhlIGludGVydmFsIFswLCAxXVxuICogQHBhcmFtIHtpbnRlcnBvbGF0aW9uQ2FsbGJhY2t9IFtmPU1hdGgubGVycF0gVGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gdG8gdXNlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW21pbihhKSwgbWF4KGEpXVxuICovXG5NYXRoLmxlcnBBcnJheSA9IChhLCBpLCBmID0gTWF0aC5sZXJwKSA9PiB7XG4gIGNvbnN0IHMgPSBpICogKGEubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IHAgPSBNYXRoLmNsYW1wKE1hdGgudHJ1bmMocyksIDAsIGEubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBmKGFbcF0gfHwgMCwgYVtwICsgMV0gfHwgMCwgTWF0aC5mcmFjKHMpKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjdG9yc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGIgVmVjdG9yIGJcbiAqIEByZXR1cm4ge251bWJlcn0gYSDiiJkgYlxuICovXG5NYXRoLmRvdCA9IChhLCBiKSA9PiBhLnJlZHVjZSgobiwgdiwgaSkgPT4gbiArIHYgKiBiW2ldLCAwKTtcblxuLyoqXG4gKiBHZXQgdGhlIGZhY3RvcmlhbCBvZiBhIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGFcbiAqIEByZXR1cm4ge251bWJlcn0gYSFcbiAqL1xuTWF0aC5mYWN0b3JpYWwgPSBhID0+IHtcbiAgbGV0IHJlc3VsdCA9IDE7XG4gIGZvciAobGV0IGkgPSAyOyBpIDw9IGE7IGkrKykge1xuICAgIHJlc3VsdCAqPSBpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbnVtYmVyIG9mIHBlcm11dGF0aW9ucyBvZiByIGVsZW1lbnRzIGZyb20gYSBzZXQgb2YgbiBlbGVtZW50c1xuICogQHBhcmFtIHtudW1iZXJ9IG5cbiAqIEBwYXJhbSB7bnVtYmVyfSByXG4gKiBAcmV0dXJuIHtudW1iZXJ9IG5QclxuICovXG5NYXRoLnBlcm11dGF0aW9uID0gKG4sIHIpID0+IE1hdGguZmFjdG9yaWFsKG4pIC8gTWF0aC5mYWN0b3JpYWwobiAtIHIpO1xuXG4vKipcbiAqIEdldCB0aGUgbnVtYmVyIG9mIGNvbWJpbmF0aW9ucyBvZiByIGVsZW1lbnRzIGZyb20gYSBzZXQgb2YgbiBlbGVtZW50c1xuICogQHBhcmFtIHtudW1iZXJ9IG5cbiAqIEBwYXJhbSB7bnVtYmVyfSByXG4gKiBAcmV0dXJuIHtudW1iZXJ9IG5DclxuICovXG5NYXRoLmNvbWJpbmF0aW9uID0gKG4sIHIpID0+IE1hdGguZmFjdG9yaWFsKG4pIC8gKE1hdGguZmFjdG9yaWFsKHIpICogTWF0aC5mYWN0b3JpYWwobiAtIHIpKTtcblxuLyoqIEBjbGFzcyBBcnJheSAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gZm9yIGdlbmVyYXRpbmcgYXJyYXkgdmFsdWVzXG4gKiBAY2FsbGJhY2sgdGltZXNDYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGFycmF5IGluZGV4XG4gKiBAcmV0dXJuIHsqfSBUaGUgYXJyYXkgdmFsdWVcbiAqL1xuXG4vKipcbiAqIFJldHVybiBhIG5ldyBhcnJheSB3aXRoIGxlbmd0aCBuIGJ5IGNhbGxpbmcgZnVuY3Rpb24gZihpKSBvbiBlYWNoIGVsZW1lbnRcbiAqIEBwYXJhbSB7dGltZXNDYWxsYmFja30gZlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIHNpemUgb2YgdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheTwqPn1cbiAqL1xuQXJyYXkudGltZXMgPSAoZiwgbikgPT4gQXJyYXkobikuZmlsbCgwKS5tYXAoKF8sIGkpID0+IGYoaSkpO1xuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBjb250YWluaW5nIG51bWJlcnMgMC0+KG4gLSAxKVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIHNpemUgb2YgdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbiBhcnJheSBvZiBpbnRlZ2VycyAwLT4obiAtIDEpXG4gKi9cbkFycmF5LnJhbmdlID0gbiA9PiBBcnJheS50aW1lcyhpID0+IGksIG4pO1xuXG4vKipcbiAqIFJldHVybiBhcnJheVtpXSB3aXRoIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSB3cmFwcGluZ1xuICogQG5hbWUgYXRcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIEFycmF5LnByb3RvdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIHBvc2l0aXZlbHkvbmVnYXRpdmVseSB3cmFwcGVkIGFycmF5IGluZGV4XG4gKiBAcmV0dXJuIHsqfSBBbiBlbGVtZW50IGZyb20gdGhlIGFycmF5XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdhdCcsIHtcbiAgdmFsdWU6IGZ1bmN0aW9uIChpKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubGVuZ3RoO1xuICAgIHJldHVybiB0aGlzW2kgPCAwID8gbCAtIChNYXRoLmFicyhpICsgMSkgJSBsKSAtIDEgOiBpICUgbF07XG4gIH1cbn0pO1xuXG4vKipcbiAqIENob3AgYW4gYXJyYXkgaW50byBjaHVua3Mgb2Ygc2l6ZSBuXG4gKiBAbmFtZSBjaHVua1xuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgQXJyYXkucHJvdG90eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgY2h1bmsgc2l6ZVxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8Kj4+fSBBbiBhcnJheSBvZiBhcnJheSBjaHVua3NcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2NodW5rJywge1xuICB2YWx1ZTogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gQXJyYXkudGltZXMoaSA9PiB0aGlzLnNsaWNlKGkgKiBuLCBpICogbiArIG4pLCBNYXRoLmNlaWwodGhpcy5sZW5ndGggLyBuKSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFJhbmRvbWx5IHNodWZmbGUgYW4gYXJyYXkgaW4tcGxhY2VcbiAqIEBuYW1lIHNodWZmbGVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIEFycmF5LnByb3RvdHlwZVxuICogQHJldHVybiB7QXJyYXk8Kj59IFRoZSBzaHVmZmxlZCBhcnJheVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnc2h1ZmZsZScsIHtcbiAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoYSA9PiBbTWF0aC5yYW5kb20oKSwgYV0pLnNvcnQoKGEsIGIpID0+IGFbMF0gLSBiWzBdKS5tYXAoYSA9PiBhWzFdKTtcbiAgfVxufSk7XG5cbi8qKlxuICogQSAyZCB2ZWN0b3JcbiAqIEB0eXBlZGVmIHtPYmplY3R9IHZlY1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHggVGhlIHggY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgdmVjdG9yXG4gKiBAcGFyYW0ge251bWJlcnx2ZWN9IFt4XSBUaGUgeCBjb21wb25lbnQgb2YgdGhlIHZlY3Rvciwgb3IgYSB2ZWN0b3IgdG8gY29weVxuICogQHBhcmFtIHtudW1iZXJ9IFt5XSBUaGUgeSBjb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICogQHJldHVybiB7dmVjfSBBIG5ldyB2ZWN0b3JcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlZhcmlvdXMgd2F5cyB0byBpbml0aWFsaXNlIGEgdmVjdG9yPC9jYXB0aW9uPlxuICogbGV0IGEgPSB2ZWMoMywgMik7ICAvLyAoMywgMilcbiAqIGxldCBiID0gdmVjKDQpOyAgICAgLy8gKDQsIDQpXG4gKiBsZXQgYyA9IHZlYyhhKTsgICAgIC8vICgzLCAyKVxuICogbGV0IGQgPSB2ZWMoKTsgICAgICAvLyAoMCwgMClcbiAqL1xuY29uc3QgdmVjID0gKHgsIHkpID0+ICgheCAmJiAheSA/XG4gIHsgeDogMCwgeTogMCB9IDogKHR5cGVvZiB4ID09PSAnb2JqZWN0JyA/XG4gICAgeyB4OiB4LnggfHwgMCwgeTogeC55IHx8IDAgfSA6ICh5ID09PSBudWxsIHx8IHkgPT09IHVuZGVmaW5lZCA/XG4gICAgICB7IHg6IHgsIHk6IHggfSA6IHsgeDogeCwgeTogeSB9KVxuICApXG4pO1xuXG4vKipcbiAqIEdldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlY3RvciBhcyBhbiBhcnJheVxuICogQHBhcmFtIHt2ZWN9IGEgVGhlIHZlY3RvciB0byBnZXQgY29tcG9uZW50cyBmcm9tXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUaGUgdmVjdG9yIGNvbXBvbmVudHMgYXMgYW4gYXJyYXlcbiAqL1xudmVjLmNvbXBvbmVudHMgPSBhID0+IFthLngsIGEueV07XG5cbi8qKlxuICogUmV0dXJuIGEgdW5pdCB2ZWN0b3IgKDEsIDApXG4gKiBAcmV0dXJuIHt2ZWN9IEEgdW5pdCB2ZWN0b3IgKDEsIDApXG4gKi9cbnZlYy51eCA9ICgpID0+IHZlYygxLCAwKTtcblxuLyoqXG4gKiBSZXR1cm4gYSB1bml0IHZlY3RvciAoMCwgMSlcbiAqIEByZXR1cm4ge3ZlY30gQSB1bml0IHZlY3RvciAoMCwgMSlcbiAqL1xudmVjLnV5ID0gKCkgPT4gdmVjKDAsIDEpO1xuXG4vKipcbiAqIEFkZCB2ZWN0b3JzXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHBhcmFtIHt2ZWN9IGIgVmVjdG9yIGJcbiAqIEByZXR1cm4ge3ZlY30gYSArIGJcbiAqL1xudmVjLmFkZCA9IChhLCBiKSA9PiAoeyB4OiBhLnggKyBiLngsIHk6IGEueSArIGIueSB9KTtcblxuLyoqXG4gKiBTY2FsZSBhIHZlY3RvclxuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFNjYWxhciBiXG4gKiBAcmV0dXJuIHt2ZWN9IGEgKiBiXG4gKi9cbnZlYy5tdWwgPSAoYSwgYikgPT4gKHsgeDogYS54ICogYiwgeTogYS55ICogYiB9KTtcblxuLyoqXG4gKiBTdWJ0cmFjdCB2ZWN0b3JzXG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHBhcmFtIHt2ZWN9IGIgVmVjdG9yIGJcbiAqIEByZXR1cm4ge3ZlY30gYSAtIGJcbiAqL1xudmVjLnN1YiA9IChhLCBiKSA9PiAoeyB4OiBhLnggLSBiLngsIHk6IGEueSAtIGIueSB9KTtcblxuLyoqXG4gKiBHZXQgdGhlIGxlbmd0aCBvZiBhIHZlY3RvclxuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEByZXR1cm4ge251bWJlcn0gfGF8XG4gKi9cbnZlYy5sZW4gPSBhID0+IE1hdGguc3FydChhLnggKiBhLnggKyBhLnkgKiBhLnkpO1xuXG4vKipcbiAqIEdldCB0aGUgbGVuZ3RoIG9mIGEgdmVjdG9yIHVzaW5nIHRheGljYWIgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHxhfFxuICovXG52ZWMubWFuaGF0dGFuID0gYSA9PiBNYXRoLmFicyhhLngpICsgTWF0aC5hYnMoYS55KTtcblxuLyoqXG4gKiBOb3JtYWxpc2UgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gbm9ybWFsaXNlXG4gKiBAcmV0dXJuIHt2ZWN9IF5hXG4gKi9cbnZlYy5ub3IgPSBhID0+IHtcbiAgbGV0IGxlbiA9IHZlYy5sZW4oYSk7XG4gIHJldHVybiBsZW4gPyB7IHg6IGEueCAvIGxlbiwgeTogYS55IC8gbGVuIH0gOiB2ZWMoKTtcbn07XG5cbi8qKlxuICogR2V0IGEgZG90IHByb2R1Y3Qgb2YgdmVjdG9yc1xuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjfSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGEg4oiZIGJcbiAqL1xudmVjLmRvdCA9IChhLCBiKSA9PiBhLnggKiBiLnggKyBhLnkgKiBiLnk7XG5cbi8qKlxuICogUm90YXRlIGEgdmVjdG9yIGJ5IHIgcmFkaWFuc1xuICogQHBhcmFtIHt2ZWN9IGEgVGhlIHZlY3RvciB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByIFRoZSBhbmdsZSB0byByb3RhdGUgYnksIG1lYXN1cmVkIGluIHJhZGlhbnNcbiAqIEByZXR1cm4ge3ZlY30gQSByb3RhdGVkIHZlY3RvclxuICovXG52ZWMucm90ID0gKGEsIHIpID0+IHtcbiAgbGV0IHMgPSBNYXRoLnNpbihyKSxcbiAgICBjID0gTWF0aC5jb3Mocik7XG4gIHJldHVybiB7IHg6IGMgKiBhLnggLSBzICogYS55LCB5OiBzICogYS54ICsgYyAqIGEueSB9O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byB2ZWN0b3JzIGFyZSBlcXVhbFxuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjfSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHZlY3RvcnMgYSBhbmQgYiBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZVxuICovXG52ZWMuZXEgPSAoYSwgYikgPT4gYS54ID09PSBiLnggJiYgYS55ID09PSBiLnk7XG5cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBvZiBhIHZlY3RvclxuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIG9mIHZlY3RvciBhIGluIHJhZGlhbnNcbiAqL1xudmVjLnJhZCA9IGEgPT4gTWF0aC5hdGFuMihhLnksIGEueCk7XG5cbi8qKlxuICogQ29weSBhIHZlY3RvclxuICogQHBhcmFtIHt2ZWN9IGEgVGhlIHZlY3RvciB0byBjb3B5XG4gKiBAcmV0dXJuIHt2ZWN9IEEgY29weSBvZiB2ZWN0b3IgYVxuICovXG52ZWMuY3B5ID0gYSA9PiB2ZWMoYSk7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggY29tcG9uZW50IG9mIGEgdmVjdG9yXG4gKiBAY2FsbGJhY2sgdmVjdG9yTWFwQ2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgY29tcG9uZW50IHZhbHVlXG4gKiBAcGFyYW0geyd4JyB8ICd5J30gbGFiZWwgVGhlIGNvbXBvbmVudCBsYWJlbCAoeCBvciB5KVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWFwcGVkIGNvbXBvbmVudFxuICovXG5cbi8qKlxuICogQ2FsbCBhIGZ1bmN0aW9uIG9uIGVhY2ggY29tcG9uZW50IG9mIGEgdmVjdG9yIGFuZCBidWlsZCBhIG5ldyB2ZWN0b3IgZnJvbSB0aGUgcmVzdWx0c1xuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjdG9yTWFwQ2FsbGJhY2t9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZWFjaCBjb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICogQHJldHVybiB7dmVjfSBWZWN0b3IgYSBtYXBwZWQgdGhyb3VnaCBmXG4gKi9cbnZlYy5tYXAgPSAoYSwgZikgPT4gKHsgeDogZihhLngsICd4JyksIHk6IGYoYS55LCAneScpIH0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSB2ZWN0b3IgaW50byBhIHN0cmluZ1xuICogQHBhcmFtIHt2ZWN9IGEgVGhlIHZlY3RvciB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge3N0cmluZ30gW3M9JywgJ10gVGhlIHNlcGFyYXRvciBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG52ZWMuc3RyID0gKGEsIHMgPSAnLCAnKSA9PiBgJHthLnh9JHtzfSR7YS55fWA7XG5cbi8qKlxuICogQSBtYXRyaXhcbiAqIEB0eXBlZGVmIHtPYmplY3R9IG1hdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG0gVGhlIG51bWJlciBvZiByb3dzIGluIHRoZSBtYXRyaXhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgbWF0cml4XG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGVudHJpZXMgVGhlIG1hdHJpeCB2YWx1ZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXRyaXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbT00XSBUaGUgbnVtYmVyIG9mIHJvd3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbj00XSBUaGUgbnVtYmVyIG9mIGNvbHVtbnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2VudHJpZXM9W11dIE1hdHJpeCB2YWx1ZXMgaW4gcmVhZGluZyBvcmRlclxuICogQHJldHVybiB7bWF0fSBBIG5ldyBtYXRyaXhcbiAqL1xuY29uc3QgbWF0ID0gKG0gPSA0LCBuID0gNCwgZW50cmllcyA9IFtdKSA9PiAoe1xuICBtLCBuLFxuICBlbnRyaWVzOiBlbnRyaWVzLmNvbmNhdChBcnJheShtICogbikuZmlsbCgwKSkuc2xpY2UoMCwgbSAqIG4pXG59KTtcblxuLyoqXG4gKiBHZXQgYW4gaWRlbnRpdHkgbWF0cml4IG9mIHNpemUgblxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIHNpemUgb2YgdGhlIG1hdHJpeFxuICogQHJldHVybiB7bWF0fSBBbiBpZGVudGl0eSBtYXRyaXhcbiAqL1xubWF0LmlkZW50aXR5ID0gbiA9PiBtYXQobiwgbiwgQXJyYXkobiAqIG4pLmZpbGwoMCkubWFwKCh2LCBpKSA9PiArKE1hdGguZmxvb3IoaSAvIG4pID09PSBpICUgbikpKTtcblxuLyoqXG4gKiBHZXQgYW4gZW50cnkgZnJvbSBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSByb3cgb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gaiBUaGUgY29sdW1uIG9mZnNldFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgdmFsdWUgYXQgcG9zaXRpb24gKGksIGopIGluIG1hdHJpeCBhXG4gKi9cbm1hdC5nZXQgPSAoYSwgaSwgaikgPT4gYS5lbnRyaWVzWyhqIC0gMSkgKyAoaSAtIDEpICogYS5uXTtcblxuLyoqXG4gKiBTZXQgYW4gZW50cnkgb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgcm93IG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGogVGhlIGNvbHVtbiBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IFRoZSB2YWx1ZSB0byBzZXQgaW4gbWF0cml4IGFcbiAqL1xubWF0LnNldCA9IChhLCBpLCBqLCB2KSA9PiB7IGEuZW50cmllc1soaiAtIDEpICsgKGkgLSAxKSAqIGEubl0gPSB2OyB9O1xuXG4vKipcbiAqIEdldCBhIHJvdyBmcm9tIGEgbWF0cml4IGFzIGFuIGFycmF5XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IG0gVGhlIHJvdyBvZmZzZXRcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFJvdyBtIGZyb20gbWF0cml4IGFcbiAqL1xubWF0LnJvdyA9IChhLCBtKSA9PiB7XG4gIGNvbnN0IHMgPSAobSAtIDEpICogYS5uO1xuICByZXR1cm4gYS5lbnRyaWVzLnNsaWNlKHMsIHMgKyBhLm4pO1xufTtcblxuLyoqXG4gKiBHZXQgYSBjb2x1bW4gZnJvbSBhIG1hdHJpeCBhcyBhbiBhcnJheVxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBjb2x1bW4gb2Zmc2V0XG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBDb2x1bW4gbiBmcm9tIG1hdHJpeCBhXG4gKi9cbm1hdC5jb2wgPSAoYSwgbikgPT4gQXJyYXkudGltZXMoaSA9PiBtYXQuZ2V0KGEsIChpICsgMSksIG4pLCBhLm0pO1xuXG4vKipcbiAqIEFkZCBtYXRyaWNlc1xuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0fSBiIE1hdHJpeCBiXG4gKiBAcmV0dXJuIHttYXR9IGEgKyBiXG4gKi9cbm1hdC5hZGQgPSAoYSwgYikgPT4gYS5tID09PSBiLm0gJiYgYS5uID09PSBiLm4gJiYgbWF0Lm1hcChhLCAodiwgaSkgPT4gdiArIGIuZW50cmllc1tpXSk7XG5cbi8qKlxuICogU3VidHJhY3QgbWF0cmljZXNcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdH0gYiBNYXRyaXggYlxuICogQHJldHVybiB7bWF0fSBhIC0gYlxuICovXG5tYXQuc3ViID0gKGEsIGIpID0+IGEubSA9PT0gYi5tICYmIGEubiA9PT0gYi5uICYmIG1hdC5tYXAoYSwgKHYsIGkpID0+IHYgLSBiLmVudHJpZXNbaV0pO1xuXG4vKipcbiAqIE11bHRpcGx5IG1hdHJpY2VzXG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHttYXR9IGIgTWF0cml4IGJcbiAqIEByZXR1cm4ge21hdHxib29sZWFufSBhYiBvciBmYWxzZSBpZiB0aGUgbWF0cmljZXMgY2Fubm90IGJlIG11bHRpcGxpZWRcbiAqL1xubWF0Lm11bCA9IChhLCBiKSA9PiB7XG4gIGlmIChhLm4gIT09IGIubSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgY29uc3QgcmVzdWx0ID0gbWF0KGEubSwgYi5uKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gYS5tOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBiLm47IGorKykge1xuICAgICAgbWF0LnNldChyZXN1bHQsIGksIGosIE1hdGguZG90KG1hdC5yb3coYSwgaSksIG1hdC5jb2woYiwgaikpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogU2NhbGUgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gYiBTY2FsYXIgYlxuICogQHJldHVybiB7bWF0fSBhICogYlxuICovXG5tYXQuc2NhbGUgPSAoYSwgYikgPT4gbWF0Lm1hcChhLCB2ID0+IHYgKiBiKTtcblxuLyoqXG4gKiBUcmFuc3Bvc2UgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gdHJhbnNwb3NlXG4gKiBAcmV0dXJuIHttYXR9IEEgdHJhbnNwb3NlZCBtYXRyaXhcbiAqL1xubWF0LnRyYW5zID0gYSA9PiBtYXQoYS5uLCBhLm0sIEFycmF5LnRpbWVzKGkgPT4gbWF0LmNvbChhLCAoaSArIDEpKSwgYS5uKS5mbGF0KCkpO1xuXG4vKipcbiAqIEdldCB0aGUgbWlub3Igb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgcm93IG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGogVGhlIGNvbHVtbiBvZmZzZXRcbiAqIEByZXR1cm4ge21hdHxib29sZWFufSBUaGUgKGksIGopIG1pbm9yIG9mIG1hdHJpeCBhIG9yIGZhbHNlIGlmIHRoZSBtYXRyaXggaXMgbm90IHNxdWFyZVxuICovXG5tYXQubWlub3IgPSAoYSwgaSwgaikgPT4ge1xuICBpZiAoYS5tICE9PSBhLm4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgZm9yIChsZXQgaWkgPSAxOyBpaSA8PSBhLm07IGlpKyspIHtcbiAgICBpZiAoaWkgPT09IGkpIHsgY29udGludWU7IH1cbiAgICBmb3IgKGxldCBqaiA9IDE7IGpqIDw9IGEubjsgamorKykge1xuICAgICAgaWYgKGpqID09PSBqKSB7IGNvbnRpbnVlOyB9XG4gICAgICBlbnRyaWVzLnB1c2gobWF0LmdldChhLCBpaSwgamopKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hdChhLm0gLSAxLCBhLm4gLSAxLCBlbnRyaWVzKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEByZXR1cm4ge251bWJlcnxib29sZWFufSB8YXwgb3IgZmFsc2UgaWYgdGhlIG1hdHJpeCBpcyBub3Qgc3F1YXJlXG4gKi9cbm1hdC5kZXQgPSBhID0+IHtcbiAgaWYgKGEubSAhPT0gYS5uKSB7IHJldHVybiBmYWxzZTsgfVxuICBpZiAoYS5tID09PSAxKSB7XG4gICAgcmV0dXJuIGEuZW50cmllc1swXTtcbiAgfVxuICBpZiAoYS5tID09PSAyKSB7XG4gICAgcmV0dXJuIGEuZW50cmllc1swXSAqIGEuZW50cmllc1szXSAtIGEuZW50cmllc1sxXSAqIGEuZW50cmllc1syXTtcbiAgfVxuICBsZXQgdG90YWwgPSAwLCBzaWduID0gMTtcbiAgZm9yIChsZXQgaiA9IDE7IGogPD0gYS5uOyBqKyspIHtcbiAgICB0b3RhbCArPSBzaWduICogYS5lbnRyaWVzW2ogLSAxXSAqIG1hdC5kZXQobWF0Lm1pbm9yKGEsIDEsIGopKTtcbiAgICBzaWduICo9IC0xO1xuICB9XG4gIHJldHVybiB0b3RhbDtcbn07XG5cbi8qKlxuICogTm9ybWFsaXNlIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIG5vcm1hbGlzZVxuICogQHJldHVybiB7bWF0fGJvb2xlYW59IF5hIG9yIGZhbHNlIGlmIHRoZSBtYXRyaXggaXMgbm90IHNxdWFyZVxuICovXG5tYXQubm9yID0gYSA9PiB7XG4gIGlmIChhLm0gIT09IGEubikgeyByZXR1cm4gZmFsc2U7IH1cbiAgY29uc3QgZCA9IG1hdC5kZXQoYSk7XG4gIHJldHVybiBtYXQubWFwKGEsIGkgPT4gaSAqIGQpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGFkanVnYXRlIG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBhZGp1Z2F0ZVxuICogQHJldHVybiB7bWF0fSBUaGUgYWRqdWdhdGUgb2YgYVxuICovXG5tYXQuYWRqID0gYSA9PiB7XG4gIGNvbnN0IG1pbm9ycyA9IG1hdChhLm0sIGEubik7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGEubTsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPD0gYS5uOyBqKyspIHtcbiAgICAgIG1hdC5zZXQobWlub3JzLCBpLCBqLCBtYXQuZGV0KG1hdC5taW5vcihhLCBpLCBqKSkpO1xuICAgIH1cbiAgfVxuICBjb25zdCBjb2ZhY3RvcnMgPSBtYXQubWFwKG1pbm9ycywgKHYsIGkpID0+IHYgKiAoaSAlIDIgPyAtMSA6IDEpKTtcbiAgcmV0dXJuIG1hdC50cmFucyhjb2ZhY3RvcnMpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGludmVyc2Ugb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gaW52ZXJ0XG4gKiBAcmV0dXJuIHttYXR8Ym9vbGVhbn0gYV4tMSBvciBmYWxzZSBpZiB0aGUgbWF0cml4IGhhcyBubyBpbnZlcnNlXG4gKi9cbm1hdC5pbnYgPSBhID0+IHtcbiAgaWYgKGEubSAhPT0gYS5uKSB7IHJldHVybiBmYWxzZTsgfVxuICBjb25zdCBkID0gbWF0LmRldChhKTtcbiAgaWYgKGQgPT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG4gIHJldHVybiBtYXQuc2NhbGUobWF0LmFkaihhKSwgMSAvIGQpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB0d28gbWF0cmljZXMgYXJlIGVxdWFsXG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHttYXR9IGIgTWF0cml4IGJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbWF0cmljZXMgYSBhbmQgYiBhcmUgaWRlbnRpY2FsLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xubWF0LmVxID0gKGEsIGIpID0+IGEubSA9PT0gYi5tICYmIGEubiA9PT0gYi5uICYmIG1hdC5zdHIoYSkgPT09IG1hdC5zdHIoYik7XG5cbi8qKlxuICogQ29weSBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCB0byBjb3B5XG4gKiBAcmV0dXJuIHttYXR9IEEgY29weSBvZiBtYXRyaXggYVxuICovXG5tYXQuY3B5ID0gYSA9PiBtYXQoYS5tLCBhLm4sIFsuLi5hLmVudHJpZXNdKTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvIGNhbGwgb24gZWFjaCBlbnRyeSBvZiBhIG1hdHJpeFxuICogQGNhbGxiYWNrIG1hdHJpeE1hcENhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGVudHJ5IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGVudHJ5IGluZGV4XG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVudHJpZXMgVGhlIGFycmF5IG9mIG1hdHJpeCBlbnRyaWVzXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXBwZWQgZW50cnlcbiAqL1xuXG4vKipcbiAqIENhbGwgYSBmdW5jdGlvbiBvbiBlYWNoIGVudHJ5IG9mIGEgbWF0cml4IGFuZCBidWlsZCBhIG5ldyBtYXRyaXggZnJvbSB0aGUgcmVzdWx0c1xuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0cml4TWFwQ2FsbGJhY2t9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZWFjaCBlbnRyeSBvZiB0aGUgbWF0cml4XG4gKiBAcmV0dXJuIHttYXR9IE1hdHJpeCBhIG1hcHBlZCB0aHJvdWdoIGZcbiAqL1xubWF0Lm1hcCA9IChhLCBmKSA9PiBtYXQoYS5tLCBhLm4sIGEuZW50cmllcy5tYXAoZikpO1xuXG4vKipcbiAqIENvbnZlcnQgYSBtYXRyaXggaW50byBhIHN0cmluZ1xuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge3N0cmluZ30gW21zPScsICddIFRoZSBzZXBhcmF0b3Igc3RyaW5nIGZvciBjb2x1bW5zXG4gKiBAcGFyYW0ge3N0cmluZ30gW25zPSdcXG4nXSBUaGUgc2VwYXJhdG9yIHN0cmluZyBmb3Igcm93c1xuICogQHJldHVybiB7c3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cbm1hdC5zdHIgPSAoYSwgbXMgPSAnLCAnLCBucyA9ICdcXG4nKSA9PiBhLmVudHJpZXMuY2h1bmsoYS5uKS5tYXAociA9PiByLmpvaW4obXMpKS5qb2luKG5zKTtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0geyB2ZWMsIG1hdCB9O1xufVxuIiwiaW1wb3J0IHsgdmVjIH0gZnJvbSBcIkBiYXNlbWVudHVuaXZlcnNlL2NvbW1vbmpzXCI7XG5pbXBvcnQgKiBhcyBjb25maWcgZnJvbSAnLi9jb25maWcuanNvbic7XG5cbnR5cGUgRGVidWdPcHRpb25zID0ge1xuICBtYXJnaW46IG51bWJlcixcbiAgcGFkZGluZzogbnVtYmVyLFxuICBmb250OiBzdHJpbmcsXG4gIGxpbmVIZWlnaHQ6IG51bWJlcixcbiAgZm9yZWdyb3VuZENvbG91cjogQ29sb3VyLFxuICBiYWNrZ3JvdW5kQ29sb3VyOiBDb2xvdXIsXG4gIGRlZmF1bHRWYWx1ZTogRGVidWdWYWx1ZSxcbiAgZGVmYXVsdE1hcmtlcjogRGVidWdNYXJrZXJcbn07XG5cbnR5cGUgRGVidWdWYWx1ZSA9IHtcbiAgbGFiZWw/OiBzdHJpbmcsXG4gIHZhbHVlPzogbnVtYmVyIHwgc3RyaW5nLFxuICBhbGlnbjogJ2xlZnQnIHwgJ3JpZ2h0JyxcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxuICBwYWRkaW5nPzogbnVtYmVyLFxuICBmb250Pzogc3RyaW5nLFxuICBmb3JlZ3JvdW5kQ29sb3VyPzogQ29sb3VyLFxuICBiYWNrZ3JvdW5kQ29sb3VyPzogQ29sb3VyXG59O1xuXG50eXBlIERlYnVnTWFya2VyID0ge1xuICBsYWJlbD86IHN0cmluZyxcbiAgdmFsdWU/OiBudW1iZXIgfCBzdHJpbmcsXG4gIHBvc2l0aW9uPzogdmVjLFxuICBzaG93TGFiZWw6IGJvb2xlYW4sXG4gIHNob3dWYWx1ZTogYm9vbGVhbixcbiAgc2hvd01hcmtlcjogYm9vbGVhbixcbiAgbWFya2VyU2l6ZTogbnVtYmVyLFxuICBtYXJrZXJTdHlsZTogJ3gnIHwgJysnIHwgJy4nLFxuICBtYXJrZXJDb2xvdXI6IENvbG91cixcbiAgc3BhY2U6ICd3b3JsZCcgfCAnc2NyZWVuJyxcbiAgcGFkZGluZz86IG51bWJlcixcbiAgZm9udD86IHN0cmluZyxcbiAgbGFiZWxPZmZzZXQ6IHZlYyxcbiAgZm9yZWdyb3VuZENvbG91cj86IENvbG91cixcbiAgYmFja2dyb3VuZENvbG91cj86IENvbG91clxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVidWcge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRGVidWc7XG4gIHByaXZhdGUgdmFsdWVzOiBNYXA8c3RyaW5nLCBEZWJ1Z1ZhbHVlPjtcbiAgcHJpdmF0ZSBtYXJrZXJzOiBNYXA8c3RyaW5nLCBEZWJ1Z01hcmtlcj47XG4gIHByaXZhdGUgb3B0aW9uczogRGVidWdPcHRpb25zXG4gIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdE9wdGlvbnM6IERlYnVnT3B0aW9ucyA9IHtcbiAgICBtYXJnaW46IDEwLFxuICAgIHBhZGRpbmc6IDQsXG4gICAgZm9udDogJzEwcHQgTHVjaWRhIENvbnNvbGUsIG1vbm9zcGFjZScsXG4gICAgbGluZUhlaWdodDogMTIsXG4gICAgZm9yZWdyb3VuZENvbG91cjogJyNmZmYnLFxuICAgIGJhY2tncm91bmRDb2xvdXI6ICcjMzMzOCcsXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgc2hvd0xhYmVsOiB0cnVlXG4gICAgfSxcbiAgICBkZWZhdWx0TWFya2VyOiB7XG4gICAgICBzaG93TGFiZWw6IHRydWUsXG4gICAgICBzaG93VmFsdWU6IHRydWUsXG4gICAgICBzaG93TWFya2VyOiB0cnVlLFxuICAgICAgbWFya2VyU2l6ZTogNixcbiAgICAgIG1hcmtlclN0eWxlOiAneCcsXG4gICAgICBtYXJrZXJDb2xvdXI6ICcjY2NjJyxcbiAgICAgIHNwYWNlOiAnd29ybGQnLFxuICAgICAgbGFiZWxPZmZzZXQ6IHZlYygxMClcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihvcHRpb25zOiBQYXJ0aWFsPERlYnVnT3B0aW9ucz4gPSB7fSkge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHRoaXMudmFsdWVzID0gbmV3IE1hcDxzdHJpbmcsIERlYnVnVmFsdWU+KCk7XG4gICAgdGhpcy5tYXJrZXJzID0gbmV3IE1hcDxzdHJpbmcsIERlYnVnTWFya2VyPigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2UgdGhlIGRlYnVnIHJlbmRlcmVyIGZvciBkaXNwbGF5aW5nIHZhbHVlcyBhbmQgbWFya2Vyc1xuICAgKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJpbmcgb3B0aW9uc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyBpbml0aWFsaXNlKG9wdGlvbnM6IFBhcnRpYWw8RGVidWdPcHRpb25zPiA9IHt9KTogdm9pZCB7XG4gICAgRGVidWcuaW5zdGFuY2UgPSBuZXcgRGVidWcob3B0aW9ucyk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBEZWJ1ZyB7XG4gICAgaWYgKERlYnVnLmluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIERlYnVnLmluaXRpYWxpc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIERlYnVnLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYSBkZWJ1ZyB2YWx1ZVxuICAgKiBAcGFyYW0gbGFiZWwgVGhlIGxhYmVsIGZvciB0aGlzIHZhbHVlXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgY3VycmVudCB2YWx1ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJpbmcgb3B0aW9uc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyB2YWx1ZShsYWJlbDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyLCBvcHRpb25zOiBQYXJ0aWFsPERlYnVnVmFsdWU+ID0ge30pOiB2b2lkIHtcbiAgICBjb25zdCBkZWJ1ZyA9IERlYnVnLmdldEluc3RhbmNlKCk7XG4gICAgZGVidWcudmFsdWVzLnNldChsYWJlbCwgT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbGFiZWwsIHZhbHVlIH0sXG4gICAgICBkZWJ1Zy5kZWZhdWx0T3B0aW9ucy5kZWZhdWx0VmFsdWUsXG4gICAgICBvcHRpb25zXG4gICAgKSk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBhIG1hcmtlciBpbiB3b3JsZCBvciBzY3JlZW4gc3BhY2VcbiAgICogQHBhcmFtIGxhYmVsIFRoZSBsYWJlbCBmb3IgdGhpcyBtYXJrZXJcbiAgICogQHBhcmFtIHZhbHVlIFRoZSBjdXJyZW50IHZhbHVlXG4gICAqIEBwYXJhbSBwb3NpdGlvbiBUaGUgcG9zaXRpb24gb2YgdGhpcyBtYXJrZXJcbiAgICogQHBhcmFtIG9wdGlvbnMgUmVuZGVyaW5nIG9wdGlvbnNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbWFya2VyKGxhYmVsOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsIHBvc2l0aW9uOiB2ZWMsIG9wdGlvbnM6IFBhcnRpYWw8RGVidWdNYXJrZXI+ID0ge30pOiB2b2lkIHtcbiAgICBjb25zdCBkZWJ1ZyA9IERlYnVnLmdldEluc3RhbmNlKCk7XG4gICAgZGVidWcubWFya2Vycy5zZXQobGFiZWwsIE9iamVjdC5hc3NpZ24oXG4gICAgICB7IGxhYmVsLCB2YWx1ZSwgcG9zaXRpb24gfSxcbiAgICAgIGRlYnVnLmRlZmF1bHRPcHRpb25zLmRlZmF1bHRNYXJrZXIsXG4gICAgICBvcHRpb25zXG4gICAgKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGRlYnVnIHZhbHVlcyBhbmQgbWFya2VycyBvbnRvIHRoZSBjb250ZXh0XG4gICAqIEBwYXJhbSBjb250ZXh0IFRoZSByZW5kZXJpbmcgY29udGV4dFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGNvbnN0IGRlYnVnID0gRGVidWcuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIERyYXcgd29ybGQtc3BhY2UgbWFya2Vyc1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuc2NhbGUoMSAvIGNvbmZpZy5zY2FsZUZhY3RvciwgMSAvIGNvbmZpZy5zY2FsZUZhY3Rvcik7XG4gICAgZGVidWcubWFya2Vycy5mb3JFYWNoKG1hcmtlciA9PiB7XG4gICAgICBpZiAobWFya2VyLnNwYWNlID09PSAnd29ybGQnKSB7XG4gICAgICAgIGRlYnVnLmRyYXdNYXJrZXIoY29udGV4dCwgbWFya2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgIC8vIERyYXcgdmFsdWVzIGFuZCBzY3JlZW4tc3BhY2UgbWFya2Vyc1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIGxldCBwb3NpdGlvbjogdmVjO1xuICAgIGxldCBsZWZ0WSA9IGRlYnVnLm9wdGlvbnMubWFyZ2luO1xuICAgIGxldCByaWdodFkgPSBkZWJ1Zy5vcHRpb25zLm1hcmdpbjtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gKGRlYnVnLm9wdGlvbnMubGluZUhlaWdodCArIGRlYnVnLm9wdGlvbnMucGFkZGluZyAqIDIpO1xuICAgIGRlYnVnLnZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIHN3aXRjaCAodmFsdWUuYWxpZ24pIHtcbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgcG9zaXRpb24gPSB2ZWMoZGVidWcub3B0aW9ucy5tYXJnaW4sIGxlZnRZKTtcbiAgICAgICAgICBsZWZ0WSArPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgcG9zaXRpb24gPSB2ZWMoY29udGV4dC5jYW52YXMuY2xpZW50V2lkdGggLSBkZWJ1Zy5vcHRpb25zLm1hcmdpbiwgcmlnaHRZKTtcbiAgICAgICAgICByaWdodFkgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlYnVnLmRyYXdMYWJlbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgKHZhbHVlLnNob3dMYWJlbCA/IGAke3ZhbHVlLmxhYmVsfTogYCA6ICcnKSArIGAke3ZhbHVlLnZhbHVlfWAsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB2YWx1ZS5hbGlnbixcbiAgICAgICAgdmFsdWUucGFkZGluZyA/PyBkZWJ1Zy5vcHRpb25zLnBhZGRpbmcsXG4gICAgICAgIHZhbHVlLmZvbnQgPz8gZGVidWcub3B0aW9ucy5mb250LFxuICAgICAgICB2YWx1ZS5mb3JlZ3JvdW5kQ29sb3VyID8/IGRlYnVnLm9wdGlvbnMuZm9yZWdyb3VuZENvbG91cixcbiAgICAgICAgdmFsdWUuYmFja2dyb3VuZENvbG91ciA/PyBkZWJ1Zy5vcHRpb25zLmJhY2tncm91bmRDb2xvdXJcbiAgICAgICk7XG4gICAgfSk7XG4gICAgZGVidWcubWFya2Vycy5mb3JFYWNoKG1hcmtlciA9PiB7XG4gICAgICBpZiAobWFya2VyLnNwYWNlID09PSAnc2NyZWVuJykge1xuICAgICAgICBkZWJ1Zy5kcmF3TWFya2VyKGNvbnRleHQsIG1hcmtlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAvLyBDbGVhciB2YWx1ZXMgYW5kIG1hcmtlcnMgcmVhZHkgZm9yIG5leHQgZnJhbWVcbiAgICBkZWJ1Zy52YWx1ZXMuY2xlYXIoKTtcbiAgICBkZWJ1Zy5tYXJrZXJzLmNsZWFyKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdNYXJrZXIoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBtYXJrZXI6IERlYnVnTWFya2VyKTogdm9pZCB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29uc3QgcG9zaXRpb24gPSB2ZWMubXVsKG1hcmtlci5wb3NpdGlvbiA/PyB2ZWMoKSwgY29uZmlnLnNjYWxlRmFjdG9yKTtcbiAgICBpZiAobWFya2VyLnNob3dMYWJlbCB8fCBtYXJrZXIuc2hvd1ZhbHVlKSB7XG4gICAgICB0aGlzLmRyYXdMYWJlbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgKG1hcmtlci5zaG93TGFiZWwgPyBgJHttYXJrZXIubGFiZWx9OiBgIDogJycpICsgKG1hcmtlci5zaG93VmFsdWUgPyBgJHttYXJrZXIudmFsdWV9YCA6ICcnKSxcbiAgICAgICAgdmVjLmFkZChwb3NpdGlvbiA/PyB2ZWMoKSwgbWFya2VyLmxhYmVsT2Zmc2V0KSxcbiAgICAgICAgJ2xlZnQnLFxuICAgICAgICBtYXJrZXIucGFkZGluZyA/PyB0aGlzLm9wdGlvbnMucGFkZGluZyxcbiAgICAgICAgbWFya2VyLmZvbnQgPz8gdGhpcy5vcHRpb25zLmZvbnQsXG4gICAgICAgIG1hcmtlci5mb3JlZ3JvdW5kQ29sb3VyID8/IHRoaXMub3B0aW9ucy5mb3JlZ3JvdW5kQ29sb3VyLFxuICAgICAgICBtYXJrZXIuYmFja2dyb3VuZENvbG91ciA/PyB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG91clxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG1hcmtlci5zaG93TWFya2VyKSB7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDI7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29udGV4dC5maWxsU3R5bGUgPSBtYXJrZXIubWFya2VyQ29sb3VyIGFzIHN0cmluZztcbiAgICAgIHN3aXRjaCAobWFya2VyLm1hcmtlclN0eWxlKSB7XG4gICAgICAgIGNhc2UgJ3gnOlxuICAgICAgICAgIHRoaXMuZHJhd0Nyb3NzKGNvbnRleHQsIHBvc2l0aW9uLCBtYXJrZXIubWFya2VyU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgIHRoaXMuZHJhd1BsdXMoY29udGV4dCwgcG9zaXRpb24sIG1hcmtlci5tYXJrZXJTaXplKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLic6XG4gICAgICAgICAgdGhpcy5kcmF3RG90KGNvbnRleHQsIHBvc2l0aW9uLCBtYXJrZXIubWFya2VyU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3TGFiZWwoXG4gICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogdmVjLFxuICAgIGFsaWduOiAnbGVmdCcgfCAncmlnaHQnLFxuICAgIHBhZGRpbmc6IG51bWJlcixcbiAgICBmb250OiBzdHJpbmcsXG4gICAgZm9yZWdyb3VuZENvbG91cjogQ29sb3VyLFxuICAgIGJhY2tncm91bmRDb2xvdXI6IENvbG91clxuICApOiB2b2lkIHtcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgY29uc3QgYmFja2dyb3VuZFNpemUgPSB7XG4gICAgICB3aWR0aDogY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aCArIHBhZGRpbmcgKiAyLFxuICAgICAgaGVpZ2h0OiB0aGlzLm9wdGlvbnMubGluZUhlaWdodCArIHBhZGRpbmcgKiAyXG4gICAgfTtcbiAgICBjb25zdCB4ID0gYWxpZ24gPT09ICdyaWdodCcgPyAocG9zaXRpb24ueCAtIGJhY2tncm91bmRTaXplLndpZHRoKSA6IHBvc2l0aW9uLng7XG5cbiAgICAvLyBEcmF3IGJhY2tncm91bmRcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvdXIgYXMgc3RyaW5nO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICB4IC0gcGFkZGluZyxcbiAgICAgIHBvc2l0aW9uLnkgLSBwYWRkaW5nLFxuICAgICAgYmFja2dyb3VuZFNpemUud2lkdGgsXG4gICAgICBiYWNrZ3JvdW5kU2l6ZS5oZWlnaHRcbiAgICApO1xuXG4gICAgLy8gRHJhdyB0ZXh0XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBmb3JlZ3JvdW5kQ29sb3VyIGFzIHN0cmluZztcbiAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHBvc2l0aW9uLnkpO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3Q3Jvc3MoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3NpdGlvbjogdmVjLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnN0IGhhbGZTaXplID0gc2l6ZSAvIDI7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCAtIGhhbGZTaXplLCBwb3NpdGlvbi55IC0gaGFsZlNpemUpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLnggKyBoYWxmU2l6ZSwgcG9zaXRpb24ueSArIGhhbGZTaXplKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54IC0gaGFsZlNpemUsIHBvc2l0aW9uLnkgKyBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5saW5lVG8ocG9zaXRpb24ueCArIGhhbGZTaXplLCBwb3NpdGlvbi55IC0gaGFsZlNpemUpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdQbHVzKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zaXRpb246IHZlYywgc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgIGNvbnRleHQubW92ZVRvKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgLSBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5saW5lVG8ocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIGhhbGZTaXplKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54IC0gaGFsZlNpemUsIHBvc2l0aW9uLnkpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLnggKyBoYWxmU2l6ZSwgcG9zaXRpb24ueSk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0RvdChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiB2ZWMsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5hcmMocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgc2l6ZSAvIDIsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjb250ZXh0LmZpbGwoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4vY29uZmlnLmpzb24nO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBDb250ZW50IGZyb20gJy4vQ29udGVudCc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCc7XG5pbXBvcnQgU3RhdGVNYW5hZ2VyIGZyb20gJy4vc3RhdGVzL1N0YXRlTWFuYWdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBsYXN0RnJhbWVDb3VudFRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBmcmFtZVJhdGU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZnJhbWVDb3VudDogbnVtYmVyID0gMDtcblxuICBwdWJsaWMgc3RhdGVNYW5hZ2VyOiBTdGF0ZU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBnYW1lXG4gICAqIEBwYXJhbSBjb250YWluZXIgVGhlIGNhbnZhcyBpbiB3aGljaCB0aGUgZ2FtZSBzaG91bGQgYmUgcmVuZGVyZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4gICAgaWYgKGNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHZhbGlkIGNvbnRhaW5lciBlbGVtZW50IG11c3QgYmUgc3BlY2lmaWVkLicpO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2NhbnZhcycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGFpbmVyIGVsZW1lbnQgbXVzdCBiZSBhIGNhbnZhcy4nKTtcbiAgICB9XG4gICAgdGhpcy5jYW52YXMgPSBjb250YWluZXIgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICAvLyBHZXQgYSAyZCBjb250ZXh0XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKGNvbnRleHQgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGdldCBhIDJkIGNvbnRleHQuXCIpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSByZXNpemVcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIHRoaXMucmVzaXplKCk7XG5cbiAgICAvLyBJbml0aWFsaXNlIHN1YnN5c3RlbXMuLi5cbiAgICBEZWJ1Zy5pbml0aWFsaXNlKCk7XG4gICAgSW5wdXQuaW5pdGlhbGlzZSh0aGlzLmNhbnZhcyk7XG4gICAgdGhpcy5zdGF0ZU1hbmFnZXIgPSBuZXcgU3RhdGVNYW5hZ2VyKCk7XG5cbiAgICAvLyBURVNUXG4gICAgLy8gQ29udGVudC50ZXN0KCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2l6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIC8vIERpc2FibGUgaW1hZ2Ugc21vb3RoaW5nIGZvciBwaXhlbGF0ZWQgZ3JhcGhpY3NcbiAgICB0aGlzLmNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGlzZSB0aGUgZ2FtZSBhbmQgc3RhcnQgcGxheWluZ1xuICAgKi9cbiAgcHVibGljIGluaXRpYWxpc2UoKTogdm9pZCB7XG5cbiAgICAvLyBMb2FkIGNvbnRlbnQgYXNzZXRzIGFuZCBwdXNoIGxvYWRpbmcgc3RhdGVcbiAgICAvLyAuLi5cblxuICAgIC8vIFN0YXJ0IHRoZSBnYW1lIGxvb3BcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aGlzLmxhc3RGcmFtZUNvdW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMubG9vcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb29wKCk6IHZvaWQge1xuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gTWF0aC5taW4obm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lLCBjb25zdGFudHMuRlBTX01JTik7XG5cbiAgICAvLyBDYWxjdWxhdGUgZnJhbWVyYXRlXG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID49IDEwMDApIHtcbiAgICAgIHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID0gbm93O1xuICAgICAgdGhpcy5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICB0aGlzLmZyYW1lQ291bnQgPSAwO1xuICAgIH1cbiAgICB0aGlzLmZyYW1lQ291bnQrKztcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XG4gICAgaWYgKGNvbmZpZy5zaG93RlBTKSB7XG4gICAgICBEZWJ1Zy52YWx1ZSgnRlBTJywgdGhpcy5mcmFtZVJhdGUsIHsgYWxpZ246ICdyaWdodCcgfSk7XG4gICAgfVxuXG4gICAgLy8gRG8gZ2FtZSBsb29wXG4gICAgdGhpcy51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgIHRoaXMuZHJhdygpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZShkdCk7XG4gICAgSW5wdXQudXBkYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXcoKTogdm9pZCB7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKGNvbmZpZy5zY2FsZUZhY3RvciwgMCwgMCwgY29uZmlnLnNjYWxlRmFjdG9yLCAwLCAwKTtcbiAgICB0aGlzLnN0YXRlTWFuYWdlci5kcmF3KHRoaXMuY29udGV4dCk7XG4gICAgRGVidWcuZHJhdyh0aGlzLmNvbnRleHQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBLZXkgfSBmcm9tIFwiLi9lbnVtc1wiO1xuaW1wb3J0IHsgdmVjIH0gZnJvbSBcIkBiYXNlbWVudHVuaXZlcnNlL2NvbW1vbmpzXCI7XG5cbnR5cGUgTW91c2VTdGF0ZSA9IHtcbiAgYnV0dG9uOiBib29sZWFuLFxuICBwb3NpdGlvbjogdmVjLFxuICB3aGVlbDogbnVtYmVyXG59O1xuXG50eXBlIEtleWJvYXJkU3RhdGUgPSB7XG4gIFtrZXkgaW4gS2V5XT86IGJvb2xlYW5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IElucHV0O1xuICBwcml2YXRlIGtleWJvYXJkU3RhdGU6IEtleWJvYXJkU3RhdGUgPSB7fTtcbiAgcHJpdmF0ZSBwcmV2aW91c0tleWJvYXJkU3RhdGU6IEtleWJvYXJkU3RhdGUgPSB7fTtcbiAgcHJpdmF0ZSBtb3VzZVN0YXRlOiBNb3VzZVN0YXRlID0geyBidXR0b246IGZhbHNlLCBwb3NpdGlvbjogdmVjKCksIHdoZWVsOiAwIH07XG4gIHByaXZhdGUgcHJldmlvdXNNb3VzZVN0YXRlOiBNb3VzZVN0YXRlID0geyBidXR0b246IGZhbHNlLCBwb3NpdGlvbjogdmVjKCksIHdoZWVsOiAwIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS5idXR0b24gPSB0cnVlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS5wb3NpdGlvbi54ID0gZS5vZmZzZXRYO1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLnBvc2l0aW9uLnkgPSBlLm9mZnNldFk7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcbiAgICAgIHRoaXMua2V5Ym9hcmRTdGF0ZVtlLmNvZGUgYXMgS2V5XSA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG4gICAgICB0aGlzLmtleWJvYXJkU3RhdGVbZS5jb2RlIGFzIEtleV0gPSBmYWxzZTtcbiAgICB9KTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBlID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS53aGVlbCA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBpbnB1dCBtYW5hZ2VyIGZvciBtYW5hZ2luZyBtb3VzZSBhbmQga2V5Ym9hcmQgaW5wdXRcbiAgICogQHBhcmFtIGNhbnZhcyBUaGUgZ2FtZSBjYW52YXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogdm9pZCB7XG4gICAgSW5wdXQuaW5zdGFuY2UgPSBuZXcgSW5wdXQoY2FudmFzKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldEluc3RhbmNlKCk6IElucHV0IHtcbiAgICBpZiAoSW5wdXQuaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnB1dCBtYW5hZ2VyIG5vdCBwcm9wZXJseSBpbml0aWFsaXNlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gSW5wdXQuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgaW5wdXQgZGV2aWNlc1xuICAgKi9cbiAgcHVibGljIHN0YXRpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dC5nZXRJbnN0YW5jZSgpO1xuICAgIGlucHV0LnByZXZpb3VzS2V5Ym9hcmRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGlucHV0LmtleWJvYXJkU3RhdGUpO1xuICAgIGlucHV0LnByZXZpb3VzTW91c2VTdGF0ZSA9IHtcbiAgICAgIGJ1dHRvbjogaW5wdXQubW91c2VTdGF0ZS5idXR0b24sXG4gICAgICBwb3NpdGlvbjogdmVjLmNweShpbnB1dC5tb3VzZVN0YXRlLnBvc2l0aW9uKSxcbiAgICAgIHdoZWVsOiAwXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBjaGVjaywgb3IgYW55IGtleSBpZiBub3Qgc3BlY2lmaWVkXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGtleURvd24oa2V5PzogS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dC5nZXRJbnN0YW5jZSgpO1xuXG4gICAgLy8gQ2hlY2sgaWYgYW55IGtleSBpcyBkb3duXG4gICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IGsgaW4gaW5wdXQua2V5Ym9hcmRTdGF0ZSkge1xuICAgICAgICBpZiAoaW5wdXQua2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gISFpbnB1dC5rZXlib2FyZFN0YXRlW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBrZXkgaGFzIGJlZW4gcHJlc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZVxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gY2hlY2ssIG9yIGFueSBrZXkgaWYgbm90IHNwZWNpZmllZFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBrZXlQcmVzc2VkKGtleT86IEtleSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlucHV0ID0gSW5wdXQuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBrZXkgd2FzIHByZXNzZWRcbiAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgayBpbiBpbnB1dC5rZXlib2FyZFN0YXRlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbnB1dC5rZXlib2FyZFN0YXRlW2sgYXMgS2V5XSAmJlxuICAgICAgICAgIChcbiAgICAgICAgICAgICEoayBpbiBpbnB1dC5wcmV2aW91c0tleWJvYXJkU3RhdGUpIHx8XG4gICAgICAgICAgICAhaW5wdXQucHJldmlvdXNLZXlib2FyZFN0YXRlW2sgYXMgS2V5XVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICEhaW5wdXQua2V5Ym9hcmRTdGF0ZVtrZXldICYmICFpbnB1dC5wcmV2aW91c0tleWJvYXJkU3RhdGVba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBoYXMgYmVlbiByZWxlYXNlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZVxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gY2hlY2ssIG9yIGFueSBrZXkgaWYgbm90IHNwZWNpZmllZFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBrZXlSZWxlYXNlZChrZXk/OiBLZXkpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0LmdldEluc3RhbmNlKCk7XG5cbiAgICAvLyBDaGVjayBpZiBhbnkga2V5IHdhcyByZWxlYXNlZFxuICAgIGlmIChrZXkgPT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCBrIGluIGlucHV0LmtleWJvYXJkU3RhdGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpbnB1dC5rZXlib2FyZFN0YXRlW2sgYXMgS2V5XSAmJlxuICAgICAgICAgICEhaW5wdXQucHJldmlvdXNLZXlib2FyZFN0YXRlW2sgYXMgS2V5XVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIWlucHV0LmtleWJvYXJkU3RhdGVba2V5XSAmJiAhIWlucHV0LnByZXZpb3VzS2V5Ym9hcmRTdGF0ZVtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSBwcmVzc2VkIGRvd25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VEb3duKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlucHV0ID0gSW5wdXQuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gISFpbnB1dC5tb3VzZVN0YXRlLmJ1dHRvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG1vdXNlIGJ1dHRvbiBoYXMgYmVlbiBwcmVzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlUHJlc3NlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0LmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuICEhaW5wdXQubW91c2VTdGF0ZS5idXR0b24gJiYgIWlucHV0LnByZXZpb3VzTW91c2VTdGF0ZS5idXR0b247XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBtb3VzZSBidXR0b24gaGFzIGJlZW4gcmVsZWFzZWQgc2luY2UgdGhlIGxhc3QgZnJhbWVcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VSZWxlYXNlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0LmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuICFpbnB1dC5tb3VzZVN0YXRlLmJ1dHRvbiAmJiAhIWlucHV0LnByZXZpb3VzTW91c2VTdGF0ZS5idXR0b247XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG1vdXNld2hlZWwgaXMgc2Nyb2xsaW5nIHVwXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlV2hlZWxVcCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0LmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIGlucHV0Lm1vdXNlU3RhdGUud2hlZWwgPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBtb3VzZXdoZWVsIGlzIHNjcm9sbGluZyBkb3duXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlV2hlZWxEb3duKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlucHV0ID0gSW5wdXQuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gaW5wdXQubW91c2VTdGF0ZS53aGVlbCA8IDA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IG1vdXNlIHBvc2l0aW9uIGluIHNjcmVlbi1zcGFjZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZVBvc2l0aW9uKCk6IHZlYyB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dC5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBpbnB1dC5tb3VzZVN0YXRlLnBvc2l0aW9uO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgRlBTX01JTiA9IDEgLyAzMDtcbiIsImV4cG9ydCBlbnVtIFN0YXRlVHJhbnNpdGlvblR5cGUge1xuICBJbixcbiAgT3V0LFxuICBOb25lXG59XG5cbmV4cG9ydCBlbnVtIEtleSB7XG4gIFVwID0gJ0Fycm93VXAnLFxuICBEb3duID0gJ0Fycm93RG93bicsXG4gIExlZnQgPSAnQXJyb3dMZWZ0JyxcbiAgUmlnaHQgPSAnQXJyb3dSaWdodCdcbn1cbiIsImltcG9ydCBHYW1lIGZyb20gJy4vR2FtZSc7XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIGNvbnN0IGdhbWUgPSBuZXcgR2FtZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ2FtZScpKTtcbiAgZ2FtZS5pbml0aWFsaXNlKCk7XG59O1xuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL1N0YXRlJztcbmltcG9ydCB7IFN0YXRlVHJhbnNpdGlvblR5cGUgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGVzOiBTdGF0ZVtdID0gW107XG5cbiAgcHVibGljIHB1c2goc3RhdGU6IFN0YXRlKTogU3RhdGUge1xuICAgIHRoaXMuc3RhdGVzLnB1c2goc3RhdGUpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBzdGF0ZSBoYXMgYSByZWZlcmVuY2UgdG8gdGhlIHN0YXRlIG1hbmFnZXJcbiAgICBzdGF0ZS5zdGF0ZU1hbmFnZXIgPSB0aGlzO1xuXG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgc3RhdGUgYW5kIHN0YXJ0IHRyYW5zaXRpb25pbmcgaW5cbiAgICBzdGF0ZS5pbml0aWFsaXNlKCk7XG4gICAgc3RhdGUudHJhbnNpdGlvbkluKCk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgcHVibGljIHBvcCgpOiBTdGF0ZSB8IG51bGwge1xuICAgIGlmICh0aGlzLnN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgbGFzdDogbnVtYmVyID0gdGhpcy5zdGF0ZXMubGVuZ3RoIC0gMTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSB0b3AtbW9zdCBzdGF0ZSB0aGF0IGlzbid0IGN1cnJlbnRseSB0cmFuc2l0aW9uaW5nIG91dFxuICAgICAgd2hpbGUgKGxhc3QgPiAwICYmIHRoaXMuc3RhdGVzW2xhc3RdLnRyYW5zaXRpb25UeXBlID09PSBTdGF0ZVRyYW5zaXRpb25UeXBlLk91dCkge1xuICAgICAgICBsYXN0LS07XG4gICAgICB9XG4gICAgICBpZiAobGFzdCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZXNbbGFzdF07XG5cbiAgICAgICAgLy8gU3RhcnQgdHJhbnNpdGlvbmluZyBvdXRcbiAgICAgICAgc3RhdGUudHJhbnNpdGlvbk91dCgpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgaWYgKHN0YXRlLnRyYW5zaXRpb25UeXBlICE9PSBTdGF0ZVRyYW5zaXRpb25UeXBlLk91dCkge1xuICAgICAgICBzdGF0ZS50cmFuc2l0aW9uT3V0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAvLyBPbmx5IHVwZGF0ZSB0aGUgdG9wLW1vc3Qgc3RhdGUgdGhhdCBpc24ndCBjdXJyZW50bHkgdHJhbnNpdGlvbmluZyBvdXRcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0YXRlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzW2ldLnRyYW5zaXRpb25UeXBlICE9PSBTdGF0ZVRyYW5zaXRpb25UeXBlLk91dCkge1xuICAgICAgICAgIHRoaXMuc3RhdGVzW2ldLnVwZGF0ZShkdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGFsbCBzdGF0ZSB0cmFuc2l0aW9uc1xuICAgICAgdGhpcy5zdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiB7XG4gICAgICAgIHN0YXRlLnVwZGF0ZVRyYW5zaXRpb24oZHQpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSBhbnkgZGlzcG9zZWQgc3RhdGVzXG4gICAgICB0aGlzLnN0YXRlcyA9IHRoaXMuc3RhdGVzLmZpbHRlcihzdGF0ZSA9PiAhc3RhdGUuZGlzcG9zZWQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBkcmF3U3RhdGVzID0gW3RoaXMuc3RhdGVzW3RoaXMuc3RhdGVzLmxlbmd0aCAtIDFdXTtcbiAgICAgIGxldCB0cmFuc3BhcmVudFN0YXRlSW5kZXggPSB0aGlzLnN0YXRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAvLyBDcmVhdGUgYSBsaXN0IG9mIHN0YXRlcyB0aGF0IG5lZWQgdG8gYmUgZHJhd24gKHRyYW5zcGFyZW50IHN0YXRlcyBhbHNvIGRpc3BsYXlcbiAgICAgIC8vIHRoZSBzdGF0ZSB1bmRlcm5lYXRoIHRoZW0gaW4gdGhlIHN0YWNrKVxuICAgICAgd2hpbGUgKFxuICAgICAgICB0cmFuc3BhcmVudFN0YXRlSW5kZXggPiAwICYmXG4gICAgICAgIHRoaXMuc3RhdGVzW3RyYW5zcGFyZW50U3RhdGVJbmRleF0udHJhbnNwYXJlbnRcbiAgICAgICkge1xuICAgICAgICBkcmF3U3RhdGVzLnB1c2godGhpcy5zdGF0ZXNbLS10cmFuc3BhcmVudFN0YXRlSW5kZXhdKTtcbiAgICAgIH1cblxuICAgICAgLy8gRHJhdyBzdGF0ZXMgaW4gcmV2ZXJzZSBvcmRlciBpLmUuIGJvdHRvbSB0byB0b3BcbiAgICAgIGZvciAobGV0IGkgPSBkcmF3U3RhdGVzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICBkcmF3U3RhdGVzW2ldLmRyYXcoY29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4iXSwic291cmNlUm9vdCI6IiJ9