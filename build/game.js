(()=>{var t={44:t=>{Math.floatEquals=(t,e,a=Number.EPSILON)=>Math.abs(t-e)<a,Math.clamp=(t,e=0,a=1)=>t<e?e:t>a?a:t,Math.frac=t=>t>=0?t-Math.floor(t):t-Math.ceil(t),Math.lerp=(t,e,a)=>t+(e-t)*a,Math.unlerp=(t,e,a)=>(a-t)/(e-t),Math.blerp=(t,e,a,s,n,r)=>Math.lerp(Math.lerp(t,e,n),Math.lerp(a,s,n),r),Math.remap=(t,e,a,s,n)=>s+(t-e)*(n-s)/(a-e),Math.smoothstep=(t,e,a)=>Math.lerp(t,e,3*Math.pow(a,2)-2*Math.pow(a,3)),Math.radians=t=>Math.PI/180*t,Math.degrees=t=>180/Math.PI*t,Math.randomBetween=(t,e)=>Math.random()*(e-t)+t,Math.randomIntBetween=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,Math.cltRandom=(t=.5,e=.5,a=2)=>{let s=0;for(let t=a;t--;)s+=Math.random();return t+(s-a/2)/(a/2)*e},Math.cltRandomInt=(t,e)=>Math.floor(t+Math.cltRandom(.5,.5,2)*(e+1-t)),Math.weightedRandom=t=>{let e=t.reduce(((t,e)=>t+e),0),a=0;const s=Math.random()*e;for(;e>s;)e-=t[a++];return a-1},Math.lerpArray=(t,e,a=Math.lerp)=>{const s=e*(t.length-1),n=Math.clamp(Math.trunc(s),0,t.length-1);return a(t[n]||0,t[n+1]||0,Math.frac(s))},Math.dot=(t,e)=>t.reduce(((t,a,s)=>t+a*e[s]),0),Math.factorial=t=>{let e=1;for(let a=2;a<=t;a++)e*=a;return e},Math.permutation=(t,e)=>Math.factorial(t)/Math.factorial(t-e),Math.combination=(t,e)=>Math.factorial(t)/(Math.factorial(e)*Math.factorial(t-e)),Array.times=(t,e)=>Array(e).fill(0).map(((e,a)=>t(a))),Array.range=t=>Array.times((t=>t),t),Object.defineProperty(Array.prototype,"at",{value:function(t){const e=this.length;return this[t<0?e-Math.abs(t+1)%e-1:t%e]}}),Object.defineProperty(Array.prototype,"chunk",{value:function(t){return Array.times((e=>this.slice(e*t,e*t+t)),Math.ceil(this.length/t))}}),Object.defineProperty(Array.prototype,"shuffle",{value:function(){return this.map((t=>[Math.random(),t])).sort(((t,e)=>t[0]-e[0])).map((t=>t[1]))}});const e=(t,e)=>t||e?"object"==typeof t?{x:t.x||0,y:t.y||0}:null==e?{x:t,y:t}:{x:t,y:e}:{x:0,y:0};e.components=t=>[t.x,t.y],e.ux=()=>e(1,0),e.uy=()=>e(0,1),e.add=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),e.mul=(t,e)=>({x:t.x*e,y:t.y*e}),e.sub=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),e.len=t=>Math.sqrt(t.x*t.x+t.y*t.y),e.manhattan=t=>Math.abs(t.x)+Math.abs(t.y),e.nor=t=>{let a=e.len(t);return a?{x:t.x/a,y:t.y/a}:e()},e.dot=(t,e)=>t.x*e.x+t.y*e.y,e.rot=(t,e)=>{let a=Math.sin(e),s=Math.cos(e);return{x:s*t.x-a*t.y,y:a*t.x+s*t.y}},e.eq=(t,e)=>t.x===e.x&&t.y===e.y,e.rad=t=>Math.atan2(t.y,t.x),e.cpy=t=>e(t),e.map=(t,e)=>({x:e(t.x,"x"),y:e(t.y,"y")}),e.str=(t,e=", ")=>`${t.x}${e}${t.y}`;const a=(t=4,e=4,a=[])=>({m:t,n:e,entries:a.concat(Array(t*e).fill(0)).slice(0,t*e)});a.identity=t=>a(t,t,Array(t*t).fill(0).map(((e,a)=>+(Math.floor(a/t)===a%t)))),a.get=(t,e,a)=>t.entries[a-1+(e-1)*t.n],a.set=(t,e,a,s)=>{t.entries[a-1+(e-1)*t.n]=s},a.row=(t,e)=>{const a=(e-1)*t.n;return t.entries.slice(a,a+t.n)},a.col=(t,e)=>Array.times((s=>a.get(t,s+1,e)),t.m),a.add=(t,e)=>t.m===e.m&&t.n===e.n&&a.map(t,((t,a)=>t+e.entries[a])),a.sub=(t,e)=>t.m===e.m&&t.n===e.n&&a.map(t,((t,a)=>t-e.entries[a])),a.mul=(t,e)=>{if(t.n!==e.m)return!1;const s=a(t.m,e.n);for(let n=1;n<=t.m;n++)for(let r=1;r<=e.n;r++)a.set(s,n,r,Math.dot(a.row(t,n),a.col(e,r)));return s},a.scale=(t,e)=>a.map(t,(t=>t*e)),a.trans=t=>a(t.n,t.m,Array.times((e=>a.col(t,e+1)),t.n).flat()),a.minor=(t,e,s)=>{if(t.m!==t.n)return!1;const n=[];for(let r=1;r<=t.m;r++)if(r!==e)for(let e=1;e<=t.n;e++)e!==s&&n.push(a.get(t,r,e));return a(t.m-1,t.n-1,n)},a.det=t=>{if(t.m!==t.n)return!1;if(1===t.m)return t.entries[0];if(2===t.m)return t.entries[0]*t.entries[3]-t.entries[1]*t.entries[2];let e=0,s=1;for(let n=1;n<=t.n;n++)e+=s*t.entries[n-1]*a.det(a.minor(t,1,n)),s*=-1;return e},a.nor=t=>{if(t.m!==t.n)return!1;const e=a.det(t);return a.map(t,(t=>t*e))},a.adj=t=>{const e=a(t.m,t.n);for(let s=1;s<=t.m;s++)for(let n=1;n<=t.n;n++)a.set(e,s,n,a.det(a.minor(t,s,n)));const s=a.map(e,((t,e)=>t*(e%2?-1:1)));return a.trans(s)},a.inv=t=>{if(t.m!==t.n)return!1;const e=a.det(t);return 0!==e&&a.scale(a.adj(t),1/e)},a.eq=(t,e)=>t.m===e.m&&t.n===e.n&&a.str(t)===a.str(e),a.cpy=t=>a(t.m,t.n,[...t.entries]),a.map=(t,e)=>a(t.m,t.n,t.entries.map(e)),a.str=(t,e=", ",a="\n")=>t.entries.chunk(t.n).map((t=>t.join(e))).join(a),t.exports={vec:e,mat:a}},76:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(44),n=a(269);class r{constructor(t={}){this.defaultOptions={margin:10,padding:4,font:"10pt Lucida Console, monospace",lineHeight:12,foregroundColour:"#fff",backgroundColour:"#3338",defaultValue:{align:"left",showLabel:!0},defaultMarker:{showLabel:!0,showValue:!0,showMarker:!0,markerSize:6,markerStyle:"x",markerColour:"#ccc",space:"world",labelOffset:s.vec(10)}},this.options=Object.assign({},this.defaultOptions,t),this.values=new Map,this.markers=new Map}static initialise(t={}){r.instance=new r(t)}static getInstance(){return null==r.instance&&r.initialise(),r.instance}static value(t,e,a={}){const s=r.getInstance();s.values.set(t,Object.assign({label:t,value:e},s.defaultOptions.defaultValue,a))}static marker(t,e,a,s={}){const n=r.getInstance();n.markers.set(t,Object.assign({label:t,value:e,position:a},n.defaultOptions.defaultMarker,s))}static draw(t){const e=r.getInstance();let a;t.save(),t.scale(1/n.scaleFactor,1/n.scaleFactor),e.markers.forEach((a=>{"world"===a.space&&e.drawMarker(t,a)})),t.restore(),t.save(),t.setTransform(1,0,0,1,0,0);let o=e.options.margin,i=e.options.margin;const l=e.options.lineHeight+2*e.options.padding;e.values.forEach((n=>{var r,u,h,c;switch(n.align){case"left":a=s.vec(e.options.margin,o),o+=l;break;case"right":a=s.vec(t.canvas.clientWidth-e.options.margin,i),i+=l}e.drawLabel(t,(n.showLabel?n.label+": ":"")+n.value,a,n.align,null!==(r=n.padding)&&void 0!==r?r:e.options.padding,null!==(u=n.font)&&void 0!==u?u:e.options.font,null!==(h=n.foregroundColour)&&void 0!==h?h:e.options.foregroundColour,null!==(c=n.backgroundColour)&&void 0!==c?c:e.options.backgroundColour)})),e.markers.forEach((a=>{"screen"===a.space&&e.drawMarker(t,a)})),t.restore(),e.values.clear(),e.markers.clear()}drawMarker(t,e){var a,r,o,i,l;t.save();const u=s.vec.mul(null!==(a=e.position)&&void 0!==a?a:s.vec(),n.scaleFactor);if((e.showLabel||e.showValue)&&this.drawLabel(t,(e.showLabel?e.label+": ":"")+(e.showValue?""+e.value:""),s.vec.add(null!=u?u:s.vec(),e.labelOffset),"left",null!==(r=e.padding)&&void 0!==r?r:this.options.padding,null!==(o=e.font)&&void 0!==o?o:this.options.font,null!==(i=e.foregroundColour)&&void 0!==i?i:this.options.foregroundColour,null!==(l=e.backgroundColour)&&void 0!==l?l:this.options.backgroundColour),e.showMarker)switch(t.lineWidth=2,t.strokeStyle=t.fillStyle=e.markerColour,e.markerStyle){case"x":this.drawCross(t,u,e.markerSize);break;case"+":this.drawPlus(t,u,e.markerSize);break;case".":this.drawDot(t,u,e.markerSize)}t.restore()}drawLabel(t,e,a,s,n,r,o,i){t.save(),t.font=r,t.textBaseline="top";const l={width:t.measureText(e).width+2*n,height:this.options.lineHeight+2*n},u="right"===s?a.x-l.width:a.x;t.fillStyle=i,t.fillRect(u-n,a.y-n,l.width,l.height),t.fillStyle=o,t.fillText(e,u,a.y),t.restore()}drawCross(t,e,a){t.beginPath();const s=a/2;t.moveTo(e.x-s,e.y-s),t.lineTo(e.x+s,e.y+s),t.moveTo(e.x-s,e.y+s),t.lineTo(e.x+s,e.y-s),t.stroke()}drawPlus(t,e,a){t.beginPath();const s=a/2;t.moveTo(e.x,e.y-s),t.lineTo(e.x,e.y+s),t.moveTo(e.x-s,e.y),t.lineTo(e.x+s,e.y),t.stroke()}drawDot(t,e,a){t.beginPath(),t.arc(e.x,e.y,a/2,0,2*Math.PI),t.fill()}}e.default=r},221:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(269),n=a(601),r=a(76),o=a(934),i=a(318);e.default=class{constructor(t){if(this.frameRate=0,this.frameCount=0,null===t)throw new Error("A valid container element must be specified.");if("canvas"!==t.tagName.toLowerCase())throw new Error("Container element must be a canvas.");this.canvas=t;const e=this.canvas.getContext("2d");if(null===e)throw new Error("Couldn't get a 2d context.");this.context=e,window.addEventListener("resize",this.resize.bind(this),!1),this.resize(),r.default.initialise(),o.default.initialise(this.canvas),this.stateManager=new i.default}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context.imageSmoothingEnabled=!1}initialise(){this.lastFrameTime=this.lastFrameCountTime=performance.now(),this.loop()}loop(){const t=performance.now(),e=Math.min(t-this.lastFrameTime,n.FPS_MIN);t-this.lastFrameCountTime>=1e3&&(this.lastFrameCountTime=t,this.frameRate=this.frameCount,this.frameCount=0),this.frameCount++,this.lastFrameTime=t,s.showFPS&&r.default.value("FPS",this.frameRate,{align:"right"}),this.update(e),this.draw(),window.requestAnimationFrame(this.loop.bind(this))}update(t){this.stateManager.update(t),o.default.update()}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.setTransform(s.scaleFactor,0,0,s.scaleFactor,0,0),this.stateManager.draw(this.context),r.default.draw(this.context)}}},934:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(44);class n{constructor(t){this.keyboardState={},this.previousKeyboardState={},this.mouseState={button:!1,position:s.vec(),wheel:0},this.previousMouseState={button:!1,position:s.vec(),wheel:0},window.addEventListener("mousedown",(()=>{this.mouseState.button=!0})),window.addEventListener("mouseup",(()=>{this.mouseState.button=!1})),window.addEventListener("touchstart",(()=>{this.mouseState.button=!0})),window.addEventListener("touchend",(()=>{this.mouseState.button=!1})),window.addEventListener("mousemove",(t=>{this.mouseState.position.x=t.offsetX,this.mouseState.position.y=t.offsetY})),window.addEventListener("keydown",(t=>{this.keyboardState[t.code]=!0})),window.addEventListener("keyup",(t=>{this.keyboardState[t.code]=!1})),window.addEventListener("wheel",(t=>{this.mouseState.wheel=t.deltaY>0?1:-1}))}static initialise(t){n.instance=new n(t)}static getInstance(){if(null==n.instance)throw new Error("Input manager not properly initialised");return n.instance}static update(){const t=n.getInstance();t.previousKeyboardState=Object.assign({},t.keyboardState),t.previousMouseState={button:t.mouseState.button,position:s.vec.cpy(t.mouseState.position),wheel:0}}static keyDown(t){const e=n.getInstance();if(null==t){for(let t in e.keyboardState)if(e.keyboardState[t])return!0;return!1}return!!e.keyboardState[t]}static keyPressed(t){const e=n.getInstance();if(null==t){for(let t in e.keyboardState)if(e.keyboardState[t]&&(!(t in e.previousKeyboardState)||!e.previousKeyboardState[t]))return!0;return!1}return!!e.keyboardState[t]&&!e.previousKeyboardState[t]}static keyReleased(t){const e=n.getInstance();if(null==t){for(let t in e.keyboardState)if(!e.keyboardState[t]&&e.previousKeyboardState[t])return!0;return!1}return!e.keyboardState[t]&&!!e.previousKeyboardState[t]}static mouseDown(){return!!n.getInstance().mouseState.button}static mousePressed(){const t=n.getInstance();return!!t.mouseState.button&&!t.previousMouseState.button}static mouseReleased(){const t=n.getInstance();return!t.mouseState.button&&!!t.previousMouseState.button}static mouseWheelUp(){return n.getInstance().mouseState.wheel>0}static mouseWheelDown(){return n.getInstance().mouseState.wheel<0}static mousePosition(){return n.getInstance().mouseState.position}}e.default=n},318:(t,e,a)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(900);e.default=class{constructor(){this.states=[]}push(t){return this.states.push(t),t.stateManager=this,t.initialise(),t.transitionIn(),t}pop(){if(this.states.length>0){let t=this.states.length-1;for(;t>0&&this.states[t].transitionType===s.StateTransitionType.Out;)t--;if(t>=0){const e=this.states[t];return e.transitionOut(),e}}return null}clear(){this.states.forEach((t=>{t.transitionType!==s.StateTransitionType.Out&&t.transitionOut()}))}update(t){if(this.states.length>0){for(let e=this.states.length;e--;)if(this.states[e].transitionType!==s.StateTransitionType.Out){this.states[e].update(t);break}this.states.forEach((e=>{e.updateTransition(t)})),this.states=this.states.filter((t=>!t.disposed))}}draw(t){if(this.states.length>0){const e=[this.states[this.states.length-1]];let a=this.states.length-1;for(;a>0&&this.states[a].transparent;)e.push(this.states[--a]);for(let a=e.length;a--;)e[a].draw(t)}}}},601:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FPS_MIN=void 0,e.FPS_MIN=1/30},900:(t,e)=>{"use strict";var a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Key=e.StateTransitionType=void 0,(s=e.StateTransitionType||(e.StateTransitionType={}))[s.In=0]="In",s[s.Out=1]="Out",s[s.None=2]="None",(a=e.Key||(e.Key={})).Up="ArrowUp",a.Down="ArrowDown",a.Left="ArrowLeft",a.Right="ArrowRight"},607:(t,e,a)=>{"use strict";const s=a(221);window.onload=()=>{new s.default(document.querySelector("#game")).initialise()}},269:t=>{"use strict";t.exports=JSON.parse('{"title":"RPG Game","scaleFactor":2,"showFPS":true}')}},e={};!function a(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,a),n.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycGctZ2FtZS8uL25vZGVfbW9kdWxlcy9AYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qcy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvRGVidWcudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9JbnB1dE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcnBnLWdhbWUvLi9zcmMvU3RhdGVNYW5hZ2VyLnRzIiwid2VicGFjazovL3JwZy1nYW1lLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9lbnVtcy50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9ycGctZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ycGctZ2FtZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiTWF0aCIsImZsb2F0RXF1YWxzIiwiYSIsImIiLCJwIiwiTnVtYmVyIiwiRVBTSUxPTiIsImFicyIsImNsYW1wIiwibWluIiwibWF4IiwiZnJhYyIsImZsb29yIiwiY2VpbCIsImxlcnAiLCJpIiwidW5sZXJwIiwiYmxlcnAiLCJjMDAiLCJjMTAiLCJjMDEiLCJjMTEiLCJpeCIsIml5IiwicmVtYXAiLCJhMSIsImEyIiwiYjEiLCJiMiIsInNtb290aHN0ZXAiLCJwb3ciLCJyYWRpYW5zIiwiZGVncmVlcyIsIlBJIiwicmFuZG9tQmV0d2VlbiIsInJhbmRvbSIsInJhbmRvbUludEJldHdlZW4iLCJjbHRSYW5kb20iLCJtdSIsInNpZ21hIiwic2FtcGxlcyIsInRvdGFsIiwiY2x0UmFuZG9tSW50Iiwid2VpZ2h0ZWRSYW5kb20iLCJ3IiwicmVkdWNlIiwibiIsInIiLCJsZXJwQXJyYXkiLCJmIiwicyIsImxlbmd0aCIsInRydW5jIiwiZG90IiwidiIsImZhY3RvcmlhbCIsInJlc3VsdCIsInBlcm11dGF0aW9uIiwiY29tYmluYXRpb24iLCJBcnJheSIsInRpbWVzIiwiZmlsbCIsIm1hcCIsIl8iLCJyYW5nZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG90eXBlIiwidmFsdWUiLCJsIiwidGhpcyIsInNsaWNlIiwic29ydCIsInZlYyIsIngiLCJ5IiwiY29tcG9uZW50cyIsInV4IiwidXkiLCJhZGQiLCJtdWwiLCJzdWIiLCJsZW4iLCJzcXJ0IiwibWFuaGF0dGFuIiwibm9yIiwicm90Iiwic2luIiwiYyIsImNvcyIsImVxIiwicmFkIiwiYXRhbjIiLCJjcHkiLCJzdHIiLCJtYXQiLCJtIiwiZW50cmllcyIsImNvbmNhdCIsImlkZW50aXR5IiwiZ2V0IiwiaiIsInNldCIsInJvdyIsImNvbCIsInNjYWxlIiwidHJhbnMiLCJmbGF0IiwibWlub3IiLCJpaSIsImpqIiwicHVzaCIsImRldCIsInNpZ24iLCJkIiwiYWRqIiwibWlub3JzIiwiY29mYWN0b3JzIiwiaW52IiwibXMiLCJucyIsImNodW5rIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJEZWJ1ZyIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIm1hcmdpbiIsInBhZGRpbmciLCJmb250IiwibGluZUhlaWdodCIsImZvcmVncm91bmRDb2xvdXIiLCJiYWNrZ3JvdW5kQ29sb3VyIiwiZGVmYXVsdFZhbHVlIiwiYWxpZ24iLCJzaG93TGFiZWwiLCJkZWZhdWx0TWFya2VyIiwic2hvd1ZhbHVlIiwic2hvd01hcmtlciIsIm1hcmtlclNpemUiLCJtYXJrZXJTdHlsZSIsIm1hcmtlckNvbG91ciIsInNwYWNlIiwibGFiZWxPZmZzZXQiLCJhc3NpZ24iLCJ2YWx1ZXMiLCJNYXAiLCJtYXJrZXJzIiwiaW5zdGFuY2UiLCJpbml0aWFsaXNlIiwibGFiZWwiLCJkZWJ1ZyIsImdldEluc3RhbmNlIiwicG9zaXRpb24iLCJjb250ZXh0Iiwic2F2ZSIsImNvbmZpZyIsInNjYWxlRmFjdG9yIiwiZm9yRWFjaCIsIm1hcmtlciIsImRyYXdNYXJrZXIiLCJyZXN0b3JlIiwic2V0VHJhbnNmb3JtIiwibGVmdFkiLCJyaWdodFkiLCJjYW52YXMiLCJjbGllbnRXaWR0aCIsImRyYXdMYWJlbCIsImNsZWFyIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJmaWxsU3R5bGUiLCJkcmF3Q3Jvc3MiLCJkcmF3UGx1cyIsImRyYXdEb3QiLCJ0ZXh0IiwidGV4dEJhc2VsaW5lIiwiYmFja2dyb3VuZFNpemUiLCJ3aWR0aCIsIm1lYXN1cmVUZXh0IiwiaGVpZ2h0IiwiZmlsbFJlY3QiLCJmaWxsVGV4dCIsInNpemUiLCJiZWdpblBhdGgiLCJoYWxmU2l6ZSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFyYyIsImNvbnRhaW5lciIsImZyYW1lUmF0ZSIsImZyYW1lQ291bnQiLCJFcnJvciIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldENvbnRleHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwiYmluZCIsInN0YXRlTWFuYWdlciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImxhc3RGcmFtZVRpbWUiLCJsYXN0RnJhbWVDb3VudFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImxvb3AiLCJlbGFwc2VkVGltZSIsImNvbnN0YW50cyIsIkZQU19NSU4iLCJzaG93RlBTIiwidXBkYXRlIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImR0IiwiY2xlYXJSZWN0IiwiSW5wdXRNYW5hZ2VyIiwia2V5Ym9hcmRTdGF0ZSIsInByZXZpb3VzS2V5Ym9hcmRTdGF0ZSIsIm1vdXNlU3RhdGUiLCJidXR0b24iLCJ3aGVlbCIsInByZXZpb3VzTW91c2VTdGF0ZSIsImUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNvZGUiLCJkZWx0YVkiLCJpbnB1dCIsImtleSIsImsiLCJzdGF0ZXMiLCJzdGF0ZSIsInRyYW5zaXRpb25JbiIsImxhc3QiLCJ0cmFuc2l0aW9uVHlwZSIsIlN0YXRlVHJhbnNpdGlvblR5cGUiLCJPdXQiLCJ0cmFuc2l0aW9uT3V0IiwidXBkYXRlVHJhbnNpdGlvbiIsImZpbHRlciIsImRpc3Bvc2VkIiwiZHJhd1N0YXRlcyIsInRyYW5zcGFyZW50U3RhdGVJbmRleCIsInRyYW5zcGFyZW50IiwiS2V5Iiwib25sb2FkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJtYXBwaW5ncyI6Im9CQWVBQSxLQUFLQyxZQUFjLENBQUNDLEVBQUdDLEVBQUdDLEVBQUlDLE9BQU9DLFVBQVlOLEtBQUtPLElBQUlMLEVBQUlDLEdBQUtDLEVBU25FSixLQUFLUSxNQUFRLENBQUNOLEVBQUdPLEVBQU0sRUFBR0MsRUFBTSxJQUFNUixFQUFJTyxFQUFNQSxFQUFPUCxFQUFJUSxFQUFNQSxFQUFNUixFQU92RUYsS0FBS1csS0FBT1QsR0FBS0EsR0FBSyxFQUFJQSxFQUFJRixLQUFLWSxNQUFNVixHQUFLQSxFQUFJRixLQUFLYSxLQUFLWCxHQVM1REYsS0FBS2MsS0FBTyxDQUFDWixFQUFHQyxFQUFHWSxJQUFNYixHQUFLQyxFQUFJRCxHQUFLYSxFQVN2Q2YsS0FBS2dCLE9BQVMsQ0FBQ2QsRUFBR0MsRUFBR1ksS0FBT0EsRUFBSWIsSUFBTUMsRUFBSUQsR0FZMUNGLEtBQUtpQixNQUFRLENBQUNDLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUlDLElBQU92QixLQUFLYyxLQUFLZCxLQUFLYyxLQUFLSSxFQUFLQyxFQUFLRyxHQUFLdEIsS0FBS2MsS0FBS00sRUFBS0MsRUFBS0MsR0FBS0MsR0FXekd2QixLQUFLd0IsTUFBUSxDQUFDVCxFQUFHVSxFQUFJQyxFQUFJQyxFQUFJQyxJQUFPRCxHQUFNWixFQUFJVSxJQUFPRyxFQUFLRCxJQUFPRCxFQUFLRCxHQVN0RXpCLEtBQUs2QixXQUFhLENBQUMzQixFQUFHQyxFQUFHWSxJ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LE0iLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG92ZXJ2aWV3IEEgbGlicmFyeSBvZiB1c2VmdWwgZnVuY3Rpb25zXG4gKiBAYXV0aG9yIEdvcmRvbiBMYXJyaWdhblxuICogQHZlcnNpb24gMS4yLjhcbiAqL1xuXG4vKiogQGNsYXNzIE1hdGggKi9cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbFxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyIGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIE51bWJlciBiXG4gKiBAcGFyYW0ge251bWJlcn0gW3A9TnVtYmVyLkVQU0lMT05dIFRoZSBwcmVjaXNpb24gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbnVtYmVycyBhIGFuZCBiIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsXG4gKi9cbk1hdGguZmxvYXRFcXVhbHMgPSAoYSwgYiwgcCA9IE51bWJlci5FUFNJTE9OKSA9PiBNYXRoLmFicyhhIC0gYikgPCBwO1xuXG4vKipcbiAqIENsYW1wIGEgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBudW1iZXIgdG8gY2xhbXBcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWluPTBdIFRoZSBtaW5pbXVtIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW21heD0xXSBUaGUgbWF4aW11bSB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBBIGNsYW1wZWQgbnVtYmVyXG4gKi9cbk1hdGguY2xhbXAgPSAoYSwgbWluID0gMCwgbWF4ID0gMSkgPT4gYSA8IG1pbiA/IG1pbiA6IChhID4gbWF4ID8gbWF4IDogYSk7XG5cbi8qKlxuICogR2V0IHRoZSBmcmFjdGlvbmFsIHBhcnQgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBudW1iZXIgZnJvbSB3aGljaCB0byBnZXQgdGhlIGZyYWN0aW9uYWwgcGFydFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBudW1iZXJcbiAqL1xuTWF0aC5mcmFjID0gYSA9PiBhID49IDAgPyBhIC0gTWF0aC5mbG9vcihhKSA6IGEgLSBNYXRoLmNlaWwoYSk7XG5cbi8qKlxuICogRG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIGEgYW5kIGJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBtaW5pbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIG1heGltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW50ZXJwb2xhdGlvbiB2YWx1ZSwgc2hvdWxkIGJlIGluIHRoZSBpbnRlcnZhbCBbMCwgMV1cbiAqIEByZXR1cm4ge251bWJlcn0gQW4gaW50ZXJwb2xhdGVkIHZhbHVlIGluIHRoZSBpbnRlcnZhbCBbYSwgYl1cbiAqL1xuTWF0aC5sZXJwID0gKGEsIGIsIGkpID0+IGEgKyAoYiAtIGEpICogaTtcblxuLyoqXG4gKiBHZXQgdGhlIHBvc2l0aW9uIG9mIGkgYmV0d2VlbiBhIGFuZCBiXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgbWluaW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBtYXhpbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwb3NpdGlvbiBvZiBpIGJldHdlZW4gYSBhbmQgYlxuICovXG5NYXRoLnVubGVycCA9IChhLCBiLCBpKSA9PiAoaSAtIGEpIC8gKGIgLSBhKTtcblxuLyoqXG4gKiBEbyBhIGJpbGluZWFyIGludGVycG9sYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBjMDAgVG9wLWxlZnQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjMTAgVG9wLXJpZ2h0IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gYzAxIEJvdHRvbS1sZWZ0IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gYzExIEJvdHRvbS1yaWdodCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGl4IEludGVycG9sYXRpb24gdmFsdWUgYWxvbmcgeFxuICogQHBhcmFtIHtudW1iZXJ9IGl5IEludGVycG9sYXRpb24gdmFsdWUgYWxvbmcgeVxuICogQHJldHVybiB7bnVtYmVyfSBBIGJpbGluZWFyIGludGVycG9sYXRlZCB2YWx1ZVxuICovXG5NYXRoLmJsZXJwID0gKGMwMCwgYzEwLCBjMDEsIGMxMSwgaXgsIGl5KSA9PiBNYXRoLmxlcnAoTWF0aC5sZXJwKGMwMCwgYzEwLCBpeCksIE1hdGgubGVycChjMDEsIGMxMSwgaXgpLCBpeSk7XG5cbi8qKlxuICogUmUtbWFwIGEgbnVtYmVyIGkgZnJvbSByYW5nZSBhMS4uLmEyIHRvIGIxLi4uYjJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBudW1iZXIgdG8gcmUtbWFwXG4gKiBAcGFyYW0ge251bWJlcn0gYTFcbiAqIEBwYXJhbSB7bnVtYmVyfSBhMlxuICogQHBhcmFtIHtudW1iZXJ9IGIxXG4gKiBAcGFyYW0ge251bWJlcn0gYjJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuTWF0aC5yZW1hcCA9IChpLCBhMSwgYTIsIGIxLCBiMikgPT4gYjEgKyAoaSAtIGExKSAqIChiMiAtIGIxKSAvIChhMiAtIGExKTtcblxuLyoqXG4gKiBEbyBhIHNtb290aCBpbnRlcnBvbGF0aW9uIGJldHdlZW4gYSBhbmQgYlxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIG1pbmltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgbWF4aW11bSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKi9cbk1hdGguc21vb3Roc3RlcCA9IChhLCBiLCBpKSA9PiBNYXRoLmxlcnAoYSwgYiwgMyAqIE1hdGgucG93KGksIDIpIC0gMiAqIE1hdGgucG93KGksIDMpKTtcblxuLyoqXG4gKiBHZXQgYW4gYW5nbGUgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIGRlZ3JlZXNcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuTWF0aC5yYWRpYW5zID0gZGVncmVlcyA9PiAoTWF0aC5QSSAvIDE4MCkgKiBkZWdyZWVzO1xuXG4vKipcbiAqIEdldCBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYW5nbGUgaW4gZGVncmVlc1xuICovXG5NYXRoLmRlZ3JlZXMgPSByYWRpYW5zID0+ICgxODAgLyBNYXRoLlBJKSAqIHJhZGlhbnM7XG5cbi8qKlxuICogR2V0IGEgcmFuZG9tIGZsb2F0IGluIHRoZSBpbnRlcnZhbCBbbWluLCBtYXgpXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIEluY2x1c2l2ZSBtaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggRXhjbHVzaXZlIG1heFxuICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBmbG9hdCBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4KVxuICovXG5NYXRoLnJhbmRvbUJldHdlZW4gPSAobWluLCBtYXgpID0+IE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcblxuLyoqXG4gKiBHZXQgYSByYW5kb20gaW50ZWdlciBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4XVxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBJbmNsdXNpdmUgbWluXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEluY2x1c2l2ZSBtYXhcbiAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gaW50ZWdlciBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4XVxuICovXG5NYXRoLnJhbmRvbUludEJldHdlZW4gPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG5cbi8qKlxuICogR2V0IGEgbm9ybWFsbHktZGlzdHJpYnV0ZWQgcmFuZG9tIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IFttdT0wLjVdIFRoZSBtZWFuIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gW3NpZ21hPTAuNV0gVGhlIHN0YW5kYXJkIGRldmlhdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtzYW1wbGVzPTJdIFRoZSBudW1iZXIgb2Ygc2FtcGxlc1xuICogQHJldHVybiB7bnVtYmVyfSBBIG5vcm1hbGx5LWRpc3RyaWJ1dGVkIHJhbmRvbSBudW1iZXJcbiAqL1xuTWF0aC5jbHRSYW5kb20gPSAobXUgPSAwLjUsIHNpZ21hID0gMC41LCBzYW1wbGVzID0gMikgPT4ge1xuICBsZXQgdG90YWwgPSAwO1xuICBmb3IgKGxldCBpID0gc2FtcGxlczsgaS0tOykge1xuICAgIHRvdGFsICs9IE1hdGgucmFuZG9tKCk7XG4gIH1cbiAgcmV0dXJuIG11ICsgKHRvdGFsIC0gc2FtcGxlcyAvIDIpIC8gKHNhbXBsZXMgLyAyKSAqIHNpZ21hO1xufTtcblxuLyoqXG4gKiBHZXQgYSBub3JtYWxseS1kaXN0cmlidXRlZCByYW5kb20gaW50ZWdlciBpbiB0aGUgaW50ZXJ2YWwgW21pbiwgbWF4XVxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBJbmNsdXNpdmUgbWluXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IEluY2x1c2l2ZSBtYXhcbiAqIEByZXR1cm4ge251bWJlcn0gQSBub3JtYWxseS1kaXN0cmlidXRlZCByYW5kb20gaW50ZWdlclxuICovXG5NYXRoLmNsdFJhbmRvbUludCA9IChtaW4sIG1heCkgPT4gTWF0aC5mbG9vcihtaW4gKyBNYXRoLmNsdFJhbmRvbSgwLjUsIDAuNSwgMikgKiAobWF4ICsgMSAtIG1pbikpO1xuXG4vKipcbiAqIFJldHVybiBhIHdlaWdodGVkIHJhbmRvbSBpbnRlZ2VyXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHcgQW4gYXJyYXkgb2Ygd2VpZ2h0c1xuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbmRleCBmcm9tIHdcbiAqL1xuTWF0aC53ZWlnaHRlZFJhbmRvbSA9IHcgPT4ge1xuICBsZXQgdG90YWwgPSB3LnJlZHVjZSgoYSwgaSkgPT4gYSArIGksIDApLCBuID0gMDtcbiAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiB0b3RhbDtcbiAgd2hpbGUgKHRvdGFsID4gcikge1xuICAgIHRvdGFsIC09IHdbbisrXTtcbiAgfVxuICByZXR1cm4gbiAtIDE7XG59O1xuXG4vKipcbiAqIEFuIGludGVycG9sYXRpb24gZnVuY3Rpb25cbiAqIEBjYWxsYmFjayBpbnRlcnBvbGF0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBtaW5pbXVtIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIG1heGltdW0gbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW50ZXJwb2xhdGlvbiB2YWx1ZSwgc2hvdWxkIGJlIGluIHRoZSBpbnRlcnZhbCBbMCwgMV1cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGludGVycG9sYXRlZCB2YWx1ZSBpbiB0aGUgaW50ZXJ2YWwgW2EsIGJdXG4gKi9cblxuLyoqXG4gKiBSZXR1cm4gYW4gaW50ZXJwb2xhdGVkIHZhbHVlIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYSBBbiBhcnJheSBvZiB2YWx1ZXMgaW50ZXJwb2xhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIEEgbnVtYmVyIGluIHRoZSBpbnRlcnZhbCBbMCwgMV1cbiAqIEBwYXJhbSB7aW50ZXJwb2xhdGlvbkNhbGxiYWNrfSBbZj1NYXRoLmxlcnBdIFRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHRvIHVzZVxuICogQHJldHVybiB7bnVtYmVyfSBBbiBpbnRlcnBvbGF0ZWQgdmFsdWUgaW4gdGhlIGludGVydmFsIFttaW4oYSksIG1heChhKV1cbiAqL1xuTWF0aC5sZXJwQXJyYXkgPSAoYSwgaSwgZiA9IE1hdGgubGVycCkgPT4ge1xuICBjb25zdCBzID0gaSAqIChhLmxlbmd0aCAtIDEpO1xuICBjb25zdCBwID0gTWF0aC5jbGFtcChNYXRoLnRydW5jKHMpLCAwLCBhLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gZihhW3BdIHx8IDAsIGFbcCArIDFdIHx8IDAsIE1hdGguZnJhYyhzKSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYSBWZWN0b3IgYVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGEg4oiZIGJcbiAqL1xuTWF0aC5kb3QgPSAoYSwgYikgPT4gYS5yZWR1Y2UoKG4sIHYsIGkpID0+IG4gKyB2ICogYltpXSwgMCk7XG5cbi8qKlxuICogR2V0IHRoZSBmYWN0b3JpYWwgb2YgYSBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGEhXG4gKi9cbk1hdGguZmFjdG9yaWFsID0gYSA9PiB7XG4gIGxldCByZXN1bHQgPSAxO1xuICBmb3IgKGxldCBpID0gMjsgaSA8PSBhOyBpKyspIHtcbiAgICByZXN1bHQgKj0gaTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG51bWJlciBvZiBwZXJtdXRhdGlvbnMgb2YgciBlbGVtZW50cyBmcm9tIGEgc2V0IG9mIG4gZWxlbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gKiBAcGFyYW0ge251bWJlcn0gclxuICogQHJldHVybiB7bnVtYmVyfSBuUHJcbiAqL1xuTWF0aC5wZXJtdXRhdGlvbiA9IChuLCByKSA9PiBNYXRoLmZhY3RvcmlhbChuKSAvIE1hdGguZmFjdG9yaWFsKG4gLSByKTtcblxuLyoqXG4gKiBHZXQgdGhlIG51bWJlciBvZiBjb21iaW5hdGlvbnMgb2YgciBlbGVtZW50cyBmcm9tIGEgc2V0IG9mIG4gZWxlbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuXG4gKiBAcGFyYW0ge251bWJlcn0gclxuICogQHJldHVybiB7bnVtYmVyfSBuQ3JcbiAqL1xuTWF0aC5jb21iaW5hdGlvbiA9IChuLCByKSA9PiBNYXRoLmZhY3RvcmlhbChuKSAvIChNYXRoLmZhY3RvcmlhbChyKSAqIE1hdGguZmFjdG9yaWFsKG4gLSByKSk7XG5cbi8qKiBAY2xhc3MgQXJyYXkgKi9cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIGZvciBnZW5lcmF0aW5nIGFycmF5IHZhbHVlc1xuICogQGNhbGxiYWNrIHRpbWVzQ2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBhcnJheSBpbmRleFxuICogQHJldHVybiB7Kn0gVGhlIGFycmF5IHZhbHVlXG4gKi9cblxuLyoqXG4gKiBSZXR1cm4gYSBuZXcgYXJyYXkgd2l0aCBsZW5ndGggbiBieSBjYWxsaW5nIGZ1bmN0aW9uIGYoaSkgb24gZWFjaCBlbGVtZW50XG4gKiBAcGFyYW0ge3RpbWVzQ2FsbGJhY2t9IGZcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSBhcnJheVxuICogQHJldHVybiB7QXJyYXk8Kj59XG4gKi9cbkFycmF5LnRpbWVzID0gKGYsIG4pID0+IEFycmF5KG4pLmZpbGwoMCkubWFwKChfLCBpKSA9PiBmKGkpKTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyBudW1iZXJzIDAtPihuIC0gMSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSBhcnJheVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW4gYXJyYXkgb2YgaW50ZWdlcnMgMC0+KG4gLSAxKVxuICovXG5BcnJheS5yYW5nZSA9IG4gPT4gQXJyYXkudGltZXMoaSA9PiBpLCBuKTtcblxuLyoqXG4gKiBSZXR1cm4gYXJyYXlbaV0gd2l0aCBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgd3JhcHBpbmdcbiAqIEBuYW1lIGF0XG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBBcnJheS5wcm90b3R5cGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBwb3NpdGl2ZWx5L25lZ2F0aXZlbHkgd3JhcHBlZCBhcnJheSBpbmRleFxuICogQHJldHVybiB7Kn0gQW4gZWxlbWVudCBmcm9tIHRoZSBhcnJheVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnYXQnLCB7XG4gIHZhbHVlOiBmdW5jdGlvbiAoaSkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxlbmd0aDtcbiAgICByZXR1cm4gdGhpc1tpIDwgMCA/IGwgLSAoTWF0aC5hYnMoaSArIDEpICUgbCkgLSAxIDogaSAlIGxdO1xuICB9XG59KTtcblxuLyoqXG4gKiBDaG9wIGFuIGFycmF5IGludG8gY2h1bmtzIG9mIHNpemUgblxuICogQG5hbWUgY2h1bmtcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIEFycmF5LnByb3RvdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGNodW5rIHNpemVcbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PCo+Pn0gQW4gYXJyYXkgb2YgYXJyYXkgY2h1bmtzXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdjaHVuaycsIHtcbiAgdmFsdWU6IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIEFycmF5LnRpbWVzKGkgPT4gdGhpcy5zbGljZShpICogbiwgaSAqIG4gKyBuKSwgTWF0aC5jZWlsKHRoaXMubGVuZ3RoIC8gbikpO1xuICB9XG59KTtcblxuLyoqXG4gKiBSYW5kb21seSBzaHVmZmxlIGFuIGFycmF5IGluLXBsYWNlXG4gKiBAbmFtZSBzaHVmZmxlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBBcnJheS5wcm90b3R5cGVcbiAqIEByZXR1cm4ge0FycmF5PCo+fSBUaGUgc2h1ZmZsZWQgYXJyYXlcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NodWZmbGUnLCB7XG4gIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGEgPT4gW01hdGgucmFuZG9tKCksIGFdKS5zb3J0KChhLCBiKSA9PiBhWzBdIC0gYlswXSkubWFwKGEgPT4gYVsxXSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEEgMmQgdmVjdG9yXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSB2ZWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gKiBAcHJvcGVydHkge251bWJlcn0geSBUaGUgeSBjb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICovXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHZlY3RvclxuICogQHBhcmFtIHtudW1iZXJ8dmVjfSBbeF0gVGhlIHggY29tcG9uZW50IG9mIHRoZSB2ZWN0b3IsIG9yIGEgdmVjdG9yIHRvIGNvcHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeV0gVGhlIHkgY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAqIEByZXR1cm4ge3ZlY30gQSBuZXcgdmVjdG9yXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5WYXJpb3VzIHdheXMgdG8gaW5pdGlhbGlzZSBhIHZlY3RvcjwvY2FwdGlvbj5cbiAqIGxldCBhID0gdmVjKDMsIDIpOyAgLy8gKDMsIDIpXG4gKiBsZXQgYiA9IHZlYyg0KTsgICAgIC8vICg0LCA0KVxuICogbGV0IGMgPSB2ZWMoYSk7ICAgICAvLyAoMywgMilcbiAqIGxldCBkID0gdmVjKCk7ICAgICAgLy8gKDAsIDApXG4gKi9cbmNvbnN0IHZlYyA9ICh4LCB5KSA9PiAoIXggJiYgIXkgP1xuICB7IHg6IDAsIHk6IDAgfSA6ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgP1xuICAgIHsgeDogeC54IHx8IDAsIHk6IHgueSB8fCAwIH0gOiAoeSA9PT0gbnVsbCB8fCB5ID09PSB1bmRlZmluZWQgP1xuICAgICAgeyB4OiB4LCB5OiB4IH0gOiB7IHg6IHgsIHk6IHkgfSlcbiAgKVxuKTtcblxuLyoqXG4gKiBHZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWN0b3IgYXMgYW4gYXJyYXlcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gZ2V0IGNvbXBvbmVudHMgZnJvbVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIHZlY3RvciBjb21wb25lbnRzIGFzIGFuIGFycmF5XG4gKi9cbnZlYy5jb21wb25lbnRzID0gYSA9PiBbYS54LCBhLnldO1xuXG4vKipcbiAqIFJldHVybiBhIHVuaXQgdmVjdG9yICgxLCAwKVxuICogQHJldHVybiB7dmVjfSBBIHVuaXQgdmVjdG9yICgxLCAwKVxuICovXG52ZWMudXggPSAoKSA9PiB2ZWMoMSwgMCk7XG5cbi8qKlxuICogUmV0dXJuIGEgdW5pdCB2ZWN0b3IgKDAsIDEpXG4gKiBAcmV0dXJuIHt2ZWN9IEEgdW5pdCB2ZWN0b3IgKDAsIDEpXG4gKi9cbnZlYy51eSA9ICgpID0+IHZlYygwLCAxKTtcblxuLyoqXG4gKiBBZGQgdmVjdG9yc1xuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjfSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHt2ZWN9IGEgKyBiXG4gKi9cbnZlYy5hZGQgPSAoYSwgYikgPT4gKHsgeDogYS54ICsgYi54LCB5OiBhLnkgKyBiLnkgfSk7XG5cbi8qKlxuICogU2NhbGUgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge251bWJlcn0gYiBTY2FsYXIgYlxuICogQHJldHVybiB7dmVjfSBhICogYlxuICovXG52ZWMubXVsID0gKGEsIGIpID0+ICh7IHg6IGEueCAqIGIsIHk6IGEueSAqIGIgfSk7XG5cbi8qKlxuICogU3VidHJhY3QgdmVjdG9yc1xuICogQHBhcmFtIHt2ZWN9IGEgVmVjdG9yIGFcbiAqIEBwYXJhbSB7dmVjfSBiIFZlY3RvciBiXG4gKiBAcmV0dXJuIHt2ZWN9IGEgLSBiXG4gKi9cbnZlYy5zdWIgPSAoYSwgYikgPT4gKHsgeDogYS54IC0gYi54LCB5OiBhLnkgLSBiLnkgfSk7XG5cbi8qKlxuICogR2V0IHRoZSBsZW5ndGggb2YgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHxhfFxuICovXG52ZWMubGVuID0gYSA9PiBNYXRoLnNxcnQoYS54ICogYS54ICsgYS55ICogYS55KTtcblxuLyoqXG4gKiBHZXQgdGhlIGxlbmd0aCBvZiBhIHZlY3RvciB1c2luZyB0YXhpY2FiIGdlb21ldHJ5XG4gKiBAcGFyYW0ge3ZlY30gYSBWZWN0b3IgYVxuICogQHJldHVybiB7bnVtYmVyfSB8YXxcbiAqL1xudmVjLm1hbmhhdHRhbiA9IGEgPT4gTWF0aC5hYnMoYS54KSArIE1hdGguYWJzKGEueSk7XG5cbi8qKlxuICogTm9ybWFsaXNlIGEgdmVjdG9yXG4gKiBAcGFyYW0ge3ZlY30gYSBUaGUgdmVjdG9yIHRvIG5vcm1hbGlzZVxuICogQHJldHVybiB7dmVjfSBeYVxuICovXG52ZWMubm9yID0gYSA9PiB7XG4gIGxldCBsZW4gPSB2ZWMubGVuKGEpO1xuICByZXR1cm4gbGVuID8geyB4OiBhLnggLyBsZW4sIHk6IGEueSAvIGxlbiB9IDogdmVjKCk7XG59O1xuXG4vKipcbiAqIEdldCBhIGRvdCBwcm9kdWN0IG9mIHZlY3RvcnNcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY30gYiBWZWN0b3IgYlxuICogQHJldHVybiB7bnVtYmVyfSBhIOKImSBiXG4gKi9cbnZlYy5kb3QgPSAoYSwgYikgPT4gYS54ICogYi54ICsgYS55ICogYi55O1xuXG4vKipcbiAqIFJvdGF0ZSBhIHZlY3RvciBieSByIHJhZGlhbnNcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gciBUaGUgYW5nbGUgdG8gcm90YXRlIGJ5LCBtZWFzdXJlZCBpbiByYWRpYW5zXG4gKiBAcmV0dXJuIHt2ZWN9IEEgcm90YXRlZCB2ZWN0b3JcbiAqL1xudmVjLnJvdCA9IChhLCByKSA9PiB7XG4gIGxldCBzID0gTWF0aC5zaW4ociksXG4gICAgYyA9IE1hdGguY29zKHIpO1xuICByZXR1cm4geyB4OiBjICogYS54IC0gcyAqIGEueSwgeTogcyAqIGEueCArIGMgKiBhLnkgfTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmVjdG9ycyBhcmUgZXF1YWxcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY30gYiBWZWN0b3IgYlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB2ZWN0b3JzIGEgYW5kIGIgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xudmVjLmVxID0gKGEsIGIpID0+IGEueCA9PT0gYi54ICYmIGEueSA9PT0gYi55O1xuXG4vKipcbiAqIEdldCB0aGUgYW5nbGUgb2YgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhbmdsZSBvZiB2ZWN0b3IgYSBpbiByYWRpYW5zXG4gKi9cbnZlYy5yYWQgPSBhID0+IE1hdGguYXRhbjIoYS55LCBhLngpO1xuXG4vKipcbiAqIENvcHkgYSB2ZWN0b3JcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gY29weVxuICogQHJldHVybiB7dmVjfSBBIGNvcHkgb2YgdmVjdG9yIGFcbiAqL1xudmVjLmNweSA9IGEgPT4gdmVjKGEpO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIGNvbXBvbmVudCBvZiBhIHZlY3RvclxuICogQGNhbGxiYWNrIHZlY3Rvck1hcENhbGxiYWNrXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGNvbXBvbmVudCB2YWx1ZVxuICogQHBhcmFtIHsneCcgfCAneSd9IGxhYmVsIFRoZSBjb21wb25lbnQgbGFiZWwgKHggb3IgeSlcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1hcHBlZCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIENhbGwgYSBmdW5jdGlvbiBvbiBlYWNoIGNvbXBvbmVudCBvZiBhIHZlY3RvciBhbmQgYnVpbGQgYSBuZXcgdmVjdG9yIGZyb20gdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSB7dmVjfSBhIFZlY3RvciBhXG4gKiBAcGFyYW0ge3ZlY3Rvck1hcENhbGxiYWNrfSBmIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAqIEByZXR1cm4ge3ZlY30gVmVjdG9yIGEgbWFwcGVkIHRocm91Z2ggZlxuICovXG52ZWMubWFwID0gKGEsIGYpID0+ICh7IHg6IGYoYS54LCAneCcpLCB5OiBmKGEueSwgJ3knKSB9KTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgdmVjdG9yIGludG8gYSBzdHJpbmdcbiAqIEBwYXJhbSB7dmVjfSBhIFRoZSB2ZWN0b3IgdG8gY29udmVydFxuICogQHBhcmFtIHtzdHJpbmd9IFtzPScsICddIFRoZSBzZXBhcmF0b3Igc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xudmVjLnN0ciA9IChhLCBzID0gJywgJykgPT4gYCR7YS54fSR7c30ke2EueX1gO1xuXG4vKipcbiAqIEEgbWF0cml4XG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBtYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtIFRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgbWF0cml4XG4gKiBAcHJvcGVydHkge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIG1hdHJpeFxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBlbnRyaWVzIFRoZSBtYXRyaXggdmFsdWVzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0cml4XG4gKiBAcGFyYW0ge251bWJlcn0gW209NF0gVGhlIG51bWJlciBvZiByb3dzXG4gKiBAcGFyYW0ge251bWJlcn0gW249NF0gVGhlIG51bWJlciBvZiBjb2x1bW5zXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtlbnRyaWVzPVtdXSBNYXRyaXggdmFsdWVzIGluIHJlYWRpbmcgb3JkZXJcbiAqIEByZXR1cm4ge21hdH0gQSBuZXcgbWF0cml4XG4gKi9cbmNvbnN0IG1hdCA9IChtID0gNCwgbiA9IDQsIGVudHJpZXMgPSBbXSkgPT4gKHtcbiAgbSwgbixcbiAgZW50cmllczogZW50cmllcy5jb25jYXQoQXJyYXkobSAqIG4pLmZpbGwoMCkpLnNsaWNlKDAsIG0gKiBuKVxufSk7XG5cbi8qKlxuICogR2V0IGFuIGlkZW50aXR5IG1hdHJpeCBvZiBzaXplIG5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBzaXplIG9mIHRoZSBtYXRyaXhcbiAqIEByZXR1cm4ge21hdH0gQW4gaWRlbnRpdHkgbWF0cml4XG4gKi9cbm1hdC5pZGVudGl0eSA9IG4gPT4gbWF0KG4sIG4sIEFycmF5KG4gKiBuKS5maWxsKDApLm1hcCgodiwgaSkgPT4gKyhNYXRoLmZsb29yKGkgLyBuKSA9PT0gaSAlIG4pKSk7XG5cbi8qKlxuICogR2V0IGFuIGVudHJ5IGZyb20gYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgcm93IG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGogVGhlIGNvbHVtbiBvZmZzZXRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZhbHVlIGF0IHBvc2l0aW9uIChpLCBqKSBpbiBtYXRyaXggYVxuICovXG5tYXQuZ2V0ID0gKGEsIGksIGopID0+IGEuZW50cmllc1soaiAtIDEpICsgKGkgLSAxKSAqIGEubl07XG5cbi8qKlxuICogU2V0IGFuIGVudHJ5IG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIHJvdyBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBqIFRoZSBjb2x1bW4gb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gdiBUaGUgdmFsdWUgdG8gc2V0IGluIG1hdHJpeCBhXG4gKi9cbm1hdC5zZXQgPSAoYSwgaSwgaiwgdikgPT4geyBhLmVudHJpZXNbKGogLSAxKSArIChpIC0gMSkgKiBhLm5dID0gdjsgfTtcblxuLyoqXG4gKiBHZXQgYSByb3cgZnJvbSBhIG1hdHJpeCBhcyBhbiBhcnJheVxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBtIFRoZSByb3cgb2Zmc2V0XG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSb3cgbSBmcm9tIG1hdHJpeCBhXG4gKi9cbm1hdC5yb3cgPSAoYSwgbSkgPT4ge1xuICBjb25zdCBzID0gKG0gLSAxKSAqIGEubjtcbiAgcmV0dXJuIGEuZW50cmllcy5zbGljZShzLCBzICsgYS5uKTtcbn07XG5cbi8qKlxuICogR2V0IGEgY29sdW1uIGZyb20gYSBtYXRyaXggYXMgYW4gYXJyYXlcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgY29sdW1uIG9mZnNldFxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQ29sdW1uIG4gZnJvbSBtYXRyaXggYVxuICovXG5tYXQuY29sID0gKGEsIG4pID0+IEFycmF5LnRpbWVzKGkgPT4gbWF0LmdldChhLCAoaSArIDEpLCBuKSwgYS5tKTtcblxuLyoqXG4gKiBBZGQgbWF0cmljZXNcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdH0gYiBNYXRyaXggYlxuICogQHJldHVybiB7bWF0fSBhICsgYlxuICovXG5tYXQuYWRkID0gKGEsIGIpID0+IGEubSA9PT0gYi5tICYmIGEubiA9PT0gYi5uICYmIG1hdC5tYXAoYSwgKHYsIGkpID0+IHYgKyBiLmVudHJpZXNbaV0pO1xuXG4vKipcbiAqIFN1YnRyYWN0IG1hdHJpY2VzXG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHttYXR9IGIgTWF0cml4IGJcbiAqIEByZXR1cm4ge21hdH0gYSAtIGJcbiAqL1xubWF0LnN1YiA9IChhLCBiKSA9PiBhLm0gPT09IGIubSAmJiBhLm4gPT09IGIubiAmJiBtYXQubWFwKGEsICh2LCBpKSA9PiB2IC0gYi5lbnRyaWVzW2ldKTtcblxuLyoqXG4gKiBNdWx0aXBseSBtYXRyaWNlc1xuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0fSBiIE1hdHJpeCBiXG4gKiBAcmV0dXJuIHttYXR8Ym9vbGVhbn0gYWIgb3IgZmFsc2UgaWYgdGhlIG1hdHJpY2VzIGNhbm5vdCBiZSBtdWx0aXBsaWVkXG4gKi9cbm1hdC5tdWwgPSAoYSwgYikgPT4ge1xuICBpZiAoYS5uICE9PSBiLm0pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGNvbnN0IHJlc3VsdCA9IG1hdChhLm0sIGIubik7XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGEubTsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPD0gYi5uOyBqKyspIHtcbiAgICAgIG1hdC5zZXQocmVzdWx0LCBpLCBqLCBNYXRoLmRvdChtYXQucm93KGEsIGkpLCBtYXQuY29sKGIsIGopKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFNjYWxlIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGIgU2NhbGFyIGJcbiAqIEByZXR1cm4ge21hdH0gYSAqIGJcbiAqL1xubWF0LnNjYWxlID0gKGEsIGIpID0+IG1hdC5tYXAoYSwgdiA9PiB2ICogYik7XG5cbi8qKlxuICogVHJhbnNwb3NlIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIHRyYW5zcG9zZVxuICogQHJldHVybiB7bWF0fSBBIHRyYW5zcG9zZWQgbWF0cml4XG4gKi9cbm1hdC50cmFucyA9IGEgPT4gbWF0KGEubiwgYS5tLCBBcnJheS50aW1lcyhpID0+IG1hdC5jb2woYSwgKGkgKyAxKSksIGEubikuZmxhdCgpKTtcblxuLyoqXG4gKiBHZXQgdGhlIG1pbm9yIG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBNYXRyaXggYVxuICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIHJvdyBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBqIFRoZSBjb2x1bW4gb2Zmc2V0XG4gKiBAcmV0dXJuIHttYXR8Ym9vbGVhbn0gVGhlIChpLCBqKSBtaW5vciBvZiBtYXRyaXggYSBvciBmYWxzZSBpZiB0aGUgbWF0cml4IGlzIG5vdCBzcXVhcmVcbiAqL1xubWF0Lm1pbm9yID0gKGEsIGksIGopID0+IHtcbiAgaWYgKGEubSAhPT0gYS5uKSB7IHJldHVybiBmYWxzZTsgfVxuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGZvciAobGV0IGlpID0gMTsgaWkgPD0gYS5tOyBpaSsrKSB7XG4gICAgaWYgKGlpID09PSBpKSB7IGNvbnRpbnVlOyB9XG4gICAgZm9yIChsZXQgamogPSAxOyBqaiA8PSBhLm47IGpqKyspIHtcbiAgICAgIGlmIChqaiA9PT0gaikgeyBjb250aW51ZTsgfVxuICAgICAgZW50cmllcy5wdXNoKG1hdC5nZXQoYSwgaWksIGpqKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXQoYS5tIC0gMSwgYS5uIC0gMSwgZW50cmllcyk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcmV0dXJuIHtudW1iZXJ8Ym9vbGVhbn0gfGF8IG9yIGZhbHNlIGlmIHRoZSBtYXRyaXggaXMgbm90IHNxdWFyZVxuICovXG5tYXQuZGV0ID0gYSA9PiB7XG4gIGlmIChhLm0gIT09IGEubikgeyByZXR1cm4gZmFsc2U7IH1cbiAgaWYgKGEubSA9PT0gMSkge1xuICAgIHJldHVybiBhLmVudHJpZXNbMF07XG4gIH1cbiAgaWYgKGEubSA9PT0gMikge1xuICAgIHJldHVybiBhLmVudHJpZXNbMF0gKiBhLmVudHJpZXNbM10gLSBhLmVudHJpZXNbMV0gKiBhLmVudHJpZXNbMl07XG4gIH1cbiAgbGV0IHRvdGFsID0gMCwgc2lnbiA9IDE7XG4gIGZvciAobGV0IGogPSAxOyBqIDw9IGEubjsgaisrKSB7XG4gICAgdG90YWwgKz0gc2lnbiAqIGEuZW50cmllc1tqIC0gMV0gKiBtYXQuZGV0KG1hdC5taW5vcihhLCAxLCBqKSk7XG4gICAgc2lnbiAqPSAtMTtcbiAgfVxuICByZXR1cm4gdG90YWw7XG59O1xuXG4vKipcbiAqIE5vcm1hbGlzZSBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCB0byBub3JtYWxpc2VcbiAqIEByZXR1cm4ge21hdHxib29sZWFufSBeYSBvciBmYWxzZSBpZiB0aGUgbWF0cml4IGlzIG5vdCBzcXVhcmVcbiAqL1xubWF0Lm5vciA9IGEgPT4ge1xuICBpZiAoYS5tICE9PSBhLm4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIGNvbnN0IGQgPSBtYXQuZGV0KGEpO1xuICByZXR1cm4gbWF0Lm1hcChhLCBpID0+IGkgKiBkKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdHJpeFxuICogQHBhcmFtIHttYXR9IGEgVGhlIG1hdHJpeCBmcm9tIHdoaWNoIHRvIGdldCB0aGUgYWRqdWdhdGVcbiAqIEByZXR1cm4ge21hdH0gVGhlIGFkanVnYXRlIG9mIGFcbiAqL1xubWF0LmFkaiA9IGEgPT4ge1xuICBjb25zdCBtaW5vcnMgPSBtYXQoYS5tLCBhLm4pO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBhLm07IGkrKykge1xuICAgIGZvciAobGV0IGogPSAxOyBqIDw9IGEubjsgaisrKSB7XG4gICAgICBtYXQuc2V0KG1pbm9ycywgaSwgaiwgbWF0LmRldChtYXQubWlub3IoYSwgaSwgaikpKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgY29mYWN0b3JzID0gbWF0Lm1hcChtaW5vcnMsICh2LCBpKSA9PiB2ICogKGkgJSAyID8gLTEgOiAxKSk7XG4gIHJldHVybiBtYXQudHJhbnMoY29mYWN0b3JzKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBpbnZlcnNlIG9mIGEgbWF0cml4XG4gKiBAcGFyYW0ge21hdH0gYSBUaGUgbWF0cml4IHRvIGludmVydFxuICogQHJldHVybiB7bWF0fGJvb2xlYW59IGFeLTEgb3IgZmFsc2UgaWYgdGhlIG1hdHJpeCBoYXMgbm8gaW52ZXJzZVxuICovXG5tYXQuaW52ID0gYSA9PiB7XG4gIGlmIChhLm0gIT09IGEubikgeyByZXR1cm4gZmFsc2U7IH1cbiAgY29uc3QgZCA9IG1hdC5kZXQoYSk7XG4gIGlmIChkID09PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuICByZXR1cm4gbWF0LnNjYWxlKG1hdC5hZGooYSksIDEgLyBkKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdHdvIG1hdHJpY2VzIGFyZSBlcXVhbFxuICogQHBhcmFtIHttYXR9IGEgTWF0cml4IGFcbiAqIEBwYXJhbSB7bWF0fSBiIE1hdHJpeCBiXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1hdHJpY2VzIGEgYW5kIGIgYXJlIGlkZW50aWNhbCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbm1hdC5lcSA9IChhLCBiKSA9PiBhLm0gPT09IGIubSAmJiBhLm4gPT09IGIubiAmJiBtYXQuc3RyKGEpID09PSBtYXQuc3RyKGIpO1xuXG4vKipcbiAqIENvcHkgYSBtYXRyaXhcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybiB7bWF0fSBBIGNvcHkgb2YgbWF0cml4IGFcbiAqL1xubWF0LmNweSA9IGEgPT4gbWF0KGEubSwgYS5uLCBbLi4uYS5lbnRyaWVzXSk7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggZW50cnkgb2YgYSBtYXRyaXhcbiAqIEBjYWxsYmFjayBtYXRyaXhNYXBDYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBlbnRyeSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBlbnRyeSBpbmRleFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbnRyaWVzIFRoZSBhcnJheSBvZiBtYXRyaXggZW50cmllc1xuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWFwcGVkIGVudHJ5XG4gKi9cblxuLyoqXG4gKiBDYWxsIGEgZnVuY3Rpb24gb24gZWFjaCBlbnRyeSBvZiBhIG1hdHJpeCBhbmQgYnVpbGQgYSBuZXcgbWF0cml4IGZyb20gdGhlIHJlc3VsdHNcbiAqIEBwYXJhbSB7bWF0fSBhIE1hdHJpeCBhXG4gKiBAcGFyYW0ge21hdHJpeE1hcENhbGxiYWNrfSBmIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeFxuICogQHJldHVybiB7bWF0fSBNYXRyaXggYSBtYXBwZWQgdGhyb3VnaCBmXG4gKi9cbm1hdC5tYXAgPSAoYSwgZikgPT4gbWF0KGEubSwgYS5uLCBhLmVudHJpZXMubWFwKGYpKTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgbWF0cml4IGludG8gYSBzdHJpbmdcbiAqIEBwYXJhbSB7bWF0fSBhIFRoZSBtYXRyaXggdG8gY29udmVydFxuICogQHBhcmFtIHtzdHJpbmd9IFttcz0nLCAnXSBUaGUgc2VwYXJhdG9yIHN0cmluZyBmb3IgY29sdW1uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtucz0nXFxuJ10gVGhlIHNlcGFyYXRvciBzdHJpbmcgZm9yIHJvd3NcbiAqIEByZXR1cm4ge3N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5tYXQuc3RyID0gKGEsIG1zID0gJywgJywgbnMgPSAnXFxuJykgPT4gYS5lbnRyaWVzLmNodW5rKGEubikubWFwKHIgPT4gci5qb2luKG1zKSkuam9pbihucyk7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHsgdmVjLCBtYXQgfTtcbn1cbiIsImltcG9ydCB7IHZlYyB9IGZyb20gXCJAYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qc1wiO1xuaW1wb3J0ICogYXMgY29uZmlnIGZyb20gJy4vY29uZmlnLmpzb24nO1xuXG50eXBlIERlYnVnT3B0aW9ucyA9IHtcbiAgbWFyZ2luOiBudW1iZXIsXG4gIHBhZGRpbmc6IG51bWJlcixcbiAgZm9udDogc3RyaW5nLFxuICBsaW5lSGVpZ2h0OiBudW1iZXIsXG4gIGZvcmVncm91bmRDb2xvdXI6IENvbG91cixcbiAgYmFja2dyb3VuZENvbG91cjogQ29sb3VyLFxuICBkZWZhdWx0VmFsdWU6IERlYnVnVmFsdWUsXG4gIGRlZmF1bHRNYXJrZXI6IERlYnVnTWFya2VyXG59O1xuXG50eXBlIERlYnVnVmFsdWUgPSB7XG4gIGxhYmVsPzogc3RyaW5nLFxuICB2YWx1ZT86IG51bWJlciB8IHN0cmluZyxcbiAgYWxpZ246ICdsZWZ0JyB8ICdyaWdodCcsXG4gIHNob3dMYWJlbDogYm9vbGVhbixcbiAgcGFkZGluZz86IG51bWJlcixcbiAgZm9udD86IHN0cmluZyxcbiAgZm9yZWdyb3VuZENvbG91cj86IENvbG91cixcbiAgYmFja2dyb3VuZENvbG91cj86IENvbG91clxufTtcblxudHlwZSBEZWJ1Z01hcmtlciA9IHtcbiAgbGFiZWw/OiBzdHJpbmcsXG4gIHZhbHVlPzogbnVtYmVyIHwgc3RyaW5nLFxuICBwb3NpdGlvbj86IHZlYyxcbiAgc2hvd0xhYmVsOiBib29sZWFuLFxuICBzaG93VmFsdWU6IGJvb2xlYW4sXG4gIHNob3dNYXJrZXI6IGJvb2xlYW4sXG4gIG1hcmtlclNpemU6IG51bWJlcixcbiAgbWFya2VyU3R5bGU6ICd4JyB8ICcrJyB8ICcuJyxcbiAgbWFya2VyQ29sb3VyOiBDb2xvdXIsXG4gIHNwYWNlOiAnd29ybGQnIHwgJ3NjcmVlbicsXG4gIHBhZGRpbmc/OiBudW1iZXIsXG4gIGZvbnQ/OiBzdHJpbmcsXG4gIGxhYmVsT2Zmc2V0OiB2ZWMsXG4gIGZvcmVncm91bmRDb2xvdXI/OiBDb2xvdXIsXG4gIGJhY2tncm91bmRDb2xvdXI/OiBDb2xvdXJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlYnVnIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IERlYnVnO1xuICBwcml2YXRlIHZhbHVlczogTWFwPHN0cmluZywgRGVidWdWYWx1ZT47XG4gIHByaXZhdGUgbWFya2VyczogTWFwPHN0cmluZywgRGVidWdNYXJrZXI+O1xuICBwcml2YXRlIG9wdGlvbnM6IERlYnVnT3B0aW9uc1xuICBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRPcHRpb25zOiBEZWJ1Z09wdGlvbnMgPSB7XG4gICAgbWFyZ2luOiAxMCxcbiAgICBwYWRkaW5nOiA0LFxuICAgIGZvbnQ6ICcxMHB0IEx1Y2lkYSBDb25zb2xlLCBtb25vc3BhY2UnLFxuICAgIGxpbmVIZWlnaHQ6IDEyLFxuICAgIGZvcmVncm91bmRDb2xvdXI6ICcjZmZmJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3VyOiAnIzMzMzgnLFxuICAgIGRlZmF1bHRWYWx1ZToge1xuICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgIHNob3dMYWJlbDogdHJ1ZVxuICAgIH0sXG4gICAgZGVmYXVsdE1hcmtlcjoge1xuICAgICAgc2hvd0xhYmVsOiB0cnVlLFxuICAgICAgc2hvd1ZhbHVlOiB0cnVlLFxuICAgICAgc2hvd01hcmtlcjogdHJ1ZSxcbiAgICAgIG1hcmtlclNpemU6IDYsXG4gICAgICBtYXJrZXJTdHlsZTogJ3gnLFxuICAgICAgbWFya2VyQ29sb3VyOiAnI2NjYycsXG4gICAgICBzcGFjZTogJ3dvcmxkJyxcbiAgICAgIGxhYmVsT2Zmc2V0OiB2ZWMoMTApXG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3Iob3B0aW9uczogUGFydGlhbDxEZWJ1Z09wdGlvbnM+ID0ge30pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICB0aGlzLnZhbHVlcyA9IG5ldyBNYXA8c3RyaW5nLCBEZWJ1Z1ZhbHVlPigpO1xuICAgIHRoaXMubWFya2VycyA9IG5ldyBNYXA8c3RyaW5nLCBEZWJ1Z01hcmtlcj4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBkZWJ1ZyByZW5kZXJlciBmb3IgZGlzcGxheWluZyB2YWx1ZXMgYW5kIG1hcmtlcnNcbiAgICogQHBhcmFtIG9wdGlvbnMgUmVuZGVyaW5nIG9wdGlvbnNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZShvcHRpb25zOiBQYXJ0aWFsPERlYnVnT3B0aW9ucz4gPSB7fSk6IHZvaWQge1xuICAgIERlYnVnLmluc3RhbmNlID0gbmV3IERlYnVnKG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogRGVidWcge1xuICAgIGlmIChEZWJ1Zy5pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICBEZWJ1Zy5pbml0aWFsaXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBEZWJ1Zy5pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgZGVidWcgdmFsdWVcbiAgICogQHBhcmFtIGxhYmVsIFRoZSBsYWJlbCBmb3IgdGhpcyB2YWx1ZVxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIGN1cnJlbnQgdmFsdWVcbiAgICogQHBhcmFtIG9wdGlvbnMgUmVuZGVyaW5nIG9wdGlvbnNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdmFsdWUobGFiZWw6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bWJlciwgb3B0aW9uczogUGFydGlhbDxEZWJ1Z1ZhbHVlPiA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZGVidWcgPSBEZWJ1Zy5nZXRJbnN0YW5jZSgpO1xuICAgIGRlYnVnLnZhbHVlcy5zZXQobGFiZWwsIE9iamVjdC5hc3NpZ24oXG4gICAgICB7IGxhYmVsLCB2YWx1ZSB9LFxuICAgICAgZGVidWcuZGVmYXVsdE9wdGlvbnMuZGVmYXVsdFZhbHVlLFxuICAgICAgb3B0aW9uc1xuICAgICkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYSBtYXJrZXIgaW4gd29ybGQgb3Igc2NyZWVuIHNwYWNlXG4gICAqIEBwYXJhbSBsYWJlbCBUaGUgbGFiZWwgZm9yIHRoaXMgbWFya2VyXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgY3VycmVudCB2YWx1ZVxuICAgKiBAcGFyYW0gcG9zaXRpb24gVGhlIHBvc2l0aW9uIG9mIHRoaXMgbWFya2VyXG4gICAqIEBwYXJhbSBvcHRpb25zIFJlbmRlcmluZyBvcHRpb25zXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1hcmtlcihsYWJlbDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyLCBwb3NpdGlvbjogdmVjLCBvcHRpb25zOiBQYXJ0aWFsPERlYnVnTWFya2VyPiA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZGVidWcgPSBEZWJ1Zy5nZXRJbnN0YW5jZSgpO1xuICAgIGRlYnVnLm1hcmtlcnMuc2V0KGxhYmVsLCBPYmplY3QuYXNzaWduKFxuICAgICAgeyBsYWJlbCwgdmFsdWUsIHBvc2l0aW9uIH0sXG4gICAgICBkZWJ1Zy5kZWZhdWx0T3B0aW9ucy5kZWZhdWx0TWFya2VyLFxuICAgICAgb3B0aW9uc1xuICAgICkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBkZWJ1ZyB2YWx1ZXMgYW5kIG1hcmtlcnMgb250byB0aGUgY29udGV4dFxuICAgKiBAcGFyYW0gY29udGV4dCBUaGUgcmVuZGVyaW5nIGNvbnRleHRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBjb25zdCBkZWJ1ZyA9IERlYnVnLmdldEluc3RhbmNlKCk7XG5cbiAgICAvLyBEcmF3IHdvcmxkLXNwYWNlIG1hcmtlcnNcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LnNjYWxlKDEgLyBjb25maWcuc2NhbGVGYWN0b3IsIDEgLyBjb25maWcuc2NhbGVGYWN0b3IpO1xuICAgIGRlYnVnLm1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4ge1xuICAgICAgaWYgKG1hcmtlci5zcGFjZSA9PT0gJ3dvcmxkJykge1xuICAgICAgICBkZWJ1Zy5kcmF3TWFya2VyKGNvbnRleHQsIG1hcmtlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAvLyBEcmF3IHZhbHVlcyBhbmQgc2NyZWVuLXNwYWNlIG1hcmtlcnNcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICBsZXQgcG9zaXRpb246IHZlYztcbiAgICBsZXQgbGVmdFkgPSBkZWJ1Zy5vcHRpb25zLm1hcmdpbjtcbiAgICBsZXQgcmlnaHRZID0gZGVidWcub3B0aW9ucy5tYXJnaW47XG4gICAgY29uc3QgbGluZUhlaWdodCA9IChkZWJ1Zy5vcHRpb25zLmxpbmVIZWlnaHQgKyBkZWJ1Zy5vcHRpb25zLnBhZGRpbmcgKiAyKTtcbiAgICBkZWJ1Zy52YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBzd2l0Y2ggKHZhbHVlLmFsaWduKSB7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIHBvc2l0aW9uID0gdmVjKGRlYnVnLm9wdGlvbnMubWFyZ2luLCBsZWZ0WSk7XG4gICAgICAgICAgbGVmdFkgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgIHBvc2l0aW9uID0gdmVjKGNvbnRleHQuY2FudmFzLmNsaWVudFdpZHRoIC0gZGVidWcub3B0aW9ucy5tYXJnaW4sIHJpZ2h0WSk7XG4gICAgICAgICAgcmlnaHRZICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWJ1Zy5kcmF3TGFiZWwoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgICh2YWx1ZS5zaG93TGFiZWwgPyBgJHt2YWx1ZS5sYWJlbH06IGAgOiAnJykgKyBgJHt2YWx1ZS52YWx1ZX1gLFxuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgdmFsdWUuYWxpZ24sXG4gICAgICAgIHZhbHVlLnBhZGRpbmcgPz8gZGVidWcub3B0aW9ucy5wYWRkaW5nLFxuICAgICAgICB2YWx1ZS5mb250ID8/IGRlYnVnLm9wdGlvbnMuZm9udCxcbiAgICAgICAgdmFsdWUuZm9yZWdyb3VuZENvbG91ciA/PyBkZWJ1Zy5vcHRpb25zLmZvcmVncm91bmRDb2xvdXIsXG4gICAgICAgIHZhbHVlLmJhY2tncm91bmRDb2xvdXIgPz8gZGVidWcub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3VyXG4gICAgICApO1xuICAgIH0pO1xuICAgIGRlYnVnLm1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4ge1xuICAgICAgaWYgKG1hcmtlci5zcGFjZSA9PT0gJ3NjcmVlbicpIHtcbiAgICAgICAgZGVidWcuZHJhd01hcmtlcihjb250ZXh0LCBtYXJrZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgLy8gQ2xlYXIgdmFsdWVzIGFuZCBtYXJrZXJzIHJlYWR5IGZvciBuZXh0IGZyYW1lXG4gICAgZGVidWcudmFsdWVzLmNsZWFyKCk7XG4gICAgZGVidWcubWFya2Vycy5jbGVhcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3TWFya2VyKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgbWFya2VyOiBEZWJ1Z01hcmtlcik6IHZvaWQge1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdmVjLm11bChtYXJrZXIucG9zaXRpb24gPz8gdmVjKCksIGNvbmZpZy5zY2FsZUZhY3Rvcik7XG4gICAgaWYgKG1hcmtlci5zaG93TGFiZWwgfHwgbWFya2VyLnNob3dWYWx1ZSkge1xuICAgICAgdGhpcy5kcmF3TGFiZWwoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIChtYXJrZXIuc2hvd0xhYmVsID8gYCR7bWFya2VyLmxhYmVsfTogYCA6ICcnKSArIChtYXJrZXIuc2hvd1ZhbHVlID8gYCR7bWFya2VyLnZhbHVlfWAgOiAnJyksXG4gICAgICAgIHZlYy5hZGQocG9zaXRpb24gPz8gdmVjKCksIG1hcmtlci5sYWJlbE9mZnNldCksXG4gICAgICAgICdsZWZ0JyxcbiAgICAgICAgbWFya2VyLnBhZGRpbmcgPz8gdGhpcy5vcHRpb25zLnBhZGRpbmcsXG4gICAgICAgIG1hcmtlci5mb250ID8/IHRoaXMub3B0aW9ucy5mb250LFxuICAgICAgICBtYXJrZXIuZm9yZWdyb3VuZENvbG91ciA/PyB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENvbG91cixcbiAgICAgICAgbWFya2VyLmJhY2tncm91bmRDb2xvdXIgPz8gdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvdXJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChtYXJrZXIuc2hvd01hcmtlcikge1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyO1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbnRleHQuZmlsbFN0eWxlID0gbWFya2VyLm1hcmtlckNvbG91ciBhcyBzdHJpbmc7XG4gICAgICBzd2l0Y2ggKG1hcmtlci5tYXJrZXJTdHlsZSkge1xuICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICB0aGlzLmRyYXdDcm9zcyhjb250ZXh0LCBwb3NpdGlvbiwgbWFya2VyLm1hcmtlclNpemUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICB0aGlzLmRyYXdQbHVzKGNvbnRleHQsIHBvc2l0aW9uLCBtYXJrZXIubWFya2VyU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgIHRoaXMuZHJhd0RvdChjb250ZXh0LCBwb3NpdGlvbiwgbWFya2VyLm1hcmtlclNpemUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0xhYmVsKFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgcG9zaXRpb246IHZlYyxcbiAgICBhbGlnbjogJ2xlZnQnIHwgJ3JpZ2h0JyxcbiAgICBwYWRkaW5nOiBudW1iZXIsXG4gICAgZm9udDogc3RyaW5nLFxuICAgIGZvcmVncm91bmRDb2xvdXI6IENvbG91cixcbiAgICBiYWNrZ3JvdW5kQ29sb3VyOiBDb2xvdXJcbiAgKTogdm9pZCB7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgIGNvbnN0IGJhY2tncm91bmRTaXplID0ge1xuICAgICAgd2lkdGg6IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGggKyBwYWRkaW5nICogMixcbiAgICAgIGhlaWdodDogdGhpcy5vcHRpb25zLmxpbmVIZWlnaHQgKyBwYWRkaW5nICogMlxuICAgIH07XG4gICAgY29uc3QgeCA9IGFsaWduID09PSAncmlnaHQnID8gKHBvc2l0aW9uLnggLSBiYWNrZ3JvdW5kU2l6ZS53aWR0aCkgOiBwb3NpdGlvbi54O1xuXG4gICAgLy8gRHJhdyBiYWNrZ3JvdW5kXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3VyIGFzIHN0cmluZztcbiAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgeCAtIHBhZGRpbmcsXG4gICAgICBwb3NpdGlvbi55IC0gcGFkZGluZyxcbiAgICAgIGJhY2tncm91bmRTaXplLndpZHRoLFxuICAgICAgYmFja2dyb3VuZFNpemUuaGVpZ2h0XG4gICAgKTtcblxuICAgIC8vIERyYXcgdGV4dFxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZm9yZWdyb3VuZENvbG91ciBhcyBzdHJpbmc7XG4gICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCBwb3NpdGlvbi55KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0Nyb3NzKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zaXRpb246IHZlYywgc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgIGNvbnRleHQubW92ZVRvKHBvc2l0aW9uLnggLSBoYWxmU2l6ZSwgcG9zaXRpb24ueSAtIGhhbGZTaXplKTtcbiAgICBjb250ZXh0LmxpbmVUbyhwb3NpdGlvbi54ICsgaGFsZlNpemUsIHBvc2l0aW9uLnkgKyBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCAtIGhhbGZTaXplLCBwb3NpdGlvbi55ICsgaGFsZlNpemUpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLnggKyBoYWxmU2l6ZSwgcG9zaXRpb24ueSAtIGhhbGZTaXplKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UGx1cyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiB2ZWMsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29uc3QgaGFsZlNpemUgPSBzaXplIC8gMjtcbiAgICBjb250ZXh0Lm1vdmVUbyhwb3NpdGlvbi54LCBwb3NpdGlvbi55IC0gaGFsZlNpemUpO1xuICAgIGNvbnRleHQubGluZVRvKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgKyBoYWxmU2l6ZSk7XG4gICAgY29udGV4dC5tb3ZlVG8ocG9zaXRpb24ueCAtIGhhbGZTaXplLCBwb3NpdGlvbi55KTtcbiAgICBjb250ZXh0LmxpbmVUbyhwb3NpdGlvbi54ICsgaGFsZlNpemUsIHBvc2l0aW9uLnkpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdEb3QoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3NpdGlvbjogdmVjLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuYXJjKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHNpemUgLyAyLCAwLCBNYXRoLlBJICogMik7XG4gICAgY29udGV4dC5maWxsKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qc29uJztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgQ29udGVudE1hbmFnZXIgZnJvbSAnLi9Db250ZW50TWFuYWdlcic7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi9EZWJ1Zyc7XG5pbXBvcnQgSW5wdXRNYW5hZ2VyIGZyb20gJy4vSW5wdXRNYW5hZ2VyJztcbmltcG9ydCBTdGF0ZU1hbmFnZXIgZnJvbSAnLi9TdGF0ZU1hbmFnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgcHJpdmF0ZSBsYXN0RnJhbWVUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgbGFzdEZyYW1lQ291bnRUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgZnJhbWVSYXRlOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGZyYW1lQ291bnQ6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIHN0YXRlTWFuYWdlcjogU3RhdGVNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZ2FtZVxuICAgKiBAcGFyYW0gY29udGFpbmVyIFRoZSBjYW52YXMgaW4gd2hpY2ggdGhlIGdhbWUgc2hvdWxkIGJlIHJlbmRlcmVkXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCkge1xuICAgIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQSB2YWxpZCBjb250YWluZXIgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZC4nKTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdjYW52YXMnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciBlbGVtZW50IG11c3QgYmUgYSBjYW52YXMuJyk7XG4gICAgfVxuICAgIHRoaXMuY2FudmFzID0gY29udGFpbmVyIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXG4gICAgLy8gR2V0IGEgMmQgY29udGV4dFxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjb250ZXh0ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBnZXQgYSAyZCBjb250ZXh0LlwiKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcmVzaXplXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuXG4gICAgLy8gSW5pdGlhbGlzZSBzdWJzeXN0ZW1zLi4uXG4gICAgRGVidWcuaW5pdGlhbGlzZSgpO1xuICAgIElucHV0TWFuYWdlci5pbml0aWFsaXNlKHRoaXMuY2FudmFzKTtcbiAgICB0aGlzLnN0YXRlTWFuYWdlciA9IG5ldyBTdGF0ZU1hbmFnZXIoKTtcblxuICAgIC8vIFRFU1RcbiAgICAvLyBDb250ZW50TWFuYWdlci50ZXN0KCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2l6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIC8vIERpc2FibGUgaW1hZ2Ugc21vb3RoaW5nIGZvciBwaXhlbGF0ZWQgZ3JhcGhpY3NcbiAgICB0aGlzLmNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGlzZSB0aGUgZ2FtZSBhbmQgc3RhcnQgcGxheWluZ1xuICAgKi9cbiAgcHVibGljIGluaXRpYWxpc2UoKTogdm9pZCB7XG5cbiAgICAvLyBMb2FkIGNvbnRlbnQgYXNzZXRzIGFuZCBwdXNoIGxvYWRpbmcgc3RhdGVcbiAgICAvLyAuLi5cblxuICAgIC8vIFN0YXJ0IHRoZSBnYW1lIGxvb3BcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aGlzLmxhc3RGcmFtZUNvdW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMubG9vcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBsb29wKCk6IHZvaWQge1xuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gTWF0aC5taW4obm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lLCBjb25zdGFudHMuRlBTX01JTik7XG5cbiAgICAvLyBDYWxjdWxhdGUgZnJhbWVyYXRlXG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID49IDEwMDApIHtcbiAgICAgIHRoaXMubGFzdEZyYW1lQ291bnRUaW1lID0gbm93O1xuICAgICAgdGhpcy5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICB0aGlzLmZyYW1lQ291bnQgPSAwO1xuICAgIH1cbiAgICB0aGlzLmZyYW1lQ291bnQrKztcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XG4gICAgaWYgKGNvbmZpZy5zaG93RlBTKSB7XG4gICAgICBEZWJ1Zy52YWx1ZSgnRlBTJywgdGhpcy5mcmFtZVJhdGUsIHsgYWxpZ246ICdyaWdodCcgfSk7XG4gICAgfVxuXG4gICAgLy8gRG8gZ2FtZSBsb29wXG4gICAgdGhpcy51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICAgIHRoaXMuZHJhdygpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc3RhdGVNYW5hZ2VyLnVwZGF0ZShkdCk7XG4gICAgSW5wdXRNYW5hZ2VyLnVwZGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3KCk6IHZvaWQge1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybShjb25maWcuc2NhbGVGYWN0b3IsIDAsIDAsIGNvbmZpZy5zY2FsZUZhY3RvciwgMCwgMCk7XG4gICAgdGhpcy5zdGF0ZU1hbmFnZXIuZHJhdyh0aGlzLmNvbnRleHQpO1xuICAgIERlYnVnLmRyYXcodGhpcy5jb250ZXh0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgS2V5IH0gZnJvbSBcIi4vZW51bXNcIjtcbmltcG9ydCB7IHZlYyB9IGZyb20gXCJAYmFzZW1lbnR1bml2ZXJzZS9jb21tb25qc1wiO1xuXG50eXBlIE1vdXNlU3RhdGUgPSB7XG4gIGJ1dHRvbjogYm9vbGVhbixcbiAgcG9zaXRpb246IHZlYyxcbiAgd2hlZWw6IG51bWJlclxufTtcblxudHlwZSBLZXlib2FyZFN0YXRlID0ge1xuICBba2V5IGluIEtleV0/OiBib29sZWFuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dE1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogSW5wdXRNYW5hZ2VyO1xuICBwcml2YXRlIGtleWJvYXJkU3RhdGU6IEtleWJvYXJkU3RhdGUgPSB7fTtcbiAgcHJpdmF0ZSBwcmV2aW91c0tleWJvYXJkU3RhdGU6IEtleWJvYXJkU3RhdGUgPSB7fTtcbiAgcHJpdmF0ZSBtb3VzZVN0YXRlOiBNb3VzZVN0YXRlID0geyBidXR0b246IGZhbHNlLCBwb3NpdGlvbjogdmVjKCksIHdoZWVsOiAwIH07XG4gIHByaXZhdGUgcHJldmlvdXNNb3VzZVN0YXRlOiBNb3VzZVN0YXRlID0geyBidXR0b246IGZhbHNlLCBwb3NpdGlvbjogdmVjKCksIHdoZWVsOiAwIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS5idXR0b24gPSB0cnVlO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IHRydWU7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbiA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS5wb3NpdGlvbi54ID0gZS5vZmZzZXRYO1xuICAgICAgdGhpcy5tb3VzZVN0YXRlLnBvc2l0aW9uLnkgPSBlLm9mZnNldFk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcbiAgICAgIHRoaXMua2V5Ym9hcmRTdGF0ZVtlLmNvZGUgYXMgS2V5XSA9IHRydWU7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG4gICAgICB0aGlzLmtleWJvYXJkU3RhdGVbZS5jb2RlIGFzIEtleV0gPSBmYWxzZTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBlID0+IHtcbiAgICAgIHRoaXMubW91c2VTdGF0ZS53aGVlbCA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIHRoZSBpbnB1dCBtYW5hZ2VyIGZvciBtYW5hZ2luZyBtb3VzZSBhbmQga2V5Ym9hcmQgaW5wdXRcbiAgICogQHBhcmFtIGNhbnZhcyBUaGUgZ2FtZSBjYW52YXNcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGlzZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogdm9pZCB7XG4gICAgSW5wdXRNYW5hZ2VyLmluc3RhbmNlID0gbmV3IElucHV0TWFuYWdlcihjYW52YXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogSW5wdXRNYW5hZ2VyIHtcbiAgICBpZiAoSW5wdXRNYW5hZ2VyLmluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5wdXQgbWFuYWdlciBub3QgcHJvcGVybHkgaW5pdGlhbGlzZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIElucHV0TWFuYWdlci5pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHN0YXRlIG9mIHRoZSBpbnB1dCBkZXZpY2VzXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlucHV0LnByZXZpb3VzS2V5Ym9hcmRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGlucHV0LmtleWJvYXJkU3RhdGUpO1xuICAgIGlucHV0LnByZXZpb3VzTW91c2VTdGF0ZSA9IHtcbiAgICAgIGJ1dHRvbjogaW5wdXQubW91c2VTdGF0ZS5idXR0b24sXG4gICAgICBwb3NpdGlvbjogdmVjLmNweShpbnB1dC5tb3VzZVN0YXRlLnBvc2l0aW9uKSxcbiAgICAgIHdoZWVsOiAwXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBpcyBjdXJyZW50bHkgcHJlc3NlZCBkb3duXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBjaGVjaywgb3IgYW55IGtleSBpZiBub3Qgc3BlY2lmaWVkXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGtleURvd24oa2V5PzogS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBrZXkgaXMgZG93blxuICAgIGlmIChrZXkgPT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgayBpbiBpbnB1dC5rZXlib2FyZFN0YXRlKSB7XG4gICAgICAgIGlmIChpbnB1dC5rZXlib2FyZFN0YXRlW2sgYXMgS2V5XSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIWlucHV0LmtleWJvYXJkU3RhdGVba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBoYXMgYmVlbiBwcmVzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBjaGVjaywgb3IgYW55IGtleSBpZiBub3Qgc3BlY2lmaWVkXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGtleVByZXNzZWQoa2V5PzogS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBrZXkgd2FzIHByZXNzZWRcbiAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgIGZvciAobGV0IGsgaW4gaW5wdXQua2V5Ym9hcmRTdGF0ZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5wdXQua2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV0gJiZcbiAgICAgICAgICAoXG4gICAgICAgICAgICAhKGsgaW4gaW5wdXQucHJldmlvdXNLZXlib2FyZFN0YXRlKSB8fFxuICAgICAgICAgICAgIWlucHV0LnByZXZpb3VzS2V5Ym9hcmRTdGF0ZVtrIGFzIEtleV1cbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIWlucHV0LmtleWJvYXJkU3RhdGVba2V5XSAmJiAhaW5wdXQucHJldmlvdXNLZXlib2FyZFN0YXRlW2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBrZXkgaGFzIGJlZW4gcmVsZWFzZWQgc2luY2UgdGhlIGxhc3QgZnJhbWVcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGNoZWNrLCBvciBhbnkga2V5IGlmIG5vdCBzcGVjaWZpZWRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMga2V5UmVsZWFzZWQoa2V5PzogS2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIENoZWNrIGlmIGFueSBrZXkgd2FzIHJlbGVhc2VkXG4gICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICBmb3IgKGxldCBrIGluIGlucHV0LmtleWJvYXJkU3RhdGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpbnB1dC5rZXlib2FyZFN0YXRlW2sgYXMgS2V5XSAmJlxuICAgICAgICAgICEhaW5wdXQucHJldmlvdXNLZXlib2FyZFN0YXRlW2sgYXMgS2V5XVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIWlucHV0LmtleWJvYXJkU3RhdGVba2V5XSAmJiAhIWlucHV0LnByZXZpb3VzS2V5Ym9hcmRTdGF0ZVtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSBwcmVzc2VkIGRvd25cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbW91c2VEb3duKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlucHV0ID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuICEhaW5wdXQubW91c2VTdGF0ZS5idXR0b247XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBtb3VzZSBidXR0b24gaGFzIGJlZW4gcHJlc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZVByZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaW5wdXQgPSBJbnB1dE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gISFpbnB1dC5tb3VzZVN0YXRlLmJ1dHRvbiAmJiAhaW5wdXQucHJldmlvdXNNb3VzZVN0YXRlLmJ1dHRvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG1vdXNlIGJ1dHRvbiBoYXMgYmVlbiByZWxlYXNlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZVJlbGVhc2VkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlucHV0ID0gSW5wdXRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuICFpbnB1dC5tb3VzZVN0YXRlLmJ1dHRvbiAmJiAhIWlucHV0LnByZXZpb3VzTW91c2VTdGF0ZS5idXR0b247XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIG1vdXNld2hlZWwgaXMgc2Nyb2xsaW5nIHVwXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlV2hlZWxVcCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBpbnB1dC5tb3VzZVN0YXRlLndoZWVsID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgbW91c2V3aGVlbCBpcyBzY3JvbGxpbmcgZG93blxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBtb3VzZVdoZWVsRG93bigpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBpbnB1dC5tb3VzZVN0YXRlLndoZWVsIDwgMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgbW91c2UgcG9zaXRpb24gaW4gc2NyZWVuLXNwYWNlXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIG1vdXNlUG9zaXRpb24oKTogdmVjIHtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBpbnB1dC5tb3VzZVN0YXRlLnBvc2l0aW9uO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUnO1xuaW1wb3J0IHsgU3RhdGVUcmFuc2l0aW9uVHlwZSB9IGZyb20gJy4vZW51bXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRlczogU3RhdGVbXSA9IFtdO1xuXG4gIHB1YmxpYyBwdXNoKHN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICB0aGlzLnN0YXRlcy5wdXNoKHN0YXRlKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgc3RhdGUgaGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBzdGF0ZSBtYW5hZ2VyXG4gICAgc3RhdGUuc3RhdGVNYW5hZ2VyID0gdGhpcztcblxuICAgIC8vIEluaXRpYWxpc2UgdGhlIHN0YXRlIGFuZCBzdGFydCB0cmFuc2l0aW9uaW5nIGluXG4gICAgc3RhdGUuaW5pdGlhbGlzZSgpO1xuICAgIHN0YXRlLnRyYW5zaXRpb25JbigpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBwb3AoKTogU3RhdGUgfCBudWxsIHtcbiAgICBpZiAodGhpcy5zdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGxhc3Q6IG51bWJlciA9IHRoaXMuc3RhdGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgdG9wLW1vc3Qgc3RhdGUgdGhhdCBpc24ndCBjdXJyZW50bHkgdHJhbnNpdGlvbmluZyBvdXRcbiAgICAgIHdoaWxlIChsYXN0ID4gMCAmJiB0aGlzLnN0YXRlc1tsYXN0XS50cmFuc2l0aW9uVHlwZSA9PT0gU3RhdGVUcmFuc2l0aW9uVHlwZS5PdXQpIHtcbiAgICAgICAgbGFzdC0tO1xuICAgICAgfVxuICAgICAgaWYgKGxhc3QgPj0gMCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGVzW2xhc3RdO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRyYW5zaXRpb25pbmcgb3V0XG4gICAgICAgIHN0YXRlLnRyYW5zaXRpb25PdXQoKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlcy5mb3JFYWNoKHN0YXRlID0+IHtcbiAgICAgIGlmIChzdGF0ZS50cmFuc2l0aW9uVHlwZSAhPT0gU3RhdGVUcmFuc2l0aW9uVHlwZS5PdXQpIHtcbiAgICAgICAgc3RhdGUudHJhbnNpdGlvbk91dCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHRvcC1tb3N0IHN0YXRlIHRoYXQgaXNuJ3QgY3VycmVudGx5IHRyYW5zaXRpb25pbmcgb3V0XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5zdGF0ZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlc1tpXS50cmFuc2l0aW9uVHlwZSAhPT0gU3RhdGVUcmFuc2l0aW9uVHlwZS5PdXQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlc1tpXS51cGRhdGUoZHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBhbGwgc3RhdGUgdHJhbnNpdGlvbnNcbiAgICAgIHRoaXMuc3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgICBzdGF0ZS51cGRhdGVUcmFuc2l0aW9uKGR0KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgYW55IGRpc3Bvc2VkIHN0YXRlc1xuICAgICAgdGhpcy5zdGF0ZXMgPSB0aGlzLnN0YXRlcy5maWx0ZXIoc3RhdGUgPT4gIXN0YXRlLmRpc3Bvc2VkKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZHJhd1N0YXRlcyA9IFt0aGlzLnN0YXRlc1t0aGlzLnN0YXRlcy5sZW5ndGggLSAxXV07XG4gICAgICBsZXQgdHJhbnNwYXJlbnRTdGF0ZUluZGV4ID0gdGhpcy5zdGF0ZXMubGVuZ3RoIC0gMTtcblxuICAgICAgLy8gQ3JlYXRlIGEgbGlzdCBvZiBzdGF0ZXMgdGhhdCBuZWVkIHRvIGJlIGRyYXduICh0cmFuc3BhcmVudCBzdGF0ZXMgYWxzbyBkaXNwbGF5XG4gICAgICAvLyB0aGUgc3RhdGUgdW5kZXJuZWF0aCB0aGVtIGluIHRoZSBzdGFjaylcbiAgICAgIHdoaWxlIChcbiAgICAgICAgdHJhbnNwYXJlbnRTdGF0ZUluZGV4ID4gMCAmJlxuICAgICAgICB0aGlzLnN0YXRlc1t0cmFuc3BhcmVudFN0YXRlSW5kZXhdLnRyYW5zcGFyZW50XG4gICAgICApIHtcbiAgICAgICAgZHJhd1N0YXRlcy5wdXNoKHRoaXMuc3RhdGVzWy0tdHJhbnNwYXJlbnRTdGF0ZUluZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERyYXcgc3RhdGVzIGluIHJldmVyc2Ugb3JkZXIgaS5lLiBib3R0b20gdG8gdG9wXG4gICAgICBmb3IgKGxldCBpID0gZHJhd1N0YXRlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgZHJhd1N0YXRlc1tpXS5kcmF3KGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEZQU19NSU4gPSAxIC8gMzA7XG4iLCJleHBvcnQgZW51bSBTdGF0ZVRyYW5zaXRpb25UeXBlIHtcbiAgSW4sXG4gIE91dCxcbiAgTm9uZVxufVxuXG5leHBvcnQgZW51bSBLZXkge1xuICBVcCA9ICdBcnJvd1VwJyxcbiAgRG93biA9ICdBcnJvd0Rvd24nLFxuICBMZWZ0ID0gJ0Fycm93TGVmdCcsXG4gIFJpZ2h0ID0gJ0Fycm93UmlnaHQnXG59XG4iLCJpbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBjb25zdCBnYW1lID0gbmV3IEdhbWUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUnKSk7XG4gIGdhbWUuaW5pdGlhbGlzZSgpO1xufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=